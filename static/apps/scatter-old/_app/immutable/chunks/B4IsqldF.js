const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./a6iZfwMD.js","./BQFD5lC_.js","./8pmuhdS_.js","./CXdbV3RU.js","./DRgBKl7J.js","./BJQIRh4O.js","./DP_IGs4f.js","../assets/particle-emitter.BA2FXTRa.css","./C2GHuDhf.js","./5ncN7xJC.js","./BmeXAgbV.js"])))=>i.map(i=>d[i]);
var ls=n=>{throw TypeError(n)};var Gr=(n,e,t)=>e.has(n)||ls("Cannot "+t);var ye=(n,e,t)=>(Gr(n,e,"read from private field"),t?t.call(n):e.get(n)),je=(n,e,t)=>e.has(n)?ls("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),un=(n,e,t,r)=>(Gr(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),Cn=(n,e,t)=>(Gr(n,e,"access private method"),t);import{l as Zi,c as I,a as g,t as L,s as ue,o as Mo,b as Ke}from"./BJQIRh4O.js";import"./8pmuhdS_.js";import{R as ia,Q as Qi,I as el,l as it,m as la,ar as ua,as as tl,at as ca,n as da,q as fa,o as Bo,v as Zt,U as nl,W as Fr,ac as rl,ae as ol,i as f,$ as ge,T as sl,V as us,X as Wr,al,Y as ha,au as ma,ap as pa,D as il,K as Dt,av as zr,y as ll,O as cs,aw as $o,ax as ul,ay as Do,az as ds,aA as cl,ao as dl,aB as fl,aC as hl,aD as ml,aj as pl,w as _l,g as Oo,x as Er,j as vl,A as N,aE as yl,H as gl,F as Ee,p as k,aF as In,a as M,aG as Vt,aH as Yt,f as w,c as te,r as ee,t as ae,k as b,aa as fs,a8 as hs,s as x,G as Z,aI as lt,d as be,aJ as Te,aK as bl,aL as ms}from"./CXdbV3RU.js";import{i as Ie}from"./CWfjYAS7.js";import{p as gn,r as me,i as Q,a as ne,_ as ps,s as q}from"./DP_IGs4f.js";import{ah as St,ai as Co,g as V,aj as fe,k as $,ak as wl,al as Sl,am as Xt,an as xl,ao as Al,s as Ln,j as _e,ap as xt,aq as Tl,ar as Pl,h as $t,as as _a,at as El,au as _s,av as Rn,aw as vs,ax as se,b as ut,ay as ys,az as Il,aA as Ll,aB as kl,t as Ml,aC as Bl,aD as $l,aE as Dl,aF as Ol,aG as Cl,aH as yn,e as Ro,E as bn,a as va,C as Ir,a9 as lr,aa as ur,a7 as Hr,D as fo,aI as Rl,aJ as Nl,aK as ya,aL as Gl,aM as Fl,w as Wl,aN as zl,aO as ga,aP as Hl,aQ as Ul,aR as jl,aS as Kl,$ as Vl,K as gs,aT as Yl,aU as Xl,aV as ql,aW as ba,aX as Jl,aY as we,d as Ne,aZ as Zl,A as Ql,a_ as eu,a$ as tu,b0 as Be,_ as Ut,b1 as nu,b2 as cn,b3 as Ur,b4 as ru}from"./BQFD5lC_.js";import{b as wa,c as Sa}from"./Dt4I5jb8.js";const ou=[];function Lr(n,e=!1){return sr(n,new Map,"",ou)}function sr(n,e,t,r,o=null){if(typeof n=="object"&&n!==null){var i=e.get(n);if(i!==void 0)return i;if(n instanceof Map)return new Map(n);if(n instanceof Set)return new Set(n);if(ia(n)){var l=Array(n.length);e.set(n,l),o!==null&&e.set(o,l);for(var u=0;u<n.length;u+=1){var d=n[u];u in n&&(l[u]=sr(d,e,t,r))}return l}if(Qi(n)===el){l={},e.set(n,l),o!==null&&e.set(o,l);for(var h in n)l[h]=sr(n[h],e,t,r);return l}if(n instanceof Date)return structuredClone(n);if(typeof n.toJSON=="function")return sr(n.toJSON(),e,t,r,n)}if(n instanceof EventTarget)return n;try{return structuredClone(n)}catch{return n}}function su(n,e,t){it&&la();var r=n,o=nl,i,l=ua()?tl:ca;da(()=>{l(o,o=e())&&(i&&fa(i),i=Bo(()=>t(r)))}),it&&(r=Zt)}function gt(n,e){return e}function au(n,e,t,r){for(var o=[],i=e.length,l=0;l<i;l++)cl(e[l].e,o,!0);var u=i>0&&o.length===0&&t!==null;if(u){var d=t.parentNode;dl(d),d.append(t),r.clear(),Lt(n,e[0].prev,e[i-1].next)}fl(o,()=>{for(var h=0;h<i;h++){var p=e[h];u||(r.delete(p.k),Lt(n,p.prev,p.next)),hl(p.e,!u)}})}function ct(n,e,t,r,o,i=null){var l=n,u={flags:e,items:new Map,first:null},d=(e&ma)!==0;if(d){var h=n;l=it?Fr(rl(h)):h.appendChild(ol())}it&&la();var p=null,s=!1,a=ge(()=>{var c=t();return ia(c)?c:c==null?[]:pa(c)});da(()=>{var c=f(a),m=c.length;if(s&&m===0)return;s=m===0;let _=!1;if(it){var v=l.data===sl;v!==(m===0)&&(l=us(),Fr(l),Wr(!1),_=!0)}if(it){for(var y=null,S,A=0;A<m;A++){if(Zt.nodeType===8&&Zt.data===al){l=Zt,_=!0,Wr(!1);break}var P=c[A],T=r(P,A);S=xa(Zt,u,y,null,P,T,A,o,e,t),u.items.set(T,S),y=S}m>0&&Fr(us())}it||iu(c,u,l,o,e,r,t),i!==null&&(m===0?p?ha(p):p=Bo(()=>i(l)):p!==null&&fa(p,()=>{p=null})),_&&Wr(!0),f(a)}),it&&(l=Zt)}function iu(n,e,t,r,o,i,l){var B,E,O,W;var u=(o&ul)!==0,d=(o&(Do|$o))!==0,h=n.length,p=e.items,s=e.first,a=s,c,m=null,_,v=[],y=[],S,A,P,T;if(u)for(T=0;T<h;T+=1)S=n[T],A=i(S,T),P=p.get(A),P!==void 0&&((B=P.a)==null||B.measure(),(_??(_=new Set)).add(P));for(T=0;T<h;T+=1){if(S=n[T],A=i(S,T),P=p.get(A),P===void 0){var C=a?a.e.nodes_start:t;m=xa(C,e,m,m===null?e.first:m.next,S,A,T,r,o,l),p.set(A,m),v=[],y=[],a=m.next;continue}if(d&&lu(P,S,T,o),(P.e.f&zr)!==0&&(ha(P.e),u&&((E=P.a)==null||E.unfix(),(_??(_=new Set)).delete(P))),P!==a){if(c!==void 0&&c.has(P)){if(v.length<y.length){var D=y[0],j;m=D.prev;var F=v[0],X=v[v.length-1];for(j=0;j<v.length;j+=1)bs(v[j],D,t);for(j=0;j<y.length;j+=1)c.delete(y[j]);Lt(e,F.prev,X.next),Lt(e,m,F),Lt(e,X,D),a=D,m=X,T-=1,v=[],y=[]}else c.delete(P),bs(P,a,t),Lt(e,P.prev,P.next),Lt(e,P,m===null?e.first:m.next),Lt(e,m,P),m=P;continue}for(v=[],y=[];a!==null&&a.k!==A;)(a.e.f&zr)===0&&(c??(c=new Set)).add(a),y.push(a),a=a.next;if(a===null)continue;P=a}v.push(P),m=P,a=P.next}if(a!==null||c!==void 0){for(var H=c===void 0?[]:pa(c);a!==null;)(a.e.f&zr)===0&&H.push(a),a=a.next;var U=H.length;if(U>0){var R=(o&ma)!==0&&h===0?t:null;if(u){for(T=0;T<U;T+=1)(O=H[T].a)==null||O.measure();for(T=0;T<U;T+=1)(W=H[T].a)==null||W.fix()}au(e,H,R,p)}}u&&ll(()=>{var J;if(_!==void 0)for(P of _)(J=P.a)==null||J.apply()}),cs.first=e.first&&e.first.e,cs.last=m&&m.e}function lu(n,e,t,r){(r&Do)!==0&&ds(n.v,e),(r&$o)!==0?ds(n.i,t):n.i=t}function xa(n,e,t,r,o,i,l,u,d,h){var p=(d&Do)!==0,s=(d&ml)===0,a=p?s?il(o):Dt(o):o,c=(d&$o)===0?l:Dt(l),m={i:c,v:a,k:i,a:null,e:null,prev:t,next:r};try{return m.e=Bo(()=>u(n,a,c,h),it),m.e.prev=t&&t.e,m.e.next=r&&r.e,t===null?e.first=m:(t.next=m,t.e.next=m.e),r!==null&&(r.prev=m,r.e.prev=m.e),m}finally{}}function bs(n,e,t){for(var r=n.next?n.next.e.nodes_start:t,o=e?e.e.nodes_start:t,i=n.e.nodes_start;i!==r;){var l=pl(i);o.before(i),i=l}}function Lt(n,e,t){e===null?n.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}function Aa(n,e,t){_l(()=>{var r=Oo(()=>e(n,t==null?void 0:t())||{});if(t&&(r!=null&&r.update)){var o=!1,i={};Er(()=>{var l=t();vl(l),o&&ca(i,l)&&(i=l,r.update(l))}),o=!0}if(r!=null&&r.destroy)return()=>r.destroy()})}function uu(n,e,t=e){var r=ua();Zi(n,"input",o=>{var i=o?n.defaultValue:n.value;if(i=jr(n)?Kr(i):i,t(i),r&&i!==(i=e())){var l=n.selectionStart,u=n.selectionEnd;n.value=i??"",u!==null&&(n.selectionStart=l,n.selectionEnd=Math.min(u,n.value.length))}}),(it&&n.defaultValue!==n.value||Oo(e)==null&&n.value)&&t(jr(n)?Kr(n.value):n.value),Er(()=>{var o=e();jr(n)&&o===Kr(n.value)||n.type==="date"&&!o&&!n.value||o!==n.value&&(n.value=o??"")})}function jr(n){var e=n.type;return e==="number"||e==="range"}function Kr(n){return n===""?null:+n}function Fe(n){var e=Dt(0);return function(){return arguments.length===1?(N(e,f(e)+1),arguments[0]):(f(e),n())}}function cu(n){N(n,n.v+1)}function du(n){let e=0,t=Dt(0),r;return()=>{yl()&&(f(t),Er(()=>(e===0&&(r=Oo(()=>n(()=>cu(t)))),e+=1,()=>{gl().then(()=>{e-=1,e===0&&(r==null||r(),r=void 0)})})))}}function fu(){const n=new Set,e=u=>(n.add(u),()=>n.delete(u)),t=u=>e(d=>{const h=u==null?void 0:u[d.type];if(h)return h(d)});return{eventEmitter:{subscribeOnMount:u=>{Ee(()=>t(u))},broadcast:u=>{n.forEach(d=>{d(u)})},broadcastAsync:u=>{const d=()=>Array.from(n).map(h=>h(u));return Promise.all(d())}}}}function hu(n,e){k(e,!1);const t=St(),r=["Space","ArrowUp","ArrowDown"],o=["input","textarea","select"],i=d=>{var h,p;return!o.includes((p=(h=d==null?void 0:d.target)==null?void 0:h.tagName)==null?void 0:p.toLowerCase())};function l(d){if(i(d)){const p=d.key===" "?"Space":d.key;r.includes(p)&&d.preventDefault(),p&&t.eventEmitter.broadcast({type:"hotKey",key:p,action:"keyDown"})}}function u(d){if(i(d)){const p=d.key===" "?"Space":d.key;r.includes(p)&&d.preventDefault(),p&&t.eventEmitter.broadcast({type:"hotKey",key:p,action:"keyUp"})}}Ee(()=>{window.addEventListener("keydown",l),window.addEventListener("keyup",u)}),In(()=>{window.removeEventListener("keydown",l),window.removeEventListener("keyup",u)}),Ie(),M()}function mu(n,e){k(e,!1);const t=()=>{V.autoSpinsCounter=0,V.isSpaceHold=!0,fe.updateIsTurbo(!0,{persistent:!0})},r=()=>{V.isSpaceHold=!1,fe.updateIsTurbo(!1,{persistent:!0})};Ie(),Co(n,{hotkey:"Space",onhold:t,onholdend:r}),M()}function No(n,e){k(e,!0),Ee(()=>e.onmount()),M()}const Ta="@@board",pu=n=>{Vt(Ta,n)},_u=()=>Yt(Ta);function cr(n,e){k(e,!0),pu({animate:e.animate});var t=I(),r=w(t);$(r,()=>e.children),g(n,t),M()}var Vr={},Yr={},ws;function vu(){return ws||(ws=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.errorMessages=n.ErrorType=void 0;var e;(function(t){t.MalformedUnicode="MALFORMED_UNICODE",t.MalformedHexadecimal="MALFORMED_HEXADECIMAL",t.CodePointLimit="CODE_POINT_LIMIT",t.OctalDeprecation="OCTAL_DEPRECATION",t.EndOfString="END_OF_STRING"})(e=n.ErrorType||(n.ErrorType={})),n.errorMessages=new Map([[e.MalformedUnicode,"malformed Unicode character escape sequence"],[e.MalformedHexadecimal,"malformed hexadecimal character escape sequence"],[e.CodePointLimit,"Unicode codepoint must not be greater than 0x10FFFF in escape sequence"],[e.OctalDeprecation,'"0"-prefixed octal literals and octal escape sequences are deprecated; for octal literals use the "0o" prefix instead'],[e.EndOfString,"malformed escape sequence at end of string"]])}(Yr)),Yr}var Ss;function yu(){return Ss||(Ss=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.unraw=n.errorMessages=n.ErrorType=void 0;const e=vu();Object.defineProperty(n,"ErrorType",{enumerable:!0,get:function(){return e.ErrorType}}),Object.defineProperty(n,"errorMessages",{enumerable:!0,get:function(){return e.errorMessages}});function t(c){return!c.match(/[^a-f0-9]/i)?parseInt(c,16):NaN}function r(c,m,_){const v=t(c);if(Number.isNaN(v)||_!==void 0&&_!==c.length)throw new SyntaxError(e.errorMessages.get(m));return v}function o(c){const m=r(c,e.ErrorType.MalformedHexadecimal,2);return String.fromCharCode(m)}function i(c,m){const _=r(c,e.ErrorType.MalformedUnicode,4);if(m!==void 0){const v=r(m,e.ErrorType.MalformedUnicode,4);return String.fromCharCode(_,v)}return String.fromCharCode(_)}function l(c){return c.charAt(0)==="{"&&c.charAt(c.length-1)==="}"}function u(c){if(!l(c))throw new SyntaxError(e.errorMessages.get(e.ErrorType.MalformedUnicode));const m=c.slice(1,-1),_=r(m,e.ErrorType.MalformedUnicode);try{return String.fromCodePoint(_)}catch(v){throw v instanceof RangeError?new SyntaxError(e.errorMessages.get(e.ErrorType.CodePointLimit)):v}}function d(c,m=!1){if(m)throw new SyntaxError(e.errorMessages.get(e.ErrorType.OctalDeprecation));const _=parseInt(c,8);return String.fromCharCode(_)}const h=new Map([["b","\b"],["f","\f"],["n",`
`],["r","\r"],["t","	"],["v","\v"],["0","\0"]]);function p(c){return h.get(c)||c}const s=/\\(?:(\\)|x([\s\S]{0,2})|u(\{[^}]*\}?)|u([\s\S]{4})\\u([^{][\s\S]{0,3})|u([\s\S]{0,4})|([0-3]?[0-7]{1,2})|([\s\S])|$)/g;function a(c,m=!1){return c.replace(s,function(_,v,y,S,A,P,T,C,D){if(v!==void 0)return"\\";if(y!==void 0)return o(y);if(S!==void 0)return u(S);if(A!==void 0)return i(A,P);if(T!==void 0)return i(T);if(C==="0")return"\0";if(C!==void 0)return d(C,!m);if(D!==void 0)return p(D);throw new SyntaxError(e.errorMessages.get(e.ErrorType.EndOfString))})}n.unraw=a,n.default=a}(Vr)),Vr}var Pa=yu();const kt=n=>typeof n=="string",gu=n=>typeof n=="function",xs=new Map,Ea="en";function Go(n){return[...Array.isArray(n)?n:[n],Ea]}function Fo(n,e,t){const r=Go(n);t||(t="default");let o;if(typeof t=="string")switch(o={day:"numeric",month:"short",year:"numeric"},t){case"full":o.weekday="long";case"long":o.month="long";break;case"short":o.month="numeric";break}else o=t;return dr(()=>fr("date",r,t),()=>new Intl.DateTimeFormat(r,o)).format(kt(e)?new Date(e):e)}function bu(n,e,t){let r;if(t||(t="default"),typeof t=="string")switch(r={second:"numeric",minute:"numeric",hour:"numeric"},t){case"full":case"long":r.timeZoneName="short";break;case"short":delete r.second}else r=t;return Fo(n,e,r)}function ho(n,e,t){const r=Go(n);return dr(()=>fr("number",r,t),()=>new Intl.NumberFormat(r,t)).format(e)}function As(n,e,t,{offset:r=0,...o}){const i=Go(n),l=e?dr(()=>fr("plural-ordinal",i),()=>new Intl.PluralRules(i,{type:"ordinal"})):dr(()=>fr("plural-cardinal",i),()=>new Intl.PluralRules(i,{type:"cardinal"}));return o[t]??o[l.select(t-r)]??o.other}function dr(n,e){const t=n();let r=xs.get(t);return r||(r=e(),xs.set(t,r)),r}function fr(n,e,t){const r=e.join("-");return`${n}-${r}-${JSON.stringify(t)}`}const Ia=/\\u[a-fA-F0-9]{4}|\\x[a-fA-F0-9]{2}/,La="%__lingui_octothorpe__%",wu=(n,e,t={})=>{const r=e||n,o=l=>typeof l=="object"?l:t[l],i=(l,u)=>{const d=Object.keys(t).length?o("number"):void 0,h=ho(r,l,d);return u.replace(new RegExp(La,"g"),h)};return{plural:(l,u)=>{const{offset:d=0}=u,h=As(r,!1,l,u);return i(l-d,h)},selectordinal:(l,u)=>{const{offset:d=0}=u,h=As(r,!0,l,u);return i(l-d,h)},select:Su,number:(l,u)=>ho(r,l,o(u)||{style:u}),date:(l,u)=>Fo(r,l,o(u)||u),time:(l,u)=>bu(r,l,o(u)||u)}},Su=(n,e)=>e[n]??e.other;function xu(n,e,t){return(r={},o)=>{const i=wu(e,t,o),l=(d,h=!1)=>Array.isArray(d)?d.reduce((p,s)=>{if(s==="#"&&h)return p+La;if(kt(s))return p+s;const[a,c,m]=s;let _={};c==="plural"||c==="selectordinal"||c==="select"?Object.entries(m).forEach(([y,S])=>{_[y]=l(S,c==="plural"||c==="selectordinal")}):_=m;let v;if(c){const y=i[c];v=y(r[a],_)}else v=r[a];return v==null?p:p+v},""):d,u=l(n);return kt(u)&&Ia.test(u)?Pa.unraw(u):kt(u)?u:u?String(u):""}}var Au=Object.defineProperty,Tu=(n,e,t)=>e in n?Au(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Pu=(n,e,t)=>(Tu(n,e+"",t),t);let Eu=class{constructor(){Pu(this,"_events",{})}on(e,t){var r;return(r=this._events)[e]??(r[e]=[]),this._events[e].push(t),()=>this.removeListener(e,t)}removeListener(e,t){const r=this._getListeners(e);if(!r)return;const o=r.indexOf(t);~o&&r.splice(o,1)}emit(e,...t){const r=this._getListeners(e);r&&r.map(o=>o.apply(this,t))}_getListeners(e){const t=this._events[e];return Array.isArray(t)?t:!1}};var Iu=Object.defineProperty,Lu=(n,e,t)=>e in n?Iu(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Nt=(n,e,t)=>(Lu(n,typeof e!="symbol"?e+"":e,t),t);let ku=class extends Eu{constructor(e){super(),Nt(this,"_locale",""),Nt(this,"_locales"),Nt(this,"_localeData",{}),Nt(this,"_messages",{}),Nt(this,"_missing"),Nt(this,"_messageCompiler"),Nt(this,"t",this._.bind(this)),e.missing!=null&&(this._missing=e.missing),e.messages!=null&&this.load(e.messages),e.localeData!=null&&this.loadLocaleData(e.localeData),(typeof e.locale=="string"||e.locales)&&this.activate(e.locale??Ea,e.locales)}get locale(){return this._locale}get locales(){return this._locales}get messages(){return this._messages[this._locale]??{}}get localeData(){return this._localeData[this._locale]??{}}_loadLocaleData(e,t){const r=this._localeData[e];r?Object.assign(r,t):this._localeData[e]=t}setMessagesCompiler(e){return this._messageCompiler=e,this}loadLocaleData(e,t){typeof e=="string"?this._loadLocaleData(e,t):Object.keys(e).forEach(r=>this._loadLocaleData(r,e[r])),this.emit("change")}_load(e,t){const r=this._messages[e];r?Object.assign(r,t):this._messages[e]=t}load(e,t){typeof e=="string"&&typeof t=="object"?this._load(e,t):Object.entries(e).forEach(([r,o])=>this._load(r,o)),this.emit("change")}loadAndActivate({locale:e,locales:t,messages:r}){this._locale=e,this._locales=t||void 0,this._messages[this._locale]=r,this.emit("change")}activate(e,t){this._locale=e,this._locales=t,this.emit("change")}_(e,t,r){if(!this.locale)throw new Error("Lingui: Attempted to call a translation function without setting a locale.\nMake sure to call `i18n.activate(locale)` before using Lingui functions.\nThis issue may also occur due to a race condition in your initialization logic.");let o=r==null?void 0:r.message;e||(e=""),kt(e)||(t=e.values||t,o=e.message,e=e.id);const i=this.messages[e],l=i===void 0,u=this._missing;if(u&&l)return gu(u)?u(this._locale,e):u;l&&this.emit("missing",{id:e,locale:this._locale});let d=i||o||e;return kt(d)&&(this._messageCompiler?d=this._messageCompiler(d):console.warn(`Uncompiled message detected! Message:

> ${d}

That means you use raw catalog or your catalog doesn't have a translation for the message and fallback was used.
ICU features such as interpolation and plurals will not work properly for that message. 

Please compile your catalog first. 
`)),kt(d)&&Ia.test(d)?JSON.parse(`"${d}"`):kt(d)?d:xu(d,this._locale,this._locales)(t,r==null?void 0:r.formats)}date(e,t){return Fo(this._locales||this._locale,e,t)}number(e,t){return ho(this._locales||this._locale,e,t)}};function Mu(n={}){return new ku(n)}const Bu=Mu();var $u=L("<button><!></button>");function Ot(n,e){const t=gn(e,"disabled",3,!1),r=me(e,["$$slots","$$events","$$legacy","debug","disabled","onclick","children"]);var o=$u();let i;var l=te(o);$(l,()=>e.children),ee(o),ae(()=>i=wl(o,i,{class:"button",disabled:t(),onclick:e.onclick,...r,[Sl]:{debug:e.debug,disabled:t()}},"svelte-vbgtis")),g(n,o)}var Du=L('<div class="wrap svelte-15ij6hr"><div class="content-wrap svelte-15ij6hr"><div></div></div></div>');function kr(n,e){k(e,!0);var t=Du(),r=te(t),o=te(r);let i;ct(o,22,()=>e.options,l=>l,(l,u,d)=>{Ot(l,{onclick:()=>{e.onchange(u)},children:(h,p)=>{var s=I(),a=w(s);$(a,()=>e.option,()=>({option:u,index:f(d)})),g(h,s)},$$slots:{default:!0}})}),ee(o),ee(r),ee(t),ae(()=>i=Xt(o,1,"grid svelte-15ij6hr",null,i,{miniSize:e.miniSize})),g(n,t),M()}function Ou(n,e){k(e,!0);const t=b(()=>e.options.findIndex(h=>h===e.value)),r=b(()=>f(t)===0),o=b(()=>f(t)===e.options.length-1),i=()=>e.onchange(e.options[f(t)-1]),l=()=>e.onchange(e.options[f(t)+1]);var u=I(),d=w(u);$(d,()=>e.children,()=>({disabledDown:f(r),disabledUp:f(o),toggleDown:i,toggleUp:l})),g(n,u),M()}var Ts=!1,nn,Sn,Tr,Pr,ka;const os=class os extends Date{constructor(...t){super(...t);je(this,Pr);je(this,nn,Dt(super.getTime()));je(this,Sn,new Map);je(this,Tr,fs);Ts||Cn(this,Pr,ka).call(this)}};nn=new WeakMap,Sn=new WeakMap,Tr=new WeakMap,Pr=new WeakSet,ka=function(){Ts=!0;var t=os.prototype,r=Date.prototype,o=Object.getOwnPropertyNames(r);for(const i of o)(i.startsWith("get")||i.startsWith("to")||i==="valueOf")&&(t[i]=function(...l){if(l.length>0)return f(ye(this,nn)),r[i].apply(this,l);var u=ye(this,Sn).get(i);if(u===void 0){const d=fs;hs(ye(this,Tr)),u=b(()=>(f(ye(this,nn)),r[i].apply(this,l))),ye(this,Sn).set(i,u),hs(d)}return f(u)}),i.startsWith("set")&&(t[i]=function(...l){var u=r[i].apply(this,l);return N(ye(this,nn),r.getTime.call(this)),u})};let mo=os;var xn,An;class Ma{constructor(e,t){je(this,xn);je(this,An);un(this,xn,e),un(this,An,du(t))}get current(){return ye(this,An).call(this),ye(this,xn).call(this)}}xn=new WeakMap,An=new WeakMap;function Ps(n){return Object.prototype.toString.call(n)==="[object Date]"}function Cu(n){return n}function Ba(n){return--n*n*((1.70158+1)*n+1.70158)+1}function po(n){return n<.5?4*n*n*n:.5*Math.pow(2*n-2,3)+1}function Ru(n){return n<.5?8*Math.pow(n,4):-8*Math.pow(n-1,4)+1}function _o(n,e){if(n===e||n!==n)return()=>n;const t=typeof n;if(t!==typeof e||Array.isArray(n)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(n)){const r=e.map((o,i)=>_o(n[i],o));return o=>r.map(i=>i(o))}if(t==="object"){if(!n||!e)throw new Error("Object cannot be null");if(Ps(n)&&Ps(e)){const i=n.getTime(),u=e.getTime()-i;return d=>new Date(i+d*u)}const r=Object.keys(e),o={};return r.forEach(i=>{o[i]=_o(n[i],e[i])}),i=>{const l={};return r.forEach(u=>{l[u]=o[u](i)}),l}}if(t==="number"){const r=e-n;return o=>n+o*r}return()=>e}var yt,rn,Tn,zt;const ss=class ss{constructor(e,t={}){je(this,yt,Dt(void 0));je(this,rn,Dt(void 0));je(this,Tn);je(this,zt,null);ye(this,yt).v=ye(this,rn).v=e,un(this,Tn,t)}static of(e,t){const r=new ss(e(),t);return Er(()=>{r.set(e())}),r}set(e,t){var s;N(ye(this,rn),e);let{delay:r=0,duration:o=400,easing:i=Cu,interpolate:l=_o}={...ye(this,Tn),...t};if(o===0)return(s=ye(this,zt))==null||s.abort(),N(ye(this,yt),e),Promise.resolve();const u=xl.now()+r;let d,h=!1,p=ye(this,zt);return un(this,zt,Al(a=>{if(a<u)return!0;if(!h){h=!0;const m=ye(this,yt).v;d=l(m,e),typeof o=="function"&&(o=o(m,e)),p==null||p.abort()}const c=a-u;return c>o?(N(ye(this,yt),e),!1):(N(ye(this,yt),d(i(c/o))),!0)})),ye(this,zt).promise}get current(){return f(ye(this,yt))}get target(){return f(ye(this,rn))}set target(e){this.set(e)}};yt=new WeakMap,rn=new WeakMap,Tn=new WeakMap,zt=new WeakMap;let $e=ss;const Oe=1e3,At={modal:50,dialog:100};var Nu=L('<div class="ui-popup-standard-content-wrap svelte-1byxkez"><!></div>');function nt(n,e){k(e,!0);var t=Nu(),r=te(t);$(r,()=>e.children),ee(t),ae(()=>Ln(t,"style",`--maxWidth: ${e.maxWidth??""}; --zIndex: 100`)),g(n,t),M()}var Nn=Fe(()=>_e),Gu=L("<span> </span> <p> </p>",1),Fu=L("<p> </p>"),Wu=L("<span>unknown error</span>"),zu=L('<span>Sorry, something went wrong.</span> <div class="scrollY error-text svelte-fzvoja"><!></div>',1);function Hu(n,e){k(e,!1),Ie();var t=I(),r=w(t);{var o=i=>{xt(i,{get zIndex(){return At.modal},persistent:!0,onclose:()=>Nn(Nn().modal=null),children:(l,u)=>{nt(l,{maxWidth:"100%",children:(d,h)=>{var p=zu();const s=ge(()=>{var v;return(v=Nn().modal)==null?void 0:v.error});var a=x(w(p),2),c=te(a);{var m=v=>{var y=I(),S=w(y);{var A=T=>{var C=Gu(),D=w(C),j=te(D,!0);ee(D);var F=x(D,2),X=te(F,!0);ee(F),ae((H,U)=>{ue(j,H),ue(X,U)},[()=>JSON.stringify(f(s).error||"unknown"),()=>JSON.stringify(f(s).message||"unknown")],ge),g(T,C)},P=T=>{var C=Fu(),D=te(C,!0);ee(C),ae(()=>ue(D,f(s))),g(T,C)};Q(S,T=>{var C,D;(C=f(s))!=null&&C.error&&((D=f(s))!=null&&D.message)?T(A):T(P,!1)})}g(v,y)},_=v=>{var y=Wu();g(v,y)};Q(c,v=>{f(s)?v(m):v(_,!1)})}ee(a),g(d,p)},$$slots:{default:!0}})},$$slots:{default:!0}})};Q(r,i=>{var l;((l=Nn().modal)==null?void 0:l.name)==="error"&&i(o)})}g(n,t),M()}var Uu=L('<div class="rectangle svelte-1xcebtp"></div>');function Qe(n,e){const t=gn(e,"background",3,"black"),r=gn(e,"border",3,"none");var o=Uu();ae(()=>Ln(o,"style",`
	--width-value: ${e.width??""};
	--height-value: ${e.height??""};
	--background-value: ${t()??""};
	--border-value: ${r()??""};
`)),g(n,o)}var ju=L('<div class="ui-modal-title-wrap svelte-16q8wi8"><!></div>');function kn(n,e){k(e,!0);var t=ju(),r=te(t);$(r,()=>e.children),ee(t),g(n,t),M()}var Ku=L("<div><!></div>");function Je(n,e){k(e,!0);let t=Z(null);var r=Ku();let o;var i=te(r);$(i,()=>e.children,()=>({element:f(t)})),ee(r),wa(r,l=>N(t,l),()=>f(t)),ae(()=>o=Xt(r,1,`content ${e.type??""}`,"svelte-l3vzfy",o,{scrollX:!e.noScroll&&e.type==="row",scrollY:!e.noScroll&&e.type==="column"})),g(n,r),M()}var Vu=L('<div class="ui-modal-button-wrap svelte-5vvei4"><div><!></div></div>');function Wo(n,e){k(e,!0);var t=Vu(),r=te(t),o=te(r);$(o,()=>e.children),ee(r),ee(t),ae(()=>Xt(r,1,Tl(e.type),"svelte-5vvei4")),g(n,t),M()}var Yu=L('<div class="base-button-content svelte-1gyd1e8"><!></div>');function et(n,e){k(e,!0);var t=Yu(),r=te(t);$(r,()=>e.children),ee(t),g(n,t),M()}const Es={XGC:"GC",XSC:"SC"},$a=n=>n/Pl,Da=n=>{const e=$a(n);return V.wageredBetAmount*e},Xu=n=>Number.parseFloat(`${n}`),Mn=n=>V.currency in Es?`${Es[V.currency]} ${Xu(n).toFixed(2)}`:Bu.number(n,{minimumFractionDigits:2,maximumFractionDigits:2,style:"currency",currency:V.currency}),jt=n=>{const e=Da(n);return Mn(e)};var Gn=Fe(()=>V),qu=L('<span style="font-size: 2rem;">-</span>'),Ju=L("<!> <!>",1),Zu=L('<span style="font-size: 2rem;">+</span>'),Qu=L("<!> <!>",1),ec=L('<div class="toggle-wrap svelte-vim83m"><!> <span class="amount"> </span> <!></div>');function Oa(n,e){k(e,!1);const{eventEmitter:t}=St(),r="2.5rem";Ie(),Ou(n,{get value(){return Gn().betAmount},get options(){return $t.betAmountOptions},onchange:i=>{Gn(Gn().betAmount=i),t.broadcast({type:"soundPressGeneral"})},children:(i,l)=>{let u=()=>l==null?void 0:l().disabledDown,d=()=>l==null?void 0:l().disabledUp,h=()=>l==null?void 0:l().toggleDown,p=()=>l==null?void 0:l().toggleUp;var s=ec(),a=te(s);Ot(a,{"data-test":"down-button",get disabled(){return u()},get onclick(){return h()},children:(v,y)=>{var S=Ju(),A=w(S);Qe(A,{width:r,height:r});var P=x(A,2);et(P,{children:(T,C)=>{var D=qu();g(T,D)},$$slots:{default:!0}}),g(v,S)},$$slots:{default:!0}});var c=x(a,2),m=te(c,!0);ee(c);var _=x(c,2);Ot(_,{"data-test":"up-button",get disabled(){return d()},get onclick(){return p()},children:(v,y)=>{var S=Qu(),A=w(S);Qe(A,{width:r,height:r});var P=x(A,2);et(P,{children:(T,C)=>{var D=Zu();g(T,D)},$$slots:{default:!0}}),g(v,S)},$$slots:{default:!0}}),ee(s),ae(v=>ue(m,v),[()=>Mn(Gn().betAmount)],ge),g(i,s)},$$slots:{default:!0}}),M()}const tc=new Ma(()=>window.innerWidth,n=>Mo(window,"resize",n)),nc=new Ma(()=>window.innerHeight,n=>Mo(window,"resize",n));var Pn,En,vo,aa;const rc=new(aa=class{constructor(){je(this,En);je(this,Pn,Dt(window.devicePixelRatio));Cn(this,En,vo).call(this)}get current(){return f(ye(this,Pn)),window.devicePixelRatio}},Pn=new WeakMap,En=new WeakSet,vo=function(){const e=Mo(window.matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`),"change",()=>{N(ye(this,Pn),window.devicePixelRatio),e(),Cn(this,En,vo).call(this)})},aa),Is={wideSquare:1.3,narrowSquare:.8},Fn={smallMobile:375,mobile:480,tablet:820,largeTablet:1024},Ls=n=>n.width/(n.height||1),oc={desktop:{width:1920,height:1080},tablet:{width:1920,height:1920},landscape:{width:1920,height:1080},portrait:{width:1080,height:1920}},sc=n=>{const e=()=>({width:tc.current??1,height:nc.current??1}),t=()=>Ls(e()),r=()=>t()>=Is.wideSquare?"longWidth":t()<=Is.narrowSquare?"longHeight":"almostSquare",o=()=>{const _=Math.min(e().width,e().height);return _<=Fn.smallMobile?"smallMobile":_<=Fn.mobile?"mobile":_<=Fn.tablet?"tablet":_<=Fn.largeTablet?"largeTablet":"desktop"},i=()=>r()==="almostSquare"?"tablet":r()==="longHeight"?"portrait":o()==="mobile"||o()==="smallMobile"?"landscape":"desktop",l=()=>["portrait","almostSquare"].includes(i()),u=_=>()=>{const v=e().width*.5,y=e().height*.5,S=_[i()],A=e().width/S.width,P=e().height/S.height,T=Math.min(A,P);return{x:v,y,scale:T,width:S.width,height:S.height,anchor:.5}},d=u(n.mainSizesMap),h=u(oc),p=({scale:_,ratio:v})=>Ls(e())<v?{x:e().width/2,y:e().height/2,height:e().height*_}:{x:e().width/2,y:e().height/2,width:e().width*_},s=({scale:_})=>p({scale:_,ratio:n.backgroundRatio.normal}),a=({scale:_})=>p({scale:_,ratio:n.backgroundRatio.portrait});return{stateLayout:ne({showLoadingScreen:!0}),stateLayoutDerived:{canvasSizes:e,canvasRatio:t,canvasRatioType:r,canvasSizeType:o,layoutType:i,isStacked:l,mainLayout:d,mainLayoutStandard:h,normalBackgroundLayout:s,portraitBackgroundLayout:a}}},Ca="@@layout";function ac(n){Vt(Ca,n)}function ht(){return Yt(Ca)}const Mt=n=>typeof n=="string",ic=n=>typeof n=="function",ks=new Map,Ra="en";function zo(n){return[...Array.isArray(n)?n:[n],Ra]}function Ho(n,e,t){const r=zo(n);t||(t="default");let o;if(typeof t=="string")switch(o={day:"numeric",month:"short",year:"numeric"},t){case"full":o.weekday="long";case"long":o.month="long";break;case"short":o.month="numeric";break}else o=t;return hr(()=>mr("date",r,t),()=>new Intl.DateTimeFormat(r,o)).format(Mt(e)?new Date(e):e)}function lc(n,e,t){let r;if(t||(t="default"),typeof t=="string")switch(r={second:"numeric",minute:"numeric",hour:"numeric"},t){case"full":case"long":r.timeZoneName="short";break;case"short":delete r.second}else r=t;return Ho(n,e,r)}function yo(n,e,t){const r=zo(n);return hr(()=>mr("number",r,t),()=>new Intl.NumberFormat(r,t)).format(e)}function Ms(n,e,t,{offset:r=0,...o}){const i=zo(n),l=e?hr(()=>mr("plural-ordinal",i),()=>new Intl.PluralRules(i,{type:"ordinal"})):hr(()=>mr("plural-cardinal",i),()=>new Intl.PluralRules(i,{type:"cardinal"}));return o[t]??o[l.select(t-r)]??o.other}function hr(n,e){const t=n();let r=ks.get(t);return r||(r=e(),ks.set(t,r)),r}function mr(n,e,t){const r=e.join("-");return`${n}-${r}-${JSON.stringify(t)}`}const Na=/\\u[a-fA-F0-9]{4}|\\x[a-fA-F0-9]{2}/,Ga="%__lingui_octothorpe__%",uc=(n,e,t={})=>{const r=e||n,o=l=>typeof l=="object"?l:t[l],i=(l,u)=>{const d=Object.keys(t).length?o("number"):void 0,h=yo(r,l,d);return u.replace(new RegExp(Ga,"g"),h)};return{plural:(l,u)=>{const{offset:d=0}=u,h=Ms(r,!1,l,u);return i(l-d,h)},selectordinal:(l,u)=>{const{offset:d=0}=u,h=Ms(r,!0,l,u);return i(l-d,h)},select:cc,number:(l,u)=>yo(r,l,o(u)||{style:u}),date:(l,u)=>Ho(r,l,o(u)||u),time:(l,u)=>lc(r,l,o(u)||u)}},cc=(n,e)=>e[n]??e.other;function dc(n,e,t){return(r={},o)=>{const i=uc(e,t,o),l=(d,h=!1)=>Array.isArray(d)?d.reduce((p,s)=>{if(s==="#"&&h)return p+Ga;if(Mt(s))return p+s;const[a,c,m]=s;let _={};c==="plural"||c==="selectordinal"||c==="select"?Object.entries(m).forEach(([y,S])=>{_[y]=l(S,c==="plural"||c==="selectordinal")}):_=m;let v;if(c){const y=i[c];v=y(r[a],_)}else v=r[a];return v==null?p:p+v},""):d,u=l(n);return Mt(u)&&Na.test(u)?Pa.unraw(u):Mt(u)?u:u?String(u):""}}var fc=Object.defineProperty,hc=(n,e,t)=>e in n?fc(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,mc=(n,e,t)=>(hc(n,e+"",t),t);class pc{constructor(){mc(this,"_events",{})}on(e,t){var r;return(r=this._events)[e]??(r[e]=[]),this._events[e].push(t),()=>this.removeListener(e,t)}removeListener(e,t){const r=this._getListeners(e);if(!r)return;const o=r.indexOf(t);~o&&r.splice(o,1)}emit(e,...t){const r=this._getListeners(e);r&&r.map(o=>o.apply(this,t))}_getListeners(e){const t=this._events[e];return Array.isArray(t)?t:!1}}var _c=Object.defineProperty,vc=(n,e,t)=>e in n?_c(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Gt=(n,e,t)=>(vc(n,typeof e!="symbol"?e+"":e,t),t);class yc extends pc{constructor(e){super(),Gt(this,"_locale",""),Gt(this,"_locales"),Gt(this,"_localeData",{}),Gt(this,"_messages",{}),Gt(this,"_missing"),Gt(this,"_messageCompiler"),Gt(this,"t",this._.bind(this)),e.missing!=null&&(this._missing=e.missing),e.messages!=null&&this.load(e.messages),e.localeData!=null&&this.loadLocaleData(e.localeData),(typeof e.locale=="string"||e.locales)&&this.activate(e.locale??Ra,e.locales)}get locale(){return this._locale}get locales(){return this._locales}get messages(){return this._messages[this._locale]??{}}get localeData(){return this._localeData[this._locale]??{}}_loadLocaleData(e,t){const r=this._localeData[e];r?Object.assign(r,t):this._localeData[e]=t}setMessagesCompiler(e){return this._messageCompiler=e,this}loadLocaleData(e,t){typeof e=="string"?this._loadLocaleData(e,t):Object.keys(e).forEach(r=>this._loadLocaleData(r,e[r])),this.emit("change")}_load(e,t){const r=this._messages[e];r?Object.assign(r,t):this._messages[e]=t}load(e,t){typeof e=="string"&&typeof t=="object"?this._load(e,t):Object.entries(e).forEach(([r,o])=>this._load(r,o)),this.emit("change")}loadAndActivate({locale:e,locales:t,messages:r}){this._locale=e,this._locales=t||void 0,this._messages[this._locale]=r,this.emit("change")}activate(e,t){this._locale=e,this._locales=t,this.emit("change")}_(e,t,r){if(!this.locale)throw new Error("Lingui: Attempted to call a translation function without setting a locale.\nMake sure to call `i18n.activate(locale)` before using Lingui functions.\nThis issue may also occur due to a race condition in your initialization logic.");let o=r==null?void 0:r.message;e||(e=""),Mt(e)||(t=e.values||t,o=e.message,e=e.id);const i=this.messages[e],l=i===void 0,u=this._missing;if(u&&l)return ic(u)?u(this._locale,e):u;l&&this.emit("missing",{id:e,locale:this._locale});let d=i||o||e;return Mt(d)&&(this._messageCompiler?d=this._messageCompiler(d):console.warn(`Uncompiled message detected! Message:

> ${d}

That means you use raw catalog or your catalog doesn't have a translation for the message and fallback was used.
ICU features such as interpolation and plurals will not work properly for that message. 

Please compile your catalog first. 
`)),Mt(d)&&Na.test(d)?JSON.parse(`"${d}"`):Mt(d)?d:dc(d,this._locale,this._locales)(t,r==null?void 0:r.formats)}date(e,t){return Ho(this._locales||this._locale,e,t)}number(e,t){return yo(this._locales||this._locale,e,t)}}function gc(n={}){return new yc(n)}const K=gc(),Se={bet:()=>K._(K.t("BET")),max:()=>K._(K.t("MAX")),betMenu:()=>K._(K.t("BET MENU")),selectYourBet:()=>K._(K.t("SELECT YOUR BET")),confirm:()=>K._(K.t("CONFIRM")),masterVolume:()=>K._(K.t("MASTER VOLUME")),musicVolume:()=>K._(K.t("MUSIC VOLUME")),soundEffectVolume:()=>K._(K.t("SOUND EFFECT VOLUME")),autoSpins:()=>K._(K.t("AUTO SPINS")),numberOfRounds:()=>K._(K.t("NUMBER OF ROUNDS")),advanced:()=>K._(K.t("ADVANCED")),singleWinLimit:()=>K._(K.t("SINGLE WIN LIMIT")),lossLimit:()=>K._(K.t("LOSS LIMIT")),startAutoplay:()=>K._(K.t("START AUTOPLAY")),notification:()=>K._(K.t("NOTIFICATION")),autoSpinsStopInfo:()=>K._(K.t("AUTO PLAY HAS STOPPED DUE TO")),insufficientFunds:()=>K._(K.t("INSUFFICIENT FUNDS TO PLACE THIS BET. PLEASE ADD FUNDS TO YOUR ACCOUNT OR LOWER THE BET LEVEL.")),lossLimitReached:()=>K._(K.t("LOSS LIMIT REACHED")),singleWinLimitReached:()=>K._(K.t("SINGLE WIN LIMIT REACHED")),settings:()=>K._(K.t("SETTINGS"))};var bc=L('<span style="font-size: 1rem;"> </span>'),wc=L("<!> <!>",1);function Sc(n,e){k(e,!0);const{stateLayoutDerived:t}=ht(),r=b(()=>t.layoutType()==="landscape"?15:18),o=b(()=>[...$t.betMenuOptions.slice(0,f(r)-1),...$t.betMenuOptions.slice(-1)].filter((u,d,h)=>h.indexOf(u)===d)),i=u=>u===f(o)[f(o).length-1],l=u=>Math.abs(u)>999999?`${(Math.abs(u)/1e6).toFixed(2)}M`:Math.abs(u)>999?`${(Math.abs(u)/1e3).toFixed(2)}K`:Math.abs(u).toFixed(2);kr(n,{get value(){return V.betAmount},get options(){return f(o)},onchange:d=>V.betAmount=d,option:(d,h)=>{let p=()=>h==null?void 0:h().option;var s=wc(),a=w(s);const c=b(()=>p()===V.betAmount?"2px white solid":"2px black solid");Qe(a,{width:"100%",height:"2rem",get border(){return f(c)}});var m=x(a,2);et(m,{children:(_,v)=>{var y=bc(),S=te(y,!0);ee(y),ae(A=>ue(S,A),[()=>i(p())?Se.max():l(p())]),g(_,y)},$$slots:{default:!0}}),g(d,s)},$$slots:{option:!0}}),M()}var dn=Fe(()=>_e),xc=L("<span> </span> <!> <!>",1),Ac=L('<span style="font-size: 1rem;"> </span>'),Tc=L("<!> <!>",1),Pc=L("<!> <!> <!>",1);function Ec(n,e){k(e,!1);const t=()=>{dn(dn().modal=null)};Ie();var r=I(),o=w(r);{var i=l=>{xt(l,{get zIndex(){return At.modal},onclose:()=>dn(dn().modal=null),children:(u,d)=>{nt(u,{maxWidth:"100%",children:(h,p)=>{var s=Pc(),a=w(s);kn(a,{children:(_,v)=>{lt();var y=Ke();ae(S=>ue(y,S),[()=>Se.betMenu()],ge),g(_,y)},$$slots:{default:!0}});var c=x(a,2);Je(c,{type:"column",children:(_,v)=>{var y=xc(),S=w(y),A=te(S,!0);ee(S);var P=x(S,2);Oa(P,{});var T=x(P,2);Sc(T,{}),ae(C=>ue(A,C),[()=>Se.selectYourBet()],ge),g(_,y)},$$slots:{default:!0}});var m=x(c,2);Wo(m,{type:"full-width",children:(_,v)=>{Ot(_,{"data-test":"confirm-button",onclick:t,children:(y,S)=>{var A=Tc(),P=w(A);Qe(P,{width:"100%",height:"3rem"});var T=x(P,2);et(T,{children:(C,D)=>{var j=Ac(),F=te(j,!0);ee(j),ae(X=>ue(F,X),[()=>Se.confirm()],ge),g(C,j)},$$slots:{default:!0}}),g(y,A)},$$slots:{default:!0}})},$$slots:{default:!0}}),g(h,s)},$$slots:{default:!0}})},$$slots:{default:!0}})};Q(o,l=>{var u;((u=dn().modal)==null?void 0:u.name)==="betAmountMenu"&&l(i)})}g(n,r),M()}var Ic=L('<div class="bonus-card-wrap svelte-2dvnuw"><div class="info svelte-2dvnuw"><!> <!> <!></div> <!></div>');function Lc(n,e){k(e,!0);var t=Ic(),r=te(t),o=te(r);$(o,()=>e.title);var i=x(o,2);$(i,()=>e.description);var l=x(i,2);$(l,()=>e.price),ee(r);var u=x(r,2);$(u,()=>e.button),ee(t),g(n,t),M()}var kc=L('<div class="title svelte-xtzxkt"> </div>'),Mc=L('<div class="description svelte-xtzxkt"> </div>'),Bc=L('<div class="price svelte-xtzxkt"> </div>'),$c=L('<span style="font-size: 1rem;"> </span>'),Dc=L("<!> <!>",1);function Bs(n,e){k(e,!0);const{eventEmitter:t}=St();var r=I(),o=w(r);ct(o,17,()=>e.list,gt,(i,l)=>{var u=I(),d=w(u);{var h=p=>{Lc(p,{title:_=>{var v=kc(),y=te(v,!0);ee(v),ae(()=>ue(y,f(l).text.title)),g(_,v)},description:_=>{var v=I(),y=w(v);{var S=A=>{var P=Mc(),T=te(P,!0);ee(P),ae(()=>ue(T,f(l).text.description)),g(A,P)};Q(y,A=>{var P,T;(T=(P=f(l))==null?void 0:P.text)!=null&&T.description&&A(S)})}g(_,v)},price:_=>{var v=Bc(),y=te(v,!0);ee(v),ae(S=>ue(y,S),[()=>`${Mn(V.betAmount*f(l).costMultiplier)}`]),g(_,v)},button:_=>{const v=b(()=>V.betAmount<=0||V.balanceAmount<V.betAmount*f(l).costMultiplier);Ot(_,{onclick:()=>{_a.selectedBetModeKey=f(l).mode,t.broadcast({type:"buyBonusConfirm"}),t.broadcast({type:"soundPressGeneral"})},get disabled(){return f(v)},children:(y,S)=>{var A=Dc(),P=w(A);Qe(P,{width:"100%",height:"2rem",border:"2px solid white;"});var T=x(P,2);et(T,{children:(C,D)=>{var j=$c(),F=te(j,!0);ee(j),ae(()=>ue(F,f(l).text.button)),g(C,j)},$$slots:{default:!0}}),g(y,A)},$$slots:{default:!0}})},$$slots:{title:!0,description:!0,price:!0,button:!0}})};Q(d,p=>{f(l).type!=="default"&&p(h)})}g(i,u)}),g(n,r),M()}var Oc=L('<div class="bonuses-wrap svelte-8r195e"><!> <!></div>'),Cc=L("<!> <!>",1);function $s(n,e){k(e,!0),nt(n,{maxWidth:"100%",children:(t,r)=>{var o=Cc(),i=w(o);$(i,()=>e.betAmount);var l=x(i,2);Je(l,{type:"column",children:(u,d)=>{var h=Oc(),p=te(h);$(p,()=>e.bonusCardsActivate);var s=x(p,2);$(s,()=>e.bonusCardsBuy),ee(h),g(u,h)},$$slots:{default:!0}}),g(t,o)},$$slots:{default:!0}}),M()}function tn(n,e){const t=new El.ResizeObserver(([r])=>{e(r.contentRect)});return t.observe(n),{destroy(){t.disconnect()}}}var Rc=L("<div><!></div>"),Nc=L('<div class="badge-amount-wrap-scaled svelte-rmrbdn"><!></div>'),Gc=L('<div><div class="bonuses svelte-rmrbdn"><!> <!></div> <!></div> <!>',1);function Fc(n,e){k(e,!0);const{stateLayoutDerived:t}=ht();let r=Z(ne({width:0,height:0,left:0,top:0}));const o=b(()=>t.canvasSizes().width/(240*(e.maxListLength||1))),i=b(()=>{var d;return(t.canvasSizes().height-250)/(((d=f(r))==null?void 0:d.height)||0)}),l=b(()=>Math.min(f(i),f(o))),u=b(()=>f(l)<1);nt(n,{maxWidth:"100%",children:(d,h)=>{var p=Gc(),s=w(p);let a;var c=te(s),m=te(c);Je(m,{type:"row",noScroll:!0,children:(P,T)=>{var C=I(),D=w(C);$(D,()=>e.bonusCardsActivate),g(P,C)},$$slots:{default:!0}});var _=x(m,2);Je(_,{type:"row",noScroll:!0,children:(P,T)=>{var C=I(),D=w(C);$(D,()=>e.bonusCardsBuy),g(P,C)},$$slots:{default:!0}}),ee(c),Aa(c,(P,T)=>tn==null?void 0:tn(P,T),()=>P=>N(r,ne(P)));var v=x(c,2);{var y=P=>{var T=Rc(),C=te(T);$(C,()=>e.betAmount),ee(T),g(P,T)};Q(v,P=>{f(u)||P(y)})}ee(s);var S=x(s,2);{var A=P=>{var T=Nc(),C=te(T);$(C,()=>e.betAmount),ee(T),g(P,T)};Q(S,P=>{f(u)&&P(A)})}ae(P=>{a=Xt(s,1,"wrap svelte-rmrbdn",null,a,{scaled:f(u)}),Ln(c,"style",`transform: scale(${P??""});`)},[()=>Math.min(f(l),1)]),g(d,p)},$$slots:{default:!0}}),M()}var Wc=L('<div class="bonuses-wrap svelte-8l82fa"><div class="bonuses svelte-8l82fa"><!> <!></div></div> <div class="badge-amount-wrap svelte-8l82fa"><!></div>',1);function zc(n,e){k(e,!0);const{stateLayoutDerived:t}=ht();let r=Z(ne({width:0,height:0,left:0,top:0}));const o=b(()=>t.canvasSizes().height/(270*2)),i=b(()=>{var u;return(t.canvasSizes().width-250)/(((u=f(r))==null?void 0:u.width)||0)}),l=b(()=>Math.min(f(o),f(i)));nt(n,{maxWidth:"100%",children:(u,d)=>{var h=Wc(),p=w(h),s=te(p),a=te(s);Je(a,{type:"row",noScroll:!0,children:(v,y)=>{var S=I(),A=w(S);$(A,()=>e.bonusCardsActivate),g(v,S)},$$slots:{default:!0}});var c=x(a,2);Je(c,{type:"row",noScroll:!0,children:(v,y)=>{var S=I(),A=w(S);$(A,()=>e.bonusCardsBuy),g(v,S)},$$slots:{default:!0}}),ee(s),ee(p),Aa(p,(v,y)=>tn==null?void 0:tn(v,y),()=>v=>N(r,ne(v)));var m=x(p,2),_=te(m);$(_,()=>e.betAmount),ee(m),ae(v=>Ln(s,"style",`transform: scale(${v??""});`),[()=>Math.min(f(l),1)]),g(u,h)},$$slots:{default:!0}}),M()}function Hc(n,e){k(e,!0);const{stateLayoutDerived:t}=ht(),r=b(()=>_s.betModeMetaList().filter(p=>p.type==="activate")),o=b(()=>_s.betModeMetaList().filter(p=>p.type==="buy")),i={desktop:$s,tablet:$s,portrait:Fc,landscape:zc},l=b(()=>i[t.layoutType()]);var u=I(),d=w(u);{var h=p=>{xt(p,{get zIndex(){return At.modal},onclose:()=>_e.modal=null,children:(s,a)=>{var c=I(),m=w(c);const _=b(()=>Math.max(f(r).length,f(o).length));Sa(m,()=>f(l),(v,y)=>{y(v,{get maxListLength(){return f(_)},betAmount:T=>{Oa(T,{})},bonusCardsActivate:T=>{Bs(T,{get list(){return f(r)}})},bonusCardsBuy:T=>{Bs(T,{get list(){return f(o)}})},$$slots:{betAmount:!0,bonusCardsActivate:!0,bonusCardsBuy:!0}})}),g(s,c)},$$slots:{default:!0}})};Q(d,p=>{var s;((s=_e.modal)==null?void 0:s.name)==="buyBonus"&&p(h)})}g(n,u),M()}var Ds=Fe(()=>V),fn=Fe(()=>_e),Wn=Fe(()=>se),Uc=L('<span style="font-size: 1rem;"> </span>'),jc=L("<!> <!>",1),Kc=L("<!> <!> <!>",1);function Vc(n,e){k(e,!1);const{eventEmitter:t}=St(),r=()=>{Ds(Ds().activeBetModeKey=_a.selectedBetModeKey),Rn.selectedBetModeData().type==="buy"&&t.broadcast({type:"bet"}),Rn.selectedBetModeData().type==="activate"&&(Wn(Wn().autoSpinsLossLimitText=vs),Wn(Wn().autoSpinsSingleWinLimitText=vs))};Ie();var o=I(),i=w(o);{var l=u=>{xt(u,{get zIndex(){return At.dialog},onclose:()=>fn(fn().modal={name:"buyBonus"}),children:(d,h)=>{nt(d,{maxWidth:"500px",children:(p,s)=>{var a=Kc(),c=w(a);kn(c,{children:(v,y)=>{lt();var S=Ke();ae(A=>ue(S,A),[()=>Rn.selectedBetModeData().text.title],ge),g(v,S)},$$slots:{default:!0}});var m=x(c,2);Je(m,{type:"column",children:(v,y)=>{lt();var S=Ke();ae(A=>ue(S,A),[()=>Rn.selectedBetModeData().text.dialog],ge),g(v,S)},$$slots:{default:!0}});var _=x(m,2);Wo(_,{type:"max-width",children:(v,y)=>{Ot(v,{"data-test":"confirm-button",onclick:()=>{r(),t.broadcast({type:"soundPressGeneral"}),fn(fn().modal=null)},children:(S,A)=>{var P=jc(),T=w(P);Qe(T,{width:"100%",height:"3rem"});var C=x(T,2);et(C,{children:(D,j)=>{var F=Uc(),X=te(F,!0);ee(F),ae(H=>ue(X,H),[()=>Se.confirm()],ge),g(D,F)},$$slots:{default:!0}}),g(S,P)},$$slots:{default:!0}})},$$slots:{default:!0}}),g(p,a)},$$slots:{default:!0}})},$$slots:{default:!0}})};Q(i,u=>{var d;((d=fn().modal)==null?void 0:d.name)==="buyBonusConfirm"&&u(l)})}g(n,o),M()}const Yc=async({element:n,duration:e})=>{n&&(await ut(e+20),n.scroll({top:n.scrollHeight,behavior:"smooth"}))};var Xc=L('<span style="font-size: 1rem;" data-test="round-options"> </span>'),qc=L("<!> <!>",1);function Jc(n,e){k(e,!0);const{stateLayoutDerived:t}=ht(),r=ys.filter(i=>i!=="1000"),o=b(()=>t.layoutType()==="landscape"?r:ys);kr(n,{get value(){return se.autoSpinsText},get options(){return f(o)},onchange:l=>se.autoSpinsText=l,option:(l,u)=>{let d=()=>u==null?void 0:u().option;var h=qc(),p=w(h);const s=b(()=>d()===se.autoSpinsText?"2px white solid":"2px black solid");Qe(p,{width:"100%",height:"2rem",get border(){return f(s)}});var a=x(p,2);et(a,{children:(c,m)=>{var _=Xc();let v;var y=te(_,!0);ee(_),ae(()=>{v=Xt(_,1,"svelte-eq8ntj",null,v,{infinity:d()==="∞"}),ue(y,d())}),g(c,_)},$$slots:{default:!0}}),g(l,h)},$$slots:{option:!0}}),M()}var zn=Fe(()=>se),Zc=L('<span style="font-size: 1rem;"> </span>'),Qc=L("<!> <!>",1),ed=L('<span class="title svelte-hzlrh9"> </span> <!>',1);function td(n,e){k(e,!1),Ie();var t=ed(),r=w(t),o=te(r,!0);ee(r);var i=x(r,2);kr(i,{miniSize:!0,get value(){return zn().autoSpinsLossLimitText},options:Il,onchange:u=>zn(zn().autoSpinsLossLimitText=u),option:(u,d)=>{let h=()=>d==null?void 0:d().option;var p=Qc(),s=w(p);const a=ge(()=>h()===zn().autoSpinsLossLimitText?"2px white solid":"2px black solid");Qe(s,{width:"100%",height:"2rem",get border(){return f(a)}});var c=x(s,2);et(c,{children:(m,_)=>{var v=Zc();let y;var S=te(v,!0);ee(v),ae(()=>{y=Xt(v,1,"option-wrap svelte-hzlrh9",null,y,{infinity:h()==="∞"}),Ln(v,"data-test",`loss-limit-${h()??""}`),ue(S,h())}),g(m,v)},$$slots:{default:!0}}),g(u,p)},$$slots:{option:!0}}),ae(l=>ue(o,l),[()=>Se.lossLimit()],ge),g(n,t),M()}var Hn=Fe(()=>se),nd=L('<span style="font-size: 1rem;" data-test="single-win-limit-options"> </span>'),rd=L("<!> <!>",1),od=L('<span class="title svelte-127mkoc"> </span> <!>',1);function sd(n,e){k(e,!1),Ie();var t=od(),r=w(t),o=te(r,!0);ee(r);var i=x(r,2);kr(i,{miniSize:!0,get value(){return Hn().autoSpinsSingleWinLimitText},options:Ll,onchange:u=>Hn(Hn().autoSpinsSingleWinLimitText=u),option:(u,d)=>{let h=()=>d==null?void 0:d().option;var p=rd(),s=w(p);const a=ge(()=>h()===Hn().autoSpinsSingleWinLimitText?"2px white solid":"2px black solid");Qe(s,{width:"100%",height:"2rem",get border(){return f(a)}});var c=x(s,2);et(c,{children:(m,_)=>{var v=nd();let y;var S=te(v,!0);ee(v),ae(()=>{y=Xt(v,1,"option-wrap svelte-127mkoc",null,y,{infinity:h()==="∞"}),ue(S,h())}),g(m,v)},$$slots:{default:!0}}),g(u,p)},$$slots:{option:!0}}),ae(l=>ue(o,l),[()=>Se.singleWinLimit()],ge),g(n,t),M()}var ad=L("<span> </span>"),id=L('<div style="border: 2px solid white; border-radius: 10px;"><!> <!></div>'),ld=L("<!> <!>",1);function ud(n,e){k(e,!0);const{eventEmitter:t}=St(),r=100;let o=Z(!1);be(()=>{f(o)&&e.ontoggle(r)});var i=ld(),l=w(i);const u=b(()=>fe.activeBetMode().type==="activate");kl(l,{get open(){return f(o)},get disabled(){return f(u)},onchange:p=>{N(o,ne(p)),t.broadcast({type:"soundPressGeneral"})},children:(p,s)=>{var a=ad(),c=te(a,!0);ee(a),ae(m=>ue(c,m),[()=>Se.advanced()]),g(p,a)},$$slots:{default:!0}});var d=x(l,2);{var h=p=>{var s=id(),a=te(s);td(a,{});var c=x(a,2);sd(c,{}),ee(s),Ml(3,s,()=>Bl,()=>({duration:r})),g(p,s)};Q(d,p=>{f(o)&&p(h)})}g(n,i),M()}var at=Fe(()=>V),Os=Fe(()=>_e),cd=L('<span style="font-size: 1rem;"> </span>'),dd=L("<!> <!>",1);function fd(n,e){k(e,!1);const{eventEmitter:t}=St(),r=()=>{at(at().autoSpinsCounter=$l[se.autoSpinsText]),at(at().autoSpinsLossLimitAmount=at().betAmount*Dl[se.autoSpinsLossLimitText]),at(at().autoSpinsSingleWinLimitAmount=at().betAmount*Ol[se.autoSpinsSingleWinLimitText]),fe.activeBetMode().type==="buy"&&at(at().activeBetModeKey="BASE"),t.broadcast({type:"soundPressGeneral"}),t.broadcast({type:"autoBet"}),Os(Os().modal=null)};Ie();const o=ge(()=>!fe.isBetCostAvailable());Ot(n,{get disabled(){return f(o)},onclick:r,children:(i,l)=>{var u=dd(),d=w(u);Qe(d,{width:"100%",height:"3rem"});var h=x(d,2);et(h,{children:(p,s)=>{var a=cd(),c=te(a,!0);ee(a),ae(m=>ue(c,m),[()=>Se.startAutoplay()],ge),g(p,a)},$$slots:{default:!0}}),g(i,u)},$$slots:{default:!0}}),M()}var Xr=Fe(()=>_e),hd=L('<div class="subtitle" data-test="number-of-rounds"> </div> <!> <!>',1),md=L("<!> <!> <!>",1);function pd(n,e){k(e,!1),Ie();var t=I(),r=w(t);{var o=i=>{xt(i,{get zIndex(){return At.modal},onclose:()=>Xr(Xr().modal=null),children:(l,u)=>{nt(l,{maxWidth:"100%",children:(d,h)=>{var p=md(),s=w(p);kn(s,{children:(m,_)=>{lt();var v=Ke();ae(y=>ue(v,y),[()=>Se.autoSpins()],ge),g(m,v)},$$slots:{default:!0}});var a=x(s,2);Je(a,{type:"column",children:(_,v)=>{let y=()=>v==null?void 0:v().element;var S=hd(),A=w(S),P=te(A,!0);ee(A);var T=x(A,2);Jc(T,{});var C=x(T,2);ud(C,{ontoggle:D=>{y()&&Yc({element:y(),duration:D})}}),ae(D=>ue(P,D),[()=>Se.numberOfRounds()],ge),g(_,S)},$$slots:{default:!0}});var c=x(a,2);Wo(c,{type:"full-width",children:(m,_)=>{fd(m,{})},$$slots:{default:!0}}),g(d,p)},$$slots:{default:!0}})},$$slots:{default:!0}})};Q(r,i=>{var l;((l=Xr().modal)==null?void 0:l.name)==="autoSpin"&&i(o)})}g(n,t),M()}var _d=L('<span class="text svelte-1kl734d" data-test="auto-spin-stop-info"> </span> <div class="scrollY info-text svelte-1kl734d" data-test="auto-spin-stop-content"> </div>',1),vd=L("<!> <!>",1);function yd(n,e){k(e,!0);const t=b(()=>({lossLimitReached:Se.lossLimitReached(),singleWinLimitReached:Se.singleWinLimitReached(),insufficientFunds:Se.insufficientFunds()}));var r=I(),o=w(r);{var i=l=>{xt(l,{get zIndex(){return At.modal},onclose:()=>_e.modal=null,children:(u,d)=>{nt(u,{maxWidth:"100%",children:(h,p)=>{var s=vd(),a=w(s);kn(a,{children:(m,_)=>{lt();var v=Ke();ae(y=>ue(v,y),[()=>Se.notification()]),g(m,v)},$$slots:{default:!0}});var c=x(a,2);Je(c,{type:"column",children:(m,_)=>{var v=_d(),y=w(v),S=te(y,!0);ee(y);var A=x(y,2),P=te(A,!0);ee(A),ae(T=>{ue(S,T),ue(P,f(t)[_e.modal.message])},[()=>Se.autoSpinsStopInfo()]),g(m,v)},$$slots:{default:!0}}),g(h,s)},$$slots:{default:!0}})},$$slots:{default:!0}})};Q(o,l=>{var u;((u=_e.modal)==null?void 0:u.name)==="autoSpinMessage"&&l(i)})}g(n,r),M()}var gd=L("<span>ADD YOUR PAY TABLE</span> <!>",1);function bd(n,e){k(e,!0);var t=I(),r=w(t);{var o=i=>{xt(i,{get zIndex(){return At.modal},onclose:()=>_e.modal=null,children:(l,u)=>{nt(l,{maxWidth:"100%",children:(d,h)=>{Je(d,{type:"column",children:(p,s)=>{var a=gd(),c=x(w(a),2);$(c,()=>e.children),g(p,a)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})};Q(r,i=>{var l;((l=_e.modal)==null?void 0:l.name)==="payTable"&&i(o)})}g(n,t),M()}var wd=L("<span>ADD YOUR GAME RULES</span> <!>",1);function Sd(n,e){k(e,!0);var t=I(),r=w(t);{var o=i=>{xt(i,{get zIndex(){return At.modal},onclose:()=>_e.modal=null,children:(l,u)=>{nt(l,{maxWidth:"100%",children:(d,h)=>{Je(d,{type:"column",children:(p,s)=>{var a=wd(),c=x(w(a),2);$(c,()=>e.children),g(p,a)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})};Q(r,i=>{var l;((l=_e.modal)==null?void 0:l.name)==="gameRules"&&i(o)})}g(n,t),M()}var xd=L("<span> </span>"),Ad=L("<!> <!>",1),Td=L('<div class="col svelte-99wdan"><span><!></span> <div class="row svelte-99wdan"><div class="button-wrap svelte-99wdan"><!></div> <input type="range" min="0" max="100" class="range svelte-99wdan"> <div class="value svelte-99wdan"><span> </span></div></div></div>');function qr(n,e){k(e,!0);let t=gn(e,"value",15);const{eventEmitter:r}=St();var o=Td(),i=te(o),l=te(i);$(l,()=>e.children),ee(i);var u=x(i,2),d=te(u),h=te(d);Ot(h,{onclick:()=>{r.broadcast({type:"soundPressGeneral"}),t()===0?t(50):t(0)},children:(m,_)=>{var v=Ad(),y=w(v);Qe(y,{width:"3rem",height:"3rem"});var S=x(y,2);et(S,{children:(A,P)=>{var T=xd(),C=te(T,!0);ee(T),ae(()=>ue(C,t()>0?"ON":"OFF")),g(A,T)},$$slots:{default:!0}}),g(m,v)},$$slots:{default:!0}}),ee(d);var p=x(d,2);Cl(p);var s=x(p,2),a=te(s),c=te(a,!0);ee(a),ee(s),ee(u),ee(o),ae(()=>ue(c,t())),uu(p,t),g(n,o),M()}var Jr=Fe(()=>_e),_t=Fe(()=>yn),Pd=L('<wrap class="wrap svelte-g8mexk"><!> <!> <!></wrap>'),Ed=L("<!> <!>",1);function Id(n,e){k(e,!1),Ie();var t=I(),r=w(t);{var o=i=>{xt(i,{get zIndex(){return At.modal},onclose:()=>Jr(Jr().modal=null),children:(l,u)=>{nt(l,{maxWidth:"100%",children:(d,h)=>{var p=Ed(),s=w(p);kn(s,{children:(c,m)=>{lt();var _=Ke();ae(v=>ue(_,v),[()=>Se.settings()],ge),g(c,_)},$$slots:{default:!0}});var a=x(s,2);Je(a,{type:"column",children:(c,m)=>{var _=Pd(),v=te(_);qr(v,{get value(){return _t().volumeValueMaster},set value(A){_t(_t().volumeValueMaster=A)},children:(A,P)=>{lt();var T=Ke();ae(C=>ue(T,C),[()=>Se.masterVolume()],ge),g(A,T)},$$slots:{default:!0},$$legacy:!0});var y=x(v,2);qr(y,{get value(){return _t().volumeValueMusic},set value(A){_t(_t().volumeValueMusic=A)},children:(A,P)=>{lt();var T=Ke();ae(C=>ue(T,C),[()=>Se.musicVolume()],ge),g(A,T)},$$slots:{default:!0},$$legacy:!0});var S=x(y,2);qr(S,{get value(){return _t().volumeValueSoundEffect},set value(A){_t(_t().volumeValueSoundEffect=A)},children:(A,P)=>{lt();var T=Ke();ae(C=>ue(T,C),[()=>Se.soundEffectVolume()],ge),g(A,T)},$$slots:{default:!0},$$legacy:!0}),ee(_),g(c,_)},$$slots:{default:!0}}),g(d,p)},$$slots:{default:!0}})},$$slots:{default:!0}})};Q(r,i=>{var l;((l=Jr().modal)==null?void 0:l.name)==="settings"&&i(o)})}g(n,t),M()}var Ld=L("<!> <!> <!> <!> <!> <!> <!> <!> <!>",1);function kd(n,e){k(e,!0);var t=Ld(),r=w(t);Hu(r,{});var o=x(r,2);Ec(o,{});var i=x(o,2);Hc(i,{});var l=x(i,2);Vc(l,{});var u=x(l,2);pd(u,{});var d=x(u,2);yd(d,{});var h=x(d,2);bd(h,{children:(a,c)=>{var m=I(),_=w(m);$(_,()=>e.version),g(a,m)},$$slots:{default:!0}});var p=x(h,2);Sd(p,{children:(a,c)=>{var m=I(),_=w(m);$(_,()=>e.version),g(a,m)},$$slots:{default:!0}});var s=x(p,2);Id(s,{}),g(n,t),M()}let Md=!1;function Bd(n,e){k(e,!0),lt();var t=Ke();ae(()=>ue(t,`
${e.version??""}`)),g(n,t),M()}const go=[];Ro.handleByNamedList(bn.Environment,go);async function $d(n){if(!n)for(let e=0;e<go.length;e++){const t=go[e];if(t.value.test()){await t.value.load();return}}}let hn;function Dd(){if(typeof hn=="boolean")return hn;try{hn=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{hn=!1}return hn}var Fa=(n=>(n[n.NONE=0]="NONE",n[n.COLOR=16384]="COLOR",n[n.STENCIL=1024]="STENCIL",n[n.DEPTH=256]="DEPTH",n[n.COLOR_DEPTH=16640]="COLOR_DEPTH",n[n.COLOR_STENCIL=17408]="COLOR_STENCIL",n[n.DEPTH_STENCIL=1280]="DEPTH_STENCIL",n[n.ALL=17664]="ALL",n))(Fa||{});class Od{constructor(e){this.items=[],this._name=e}emit(e,t,r,o,i,l,u,d){const{name:h,items:p}=this;for(let s=0,a=p.length;s<a;s++)p[s][h](e,t,r,o,i,l,u,d);return this}add(e){return e[this._name]&&(this.remove(e),this.items.push(e)),this}remove(e){const t=this.items.indexOf(e);return t!==-1&&this.items.splice(t,1),this}contains(e){return this.items.indexOf(e)!==-1}removeAll(){return this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}const Cd=["init","destroy","contextChange","resolutionChange","resetState","renderEnd","renderStart","render","update","postrender","prerender"],Wa=class za extends va{constructor(e){super(),this.runners=Object.create(null),this.renderPipes=Object.create(null),this._initOptions={},this._systemsHash=Object.create(null),this.type=e.type,this.name=e.name,this.config=e;const t=[...Cd,...this.config.runners??[]];this._addRunners(...t),this._unsafeEvalCheck()}async init(e={}){const t=e.skipExtensionImports===!0?!0:e.manageImports===!1;await $d(t),this._addSystems(this.config.systems),this._addPipes(this.config.renderPipes,this.config.renderPipeAdaptors);for(const r in this._systemsHash)e={...this._systemsHash[r].constructor.defaultOptions,...e};e={...za.defaultOptions,...e},this._roundPixels=e.roundPixels?1:0;for(let r=0;r<this.runners.init.items.length;r++)await this.runners.init.items[r].init(e);this._initOptions=e}render(e,t){let r=e;if(r instanceof Ir&&(r={container:r},t&&(lr(ur,"passing a second argument is deprecated, please use render options instead"),r.target=t.renderTexture)),r.target||(r.target=this.view.renderTarget),r.target===this.view.renderTarget&&(this._lastObjectRendered=r.container,r.clearColor??(r.clearColor=this.background.colorRgba),r.clear??(r.clear=this.background.clearBeforeRender)),r.clearColor){const o=Array.isArray(r.clearColor)&&r.clearColor.length===4;r.clearColor=o?r.clearColor:Hr.shared.setValue(r.clearColor).toArray()}r.transform||(r.container.updateLocalTransform(),r.transform=r.container.localTransform),r.container.enableRenderGroup(),this.runners.prerender.emit(r),this.runners.renderStart.emit(r),this.runners.render.emit(r),this.runners.renderEnd.emit(r),this.runners.postrender.emit(r)}resize(e,t,r){const o=this.view.resolution;this.view.resize(e,t,r),this.emit("resize",this.view.screen.width,this.view.screen.height,this.view.resolution),r!==void 0&&r!==o&&this.runners.resolutionChange.emit(r)}clear(e={}){const t=this;e.target||(e.target=t.renderTarget.renderTarget),e.clearColor||(e.clearColor=this.background.colorRgba),e.clear??(e.clear=Fa.ALL);const{clear:r,clearColor:o,target:i}=e;Hr.shared.setValue(o??this.background.colorRgba),t.renderTarget.clear(i,r,Hr.shared.toArray())}get resolution(){return this.view.resolution}set resolution(e){this.view.resolution=e,this.runners.resolutionChange.emit(e)}get width(){return this.view.texture.frame.width}get height(){return this.view.texture.frame.height}get canvas(){return this.view.canvas}get lastObjectRendered(){return this._lastObjectRendered}get renderingToScreen(){return this.renderTarget.renderingToScreen}get screen(){return this.view.screen}_addRunners(...e){e.forEach(t=>{this.runners[t]=new Od(t)})}_addSystems(e){let t;for(t in e){const r=e[t];this._addSystem(r.value,r.name)}}_addSystem(e,t){const r=new e(this);if(this[t])throw new Error(`Whoops! The name "${t}" is already in use`);this[t]=r,this._systemsHash[t]=r;for(const o in this.runners)this.runners[o].add(r);return this}_addPipes(e,t){const r=t.reduce((o,i)=>(o[i.name]=i.value,o),{});e.forEach(o=>{const i=o.value,l=o.name,u=r[l];this.renderPipes[l]=new i(this,u?new u:null)})}destroy(e=!1){this.runners.destroy.items.reverse(),this.runners.destroy.emit(e),Object.values(this.runners).forEach(t=>{t.destroy()}),this._systemsHash=null,this.renderPipes=null}generateTexture(e){return this.textureGenerator.generateTexture(e)}get roundPixels(){return!!this._roundPixels}_unsafeEvalCheck(){if(!Dd())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}resetState(){this.runners.resetState.emit()}};Wa.defaultOptions={resolution:1,failIfMajorPerformanceCaveat:!1,roundPixels:!1};let Ha=Wa,Un;function Rd(n){return Un!==void 0||(Un=(()=>{var t;const e={stencil:!0,failIfMajorPerformanceCaveat:n??Ha.defaultOptions.failIfMajorPerformanceCaveat};try{if(!fo.get().getWebGLRenderingContext())return!1;let o=fo.get().createCanvas().getContext("webgl",e);const i=!!((t=o==null?void 0:o.getContextAttributes())!=null&&t.stencil);if(o){const l=o.getExtension("WEBGL_lose_context");l&&l.loseContext()}return o=null,i}catch{return!1}})()),Un}let jn;async function Nd(n={}){return jn!==void 0||(jn=await(async()=>{const e=fo.get().getNavigator().gpu;if(!e)return!1;try{return await(await e.requestAdapter(n)).requestDevice(),!0}catch{return!1}})()),jn}const Cs=["webgl","webgpu","canvas"];async function Gd(n){let e=[];n.preference?(e.push(n.preference),Cs.forEach(i=>{i!==n.preference&&e.push(i)})):e=Cs.slice();let t,r={};for(let i=0;i<e.length;i++){const l=e[i];if(l==="webgpu"&&await Nd()){const{WebGPURenderer:u}=await ps(async()=>{const{WebGPURenderer:d}=await import("./a6iZfwMD.js");return{WebGPURenderer:d}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]),import.meta.url);t=u,r={...n,...n.webgpu};break}else if(l==="webgl"&&Rd(n.failIfMajorPerformanceCaveat??Ha.defaultOptions.failIfMajorPerformanceCaveat)){const{WebGLRenderer:u}=await ps(async()=>{const{WebGLRenderer:d}=await import("./BmeXAgbV.js");return{WebGLRenderer:d}},__vite__mapDeps([10,1,2,3,4,5,6,7,8,9]),import.meta.url);t=u,r={...n,...n.webgl};break}else if(l==="canvas")throw r={...n},new Error("CanvasRenderer is not yet implemented")}if(delete r.webgpu,delete r.webgl,!t)throw new Error("No available renderer for the current environment");const o=new t;return await o.init(r),o}const Ua="8.8.1";class ja{static init(){var e;(e=globalThis.__PIXI_APP_INIT__)==null||e.call(globalThis,this,Ua)}static destroy(){}}ja.extension=bn.Application;class Fd{constructor(e){this._renderer=e}init(){var e;(e=globalThis.__PIXI_RENDERER_INIT__)==null||e.call(globalThis,this._renderer,Ua)}destroy(){this._renderer=null}}Fd.extension={type:[bn.WebGLSystem,bn.WebGPUSystem],name:"initHook",priority:-10};const Ka=class bo{constructor(...e){this.stage=new Ir,e[0]!==void 0&&lr(ur,"Application constructor options are deprecated, please use Application.init() instead.")}async init(e){e={...e},this.renderer=await Gd(e),bo._plugins.forEach(t=>{t.init.call(this,e)})}render(){this.renderer.render({container:this.stage})}get canvas(){return this.renderer.canvas}get view(){return lr(ur,"Application.view is deprecated, please use Application.canvas instead."),this.renderer.canvas}get screen(){return this.renderer.screen}destroy(e=!1,t=!1){const r=bo._plugins.slice(0);r.reverse(),r.forEach(o=>{o.destroy.call(this)}),this.stage.destroy(t),this.stage=null,this.renderer.destroy(e),this.renderer=null}};Ka._plugins=[];let Va=Ka;Ro.handleByList(bn.Application,Va._plugins);Ro.add(ja);class Ya extends Rl{constructor(e,t){const{text:r,resolution:o,style:i,anchor:l,width:u,height:d,roundPixels:h,...p}=e;super({...p}),this.batched=!0,this._resolution=null,this._autoResolution=!0,this._didTextUpdate=!0,this._styleClass=t,this.text=r??"",this.style=i,this.resolution=o??null,this.allowChildren=!1,this._anchor=new Nl({_onUpdate:()=>{this.onViewUpdate()}}),l&&(this.anchor=l),this.roundPixels=h??!1,u!==void 0&&(this.width=u),d!==void 0&&(this.height=d)}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}set text(e){e=e.toString(),this._text!==e&&(this._text=e,this.onViewUpdate())}get text(){return this._text}set resolution(e){this._autoResolution=e===null,this._resolution=e,this.onViewUpdate()}get resolution(){return this._resolution}get style(){return this._style}set style(e){var t;e||(e={}),(t=this._style)==null||t.off("update",this.onViewUpdate,this),e instanceof this._styleClass?this._style=e:this._style=new this._styleClass(e),this._style.on("update",this.onViewUpdate,this),this.onViewUpdate()}get width(){return Math.abs(this.scale.x)*this.bounds.width}set width(e){this._setWidth(e,this.bounds.width)}get height(){return Math.abs(this.scale.y)*this.bounds.height}set height(e){this._setHeight(e,this.bounds.height)}getSize(e){return e||(e={}),e.width=Math.abs(this.scale.x)*this.bounds.width,e.height=Math.abs(this.scale.y)*this.bounds.height,e}setSize(e,t){typeof e=="object"?(t=e.height??e.width,e=e.width):t??(t=e),e!==void 0&&this._setWidth(e,this.bounds.width),t!==void 0&&this._setHeight(t,this.bounds.height)}containsPoint(e){const t=this.bounds.width,r=this.bounds.height,o=-t*this.anchor.x;let i=0;return e.x>=o&&e.x<=o+t&&(i=-r*this.anchor.y,e.y>=i&&e.y<=i+r)}onViewUpdate(){this.didViewUpdate||(this._didTextUpdate=!0),super.onViewUpdate()}_getKey(){return`${this.text}:${this._style.styleKey}:${this._resolution}`}destroy(e=!1){super.destroy(e),this.owner=null,this._bounds=null,this._anchor=null,(typeof e=="boolean"?e:e!=null&&e.style)&&this._style.destroy(e),this._style=null,this._text=null}}function Xa(n,e){let t=n[0]??{};return(typeof t=="string"||n[1])&&(lr(ur,`use new ${e}({ text: "hi!", style }) instead`),t={text:t,style:n[1]}),t}let Wd=class extends Ya{constructor(...e){const t=Xa(e,"Text");super(t,ya),this.renderPipeId="text"}updateBounds(){const e=this._bounds,t=this._anchor,r=Gl.measureText(this._text,this._style),{width:o,height:i}=r;e.minX=-t._x*o,e.maxX=e.minX+o,e.minY=-t._y*i,e.maxY=e.minY+i}},zd=class extends Ya{constructor(...e){var t;const r=Xa(e,"BitmapText");r.style??(r.style=r.style||{}),(t=r.style).fill??(t.fill=16777215),super(r,ya),this.renderPipeId="bitmapText"}updateBounds(){const e=this._bounds,t=this._anchor,r=Fl.measureText(this.text,this._style),o=r.scale,i=r.offsetY*o;let l=r.width*o,u=r.height*o;const d=this._style._stroke;d&&(l+=d.width,u+=d.width),e.minX=-t._x*l,e.maxX=e.minX+l,e.minY=-t._y*(u+i),e.maxY=e.minY+u}set resolution(e){e!==null&&Wl("[BitmapText] dynamically updating the resolution is not supported. Resolution should be managed by the BitmapFont.")}get resolution(){return this._resolution}};const qa="@@pixi_svelte";function Hd(n){Vt(qa,n)}function rt(){return Yt(qa)}const Ja="@@pixi_parent";function Uo(n){const t={parent:n,addToParent:r=>{Ee(()=>(t.parent.addChild(r),t.parent.sortChildren(),()=>{r&&r.destroy()}))}};return Vt(Ja,t),t}function qt(){return Yt(Ja)}const Za="@@pixi_spine";function Ud(n){Vt(Za,n)}function jo(){return Yt(Za)}const Qa="@@pixi_spine_event_emitter";function jd(n){Vt(Qa,n)}function Kd(){return Yt(Qa)}const pr=16,Vd=({point:n,defaultValue:e})=>{const t=e;return typeof n=="number"?[n,n]:[(n==null?void 0:n.x)||t,(n==null?void 0:n.y)||t]},tt=({anchor:n,sizes:e})=>{const{width:t,height:r}=e,[o,i]=Vd({point:n,defaultValue:0});return{x:t*o,y:r*i}},Yd=()=>new Promise(n=>{try{zl.load({typekit:{id:"aba0ebl"},active:()=>{n()},inactive:()=>{console.error("Web font load inactive"),n()}})}catch(e){console.error(e),n()}});function Rt({props:n,target:e,ignore:t}){be(()=>{let r=e instanceof Function?e():e;r&&Object.keys(n).filter(o=>t?!t.includes(o):!0).forEach(o=>{n[o]!==void 0&&(r[o]=n[o])})})}var Xd=L("<div><!></div>");function qd(n,e){k(e,!0);const t=rt();let r,o=Z(!1);const i=async()=>{ga.reset(),await Yd(),t.stateApp.pixiApplication=new Va,await t.stateApp.pixiApplication.init({autoDensity:!0,backgroundAlpha:0,hello:!0,multiView:!1,antialias:!0,clearBeforeRender:!0,preference:"webgpu",powerPreference:"high-performance",resolution:rc.current,resizeTo:window}),r.appendChild(t.stateApp.pixiApplication.canvas),t.stateApp.pixiApplication.renderer.events.autoPreventDefault=!1,t.stateApp.pixiApplication.renderer.canvas.style.touchAction="auto"};Ee(async()=>{try{f(o)||await i(),N(o,!0)}catch(h){console.error(h)}}),In(()=>{t.stateApp.pixiApplication&&t.stateApp.pixiApplication.destroy()});var l=Xd(),u=te(l);{var d=h=>{var p=I(),s=w(p);$(s,()=>e.children),g(h,p)};Q(u,h=>{f(o)&&h(d)})}ee(l),wa(l,h=>r=h,()=>r),g(n,l),M()}function Jd(n,e){var u;k(e,!0);const t=rt();let r=Uo(((u=t.stateApp.pixiApplication)==null?void 0:u.stage)??new PIXI.Container);var o=I(),i=w(o);{var l=d=>{var h=I(),p=w(h);$(p,()=>e.children),g(d,h)};Q(i,d=>{r.parent&&d(l)})}g(n,o),M()}const Zd={spine:({key:n,rawAsset:e,src:t})=>{var r;const o=e[t.atlas],i=e[t.skeleton],l=new jl(o),u=i instanceof Uint8Array?new Hl(l):new Ul(l),d=(r=t==null?void 0:t.scale)!==null&&r!==void 0?r:1;u.scale=d;const h=u.readSkeletonData(i);return{[n]:h}},sprite:({key:n,rawAsset:e})=>({[n]:e}),sprites:({rawAsset:n})=>n.textures,spriteSheet:({key:n,rawAsset:e})=>({[n]:Object.values(e.textures)}),audio:({key:n,rawAsset:e})=>({[n]:e})},Qd=({key:n,type:e,rawAsset:t,src:r})=>{if(e==="font")return;const o=Zd[e];if(!o)throw Error("No asset process method found, please check the type of the asset.");return o({key:n,rawAsset:t,src:r})};function ef(n,e){k(e,!0);const t=rt();let r=Z(!1);const o=b(()=>t.stateApp.assets?Object.keys(t.stateApp.assets).filter(a=>{var c;return!((c=t.stateApp.assets)!=null&&c[a].preload)}):[]),i=b(()=>t.stateApp.assets?Object.keys(t.stateApp.assets).filter(a=>{var c;return((c=t.stateApp.assets)==null?void 0:c[a].preload)===!0}):[]);let l=0;const u=a=>{if(f(r)&&a===1){l=l+1;const c=l/f(o).length;t.stateApp.loadingProgress=c*100}},d=async a=>(await Promise.all(a.map(async m=>{try{const{type:_,src:v}=t.stateApp.assets[m],y=_==="spine"?Object.values(v).filter(P=>typeof P=="string"):v,S=await ga.load(y,u);return Qd({key:m,rawAsset:S,type:_,src:v})}catch(_){console.error(_)}}))).reduce((m,_)=>({...m,..._}),{});be(()=>{f(r)||(async()=>{if(f(i).length>0){const a=await d(f(i));a&&(t.stateApp.loadedAssets=a)}N(r,!0)})()}),be(()=>{!t.stateApp.loaded&&f(r)&&(async()=>{if(f(o).length>0){const a=await d(f(o));a&&(t.stateApp.loadedAssets={...t.stateApp.loadedAssets,...a})}t.stateApp.loaded=!0})()});var h=I(),p=w(h);{var s=a=>{var c=I(),m=w(c);$(m,()=>e.children),g(a,c)};Q(p,a=>{f(r)&&a(s)})}g(n,h),M()}function tf(n,e){k(e,!0);const t=rt();Ee(()=>t.stateApp.reset()),In(()=>t.stateApp.reset()),qd(n,{children:(r,o)=>{Jd(r,{children:(i,l)=>{ef(i,{children:(u,d)=>{var h=I(),p=w(h);$(p,()=>e.children),g(u,h)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),M()}function ze(n,e){k(e,!0);const t=me(e,["$$slots","$$events","$$legacy"]),r=qt(),o=new Wd({text:e.text,style:e.style});Rt({props:t,target:o,ignore:["onresize"]}),be(()=>{var i;e==null||e.text,e==null||e.style,(i=e.onresize)==null||i.call(e,{width:o.width,height:o.height})}),Ee(()=>{var i;(i=e.onresize)==null||i.call(e,{width:o.width,height:o.height})}),r.addToParent(o),M()}function G(n,e){k(e,!0);const t=me(e,["$$slots","$$events","$$legacy"]),r=qt(),o=new Ir;Rt({props:t,target:o,ignore:["children"]}),r.addToParent(o),Uo(o);var i=I(),l=w(i);$(l,()=>e.children),g(n,i),M()}function nf(n,e){k(e,!0);const t=me(e,["$$slots","$$events","$$legacy"]),r=qt(),o=new Kl;Rt({props:t,target:o,ignore:["isMask","draw"]}),be(()=>{e.isMask!==void 0&&(r.parent.mask=e.isMask?o:null)}),be(()=>{e.draw&&(o.clear(),e.draw(o))}),r.addToParent(o),M()}function Ve(n,e){k(e,!0);const t=me(e,["$$slots","$$events","$$legacy","anchor","width","height","borderRadius","backgroundColor","backgroundAlpha","borderColor","borderWidth","borderAlpha"]),r=b(()=>tt({anchor:e.anchor,sizes:{width:e.width,height:e.height}}));nf(n,q(()=>t,{get pivot(){return f(r)},draw:o=>{o.roundRect(0,0,e.width,e.height,e.borderRadius??0),o.fill({color:e.backgroundColor??0,alpha:e.backgroundAlpha??1}),o.stroke({color:e.borderColor??0,width:e.borderWidth??0,alpha:e.borderAlpha??1})}})),M()}function rf(n,e){k(e,!0);const t=me(e,["$$slots","$$events","$$legacy"]),r=qt(),o=new Vl(e.texture);Rt({props:t,target:o,ignore:["isMask"]}),be(()=>{e.isMask!==void 0&&(r.parent.mask=e.isMask?o:null)}),r.addToParent(o),M()}var of=L("<!> <!>",1);function Ge(n,e){k(e,!0);const t=me(e,["$$slots","$$events","$$legacy","debug","key"]),r=rt(),o=b(()=>{var h;return((h=r.stateApp.loadedAssets)==null?void 0:h[e.key])||gs.EMPTY});var i=of(),l=w(i);{var u=h=>{var p=Ke();ae((s,a)=>ue(p,`${s??""}
	${a??""}`),[()=>console.error(`Sprite: key "${e.key}" is not found in the loadedAssets`),()=>console.log("loadedAssets",Lr(r.stateApp).loadedAssets)]),g(h,p)};Q(l,h=>{(f(o)===gs.EMPTY||e.debug)&&h(u)})}var d=x(l,2);rf(d,q(()=>t,{get texture(){return f(o)}})),g(n,i),M()}function sf(n,e){k(e,!0);const t=me(e,["$$slots","$$events","$$legacy"]),r=qt(),o=new Yl(e.spineData);Rt({props:t,target:o,ignore:["children"]}),r.addToParent(o),Ud(o);var i=I(),l=w(i);$(l,()=>e.children),g(n,i),M()}var af=L("<!> <!> <!>",1);function ke(n,e){k(e,!0);const t=me(e,["$$slots","$$events","$$legacy","debug","key","anchor","children","scale"]),r=rt(),o=b(()=>{var _;return(_=r.stateApp.loadedAssets)==null?void 0:_[e.key]}),i={x:1,y:1},l=b(()=>{var _,v;if(!f(o)||!((_=f(o))!=null&&_.width)||!((v=f(o))!=null&&v.height)||!e.width&&!e.height)return i;if(!e.width&&e.height){const y=e.height/f(o).height;return{x:y,y}}if(e.width&&!e.height){const y=e.width/f(o).width;return{x:y,y}}return e.width&&e.height?{x:e.width/f(o).width,y:e.height/f(o).height}:i}),u=b(()=>{var _,v;return typeof e.scale=="number"?{x:f(l).x*e.scale,y:f(l).y*e.scale}:{x:f(l).x*(((_=e.scale)==null?void 0:_.x)||1),y:f(l).y*(((v=e.scale)==null?void 0:v.y)||1)}}),d=b(()=>{var y,S;if(!f(o)||!((y=f(o))!=null&&y.width)||!((S=f(o))!=null&&S.height))return 0;const _=e.width||f(o).width,v=e.height||f(o).height;return tt({anchor:e.anchor,sizes:{width:_,height:v}})});var h=af(),p=w(h);{var s=_=>{var v=Ke();ae(y=>ue(v,y),[()=>console.error(`Spine: key "${e.key}" is not found in loadedAssets`)]),g(_,v)};Q(p,_=>{f(o)||_(s)})}var a=x(p,2);{var c=_=>{var v=Ke();ae(y=>ue(v,y),[()=>console.log("loadedAssets",Lr(r.stateApp).loadedAssets)]),g(_,v)};Q(a,_=>{(!f(o)||e.debug)&&_(c)})}var m=x(a,2);su(m,()=>f(o),_=>{sf(_,q(()=>t,{get scale(){return f(u)},get pivot(){return f(d)},get spineData(){return f(o)},children:(v,y)=>{var S=I(),A=w(S);$(A,()=>e.children),g(v,S)},$$slots:{default:!0}}))}),g(n,h),M()}function lf(n,e){k(e,!0);const t=jo(),r=new va;t.beforeUpdateWorldTransforms=()=>r.emit("beforeUpdateWorldTransforms"),t.afterUpdateWorldTransforms=()=>r.emit("afterUpdateWorldTransforms"),jd(r);var o=I(),i=w(o);$(i,()=>e.children),g(n,o),M()}function Me(n,e){k(e,!0);const t=me(e,["$$slots","$$events","$$legacy"]),r=jo();let o=Z(ne(r.state.tracks[e.trackIndex]));be(()=>{var i,l,u,d,h,p;if(e.trackIndex!==((i=f(o))==null?void 0:i.trackIndex)||e.animationName!==((u=(l=f(o))==null?void 0:l.animation)==null?void 0:u.name)){f(o)&&r.state.setEmptyAnimation(f(o).trackIndex,0);try{N(o,ne(r.state.setAnimation(e.trackIndex,e.animationName,e.loop)))}catch(s){console.error(s);const a=(p=(h=(d=r==null?void 0:r.state)==null?void 0:d.data)==null?void 0:h.skeletonData)==null?void 0:p.animations;a&&console.log("Available animation names:",a.map(c=>c.name))}}}),Rt({props:t,target:()=>f(o),ignore:["trackIndex","animationName"]}),In(()=>{r.state.setEmptyAnimation(e.trackIndex,0)}),M()}function bt(n,e){k(e,!0);const t=jo(),r=new Ir,o=Kd();let i=Z(!o);Ee(()=>{o&&o.on("beforeUpdateWorldTransforms",()=>{const h=t.skeleton.findSlot(e.slotName);h&&N(i,ne(!!(h!=null&&h.attachment)))}),t.addSlotObject(e.slotName,r)}),Uo(r);var l=I(),u=w(l);{var d=h=>{var p=I(),s=w(p);$(s,()=>e.children),g(h,p)};Q(u,h=>{f(i)&&h(d)})}g(n,l),M()}function dt(n,e){k(e,!0);const t=me(e,["$$slots","$$events","$$legacy"]),r=qt(),o=new zd({text:e.text,style:e.style});Rt({props:t,target:o,ignore:["onresize"]}),be(()=>{var i;e==null||e.text,e==null||e.style,(i=e.onresize)==null||i.call(e,{width:o.width,height:o.height})}),Ee(()=>{var i;(i=e.onresize)==null||i.call(e,{width:o.width,height:o.height})}),r.addToParent(o),M()}function uf(n,e){k(e,!0);const t=me(e,["$$slots","$$events","$$legacy"]),r=rt(),o=qt(),i=b(()=>{var d;return(d=r.stateApp.loadedAssets)==null?void 0:d[e.key]}),l=b(()=>ql(e.config,f(i))),u=new Xl(o.parent,f(l));Rt({props:t,target:u,ignore:["emit"]}),be(()=>{e.emit&&u.init(f(l))}),r.stateApp.pixiApplication&&r.stateApp.pixiApplication.ticker.add(()=>{if(r.stateApp.pixiApplication){const d=r.stateApp.pixiApplication.ticker.deltaMS*(e.emitSpeed||.00234);u.update(d)}}),In(()=>{u.emit=!1,u.destroy()}),M()}function cf({assets:n}){const t=ne({reset:()=>{t.loaded=!1,t.loadingProgress=0,t.loadedAssets={},t.pixiApplication=void 0},assets:n,loaded:!1,loadingProgress:0,loadedAssets:{},pixiApplication:void 0});return{stateApp:t}}function df(n,e){k(e,!1);const t=rt();globalThis.__PIXI_APP__=t.stateApp.pixiApplication,Ie(),M()}function He(n,e){k(e,!0);const t=me(e,["$$slots","$$events","$$legacy","show","persistent","duration","oncomplete","children"]),r=new $e(e.show?1:0,{duration:e.duration});be(()=>{r.set(e.show?1:0,{duration:e.duration}).then(()=>{var u;return(u=e.oncomplete)==null?void 0:u.call(e)})}),Ee(async()=>{var u;e.show&&(await r.set(0,{duration:0}),await r.set(1),(u=e.oncomplete)==null||u.call(e))});var o=I(),i=w(o);{var l=u=>{G(u,q(()=>t,{get alpha(){return r.current},children:(d,h)=>{var p=I(),s=w(p);$(s,()=>e.children),g(d,p)},$$slots:{default:!0}}))};Q(i,u=>{(r.current>0||e.persistent)&&u(l)})}g(n,o),M()}var ff=L("<!> <!>",1),hf=L("<!> <!> <!>",1);function mf(n,e){k(e,!0);const t=rt(),r=b(()=>({width:e.width,height:e.height})),o=b(()=>tt({anchor:{x:.5,y:0},sizes:f(r)}));G(n,{get x(){return e.x},get y(){return e.y},get pivot(){return f(o)},children:(i,l)=>{var u=hf(),d=w(u);$(d,()=>e.background,()=>f(r));var h=x(d,2);G(h,{children:(s,a)=>{var c=ff(),m=w(c);$(m,()=>e.progress,()=>f(r));var _=x(m,2);const v=b(()=>e.width*(t.stateApp.loadingProgress/100));Ve(_,{isMask:!0,get height(){return e.height},get width(){return f(v)}}),g(s,c)},$$slots:{default:!0}});var p=x(h,2);$(p,()=>e.frame,()=>f(r)),g(i,u)},$$slots:{default:!0}}),M()}function ei(n,e){k(e,!0);const t=new $e(0),r=ba();let o=Z(!1);const i=()=>t.set(e.amount,{duration:e.duration}),l=()=>t.set(e.amount,{duration:0}),u=()=>r.interrupt(),d=async()=>{await r.add(i),l(),N(o,!0),e.oncomplete(),r.clear()};var h=I(),p=w(h);$(p,()=>e.children,()=>({countUpAmount:t.current,startCountUp:d,finishCountUp:u,countUpCompleted:f(o)})),g(n,h),M()}var pf=L("<!> <!>",1);function _r(n,e){const t=me(e,["$$slots","$$events","$$legacy","maxWidth"]);let r=Z(ne({width:0,height:0}));const o=b(()=>e.maxWidth/(f(r).width||1));var i=pf(),l=w(i);G(l,{visible:!1,children:(d,h)=>{dt(d,q(()=>t,{onresize:p=>N(r,ne(p))}))},$$slots:{default:!0}});var u=x(l,2);G(u,{children:(d,h)=>{const p=b(()=>Math.min(f(o),1));dt(d,q(()=>t,{get scale(){return f(p)}}))},$$slots:{default:!0}}),g(n,i)}var _f=L("<!> <!>",1);function Mr(n,e){k(e,!0);const t=me(e,["$$slots","$$events","$$legacy","children","sizes","anchor","disabled","onpress","debug"]),r=b(()=>({x:e.sizes.width*.5,y:e.sizes.height*.5}));let o=Z(!1),i=Z(!1);be(()=>{e.disabled&&(N(o,!1),N(i,!1))});const l=b(()=>e.disabled?"not-allowed":"pointer"),u=b(()=>tt({sizes:e.sizes,anchor:e.anchor}));G(n,q(()=>t,{eventMode:"static",get cursor(){return f(l)},get pivot(){return f(u)},onpointerover:()=>{e.disabled||N(o,!0)},onpointerout:()=>{e.disabled||N(o,!1)},onpointerdown:()=>{e.disabled||N(i,!0)},onpointerup:()=>{e.disabled||(N(i,!1),e.onpress())},children:(d,h)=>{var p=_f(),s=w(p);{var a=m=>{Ve(m,{get width(){return e.sizes.width},get height(){return e.sizes.height},alpha:.5,borderWidth:2,borderColor:16777215})};Q(s,m=>{e.debug&&m(a)})}var c=x(s,2);$(c,()=>e.children,()=>({center:f(r),hovered:f(o),pressed:f(i)})),g(d,p)},$$slots:{default:!0}})),M()}const vr=16777215,Br=0;function vf(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}function yf(){const n=vf();if(n.__xstate__)return n.__xstate__}const gf=n=>{if(typeof window>"u")return;const e=yf();e&&e.register(n)};class Rs{constructor(e){this._process=e,this._active=!1,this._current=null,this._last=null}start(){this._active=!0,this.flush()}clear(){this._current&&(this._current.next=null,this._last=this._current)}enqueue(e){const t={value:e,next:null};if(this._current){this._last.next=t,this._last=t;return}this._current=t,this._last=t,this._active&&this.flush()}flush(){for(;this._current;){const e=this._current;this._process(e.value),this._current=e.next}this._last=null}}const ti=".",bf="",ni="",wf="#",Sf="*",ri="xstate.init",yr="xstate.stop";function xf(n,e){return{type:`xstate.after.${n}.${e}`}}function wo(n,e){return{type:`xstate.done.state.${n}`,output:e}}function Af(n,e){return{type:`xstate.done.actor.${n}`,output:e,actorId:n}}function Tf(n,e){return{type:`xstate.error.actor.${n}`,error:e,actorId:n}}function oi(n){return{type:ri,input:n}}function vt(n){setTimeout(()=>{throw n})}const Pf=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ko(n,e){const t=Ns(n),r=Ns(e);return typeof r=="string"?typeof t=="string"?r===t:!1:typeof t=="string"?t in r:Object.keys(t).every(o=>o in r?Ko(t[o],r[o]):!1)}function Vo(n){if(ai(n))return n;const e=[];let t="";for(let r=0;r<n.length;r++){switch(n.charCodeAt(r)){case 92:t+=n[r+1],r++;continue;case 46:e.push(t),t="";continue}t+=n[r]}return e.push(t),e}function Ns(n){if(ah(n))return n.value;if(typeof n!="string")return n;const e=Vo(n);return Ef(e)}function Ef(n){if(n.length===1)return n[0];const e={};let t=e;for(let r=0;r<n.length-1;r++)if(r===n.length-2)t[n[r]]=n[r+1];else{const o=t;t={},o[n[r]]=t}return e}function Gs(n,e){const t={},r=Object.keys(n);for(let o=0;o<r.length;o++){const i=r[o];t[i]=e(n[i],i,n,o)}return t}function si(n){return ai(n)?n:[n]}function Bt(n){return n===void 0?[]:si(n)}function So(n,e,t,r){return typeof n=="function"?n({context:e,event:t,self:r}):n}function ai(n){return Array.isArray(n)}function If(n){return n.type.startsWith("xstate.error.actor")}function Qt(n){return si(n).map(e=>typeof e>"u"||typeof e=="string"?{target:e}:e)}function ii(n){if(!(n===void 0||n===bf))return Bt(n)}function xo(n,e,t){var i,l,u;const r=typeof n=="object",o=r?n:void 0;return{next:(i=r?n.next:n)==null?void 0:i.bind(o),error:(l=r?n.error:e)==null?void 0:l.bind(o),complete:(u=r?n.complete:t)==null?void 0:u.bind(o)}}function Fs(n,e){return`${e}.${n}`}function Yo(n,e){const t=e.match(/^xstate\.invoke\.(\d+)\.(.*)/);if(!t)return n.implementations.actors[e];const[,r,o]=t,l=n.getStateNodeById(o).config.invoke;return(Array.isArray(l)?l[r]:l).src}function Ws(n,e){return`${n.sessionId}.${e}`}let Lf=0;function kf(n,e){const t=new Map,r=new Map,o=new WeakMap,i=new Set,l={},{clock:u,logger:d}=e,h={schedule:(a,c,m,_,v=Math.random().toString(36).slice(2))=>{const y={source:a,target:c,event:m,delay:_,id:v,startedAt:Date.now()},S=Ws(a,v);s._snapshot._scheduledEvents[S]=y;const A=u.setTimeout(()=>{delete l[S],delete s._snapshot._scheduledEvents[S],s._relay(a,c,m)},_);l[S]=A},cancel:(a,c)=>{const m=Ws(a,c),_=l[m];delete l[m],delete s._snapshot._scheduledEvents[m],_!==void 0&&u.clearTimeout(_)},cancelAll:a=>{for(const c in s._snapshot._scheduledEvents){const m=s._snapshot._scheduledEvents[c];m.source===a&&h.cancel(a,m.id)}}},p=a=>{if(!i.size)return;const c={...a,rootId:n.sessionId};i.forEach(m=>{var _;return(_=m.next)==null?void 0:_.call(m,c)})},s={_snapshot:{_scheduledEvents:((e==null?void 0:e.snapshot)&&e.snapshot.scheduler)??{}},_bookId:()=>`x:${Lf++}`,_register:(a,c)=>(t.set(a,c),a),_unregister:a=>{t.delete(a.sessionId);const c=o.get(a);c!==void 0&&(r.delete(c),o.delete(a))},get:a=>r.get(a),_set:(a,c)=>{const m=r.get(a);if(m&&m!==c)throw new Error(`Actor with system ID '${a}' already exists.`);r.set(a,c),o.set(c,a)},inspect:a=>{const c=xo(a);return i.add(c),{unsubscribe(){i.delete(c)}}},_sendInspectionEvent:p,_relay:(a,c,m)=>{s._sendInspectionEvent({type:"@xstate.event",sourceRef:a,actorRef:c,event:m}),c._send(m)},scheduler:h,getSnapshot:()=>({_scheduledEvents:{...s._snapshot._scheduledEvents}}),start:()=>{const a=s._snapshot._scheduledEvents;s._snapshot._scheduledEvents={};for(const c in a){const{source:m,target:_,event:v,delay:y,id:S}=a[c];h.schedule(m,_,v,y,S)}},_clock:u,_logger:d};return s}let Zr=!1;const Xo=1;let We=function(n){return n[n.NotStarted=0]="NotStarted",n[n.Running=1]="Running",n[n.Stopped=2]="Stopped",n}({});const Mf={clock:{setTimeout:(n,e)=>setTimeout(n,e),clearTimeout:n=>clearTimeout(n)},logger:console.log.bind(console),devTools:!1};class Bf{constructor(e,t){this.logic=e,this._snapshot=void 0,this.clock=void 0,this.options=void 0,this.id=void 0,this.mailbox=new Rs(this._process.bind(this)),this.observers=new Set,this.eventListeners=new Map,this.logger=void 0,this._processingStatus=We.NotStarted,this._parent=void 0,this._syncSnapshot=void 0,this.ref=void 0,this._actorScope=void 0,this._systemId=void 0,this.sessionId=void 0,this.system=void 0,this._doneEvent=void 0,this.src=void 0,this._deferred=[];const r={...Mf,...t},{clock:o,logger:i,parent:l,syncSnapshot:u,id:d,systemId:h,inspect:p}=r;this.system=l?l.system:kf(this,{clock:o,logger:i}),p&&!l&&this.system.inspect(xo(p)),this.sessionId=this.system._bookId(),this.id=d??this.sessionId,this.logger=(t==null?void 0:t.logger)??this.system._logger,this.clock=(t==null?void 0:t.clock)??this.system._clock,this._parent=l,this._syncSnapshot=u,this.options=r,this.src=r.src??e,this.ref=this,this._actorScope={self:this,id:this.id,sessionId:this.sessionId,logger:this.logger,defer:s=>{this._deferred.push(s)},system:this.system,stopChild:s=>{if(s._parent!==this)throw new Error(`Cannot stop child actor ${s.id} of ${this.id} because it is not a child`);s._stop()},emit:s=>{const a=this.eventListeners.get(s.type),c=this.eventListeners.get("*");if(!a&&!c)return;const m=[...a?a.values():[],...c?c.values():[]];for(const _ of m)_(s)},actionExecutor:s=>{const a=()=>{if(this._actorScope.system._sendInspectionEvent({type:"@xstate.action",actorRef:this,action:{type:s.type,params:s.params}}),!s.exec)return;const c=Zr;try{Zr=!0,s.exec(s.info,s.params)}finally{Zr=c}};this._processingStatus===We.Running?a():this._deferred.push(a)}},this.send=this.send.bind(this),this.system._sendInspectionEvent({type:"@xstate.actor",actorRef:this}),h&&(this._systemId=h,this.system._set(h,this)),this._initState((t==null?void 0:t.snapshot)??(t==null?void 0:t.state)),h&&this._snapshot.status!=="active"&&this.system._unregister(this)}_initState(e){var t;try{this._snapshot=e?this.logic.restoreSnapshot?this.logic.restoreSnapshot(e,this._actorScope):e:this.logic.getInitialSnapshot(this._actorScope,(t=this.options)==null?void 0:t.input)}catch(r){this._snapshot={status:"error",output:void 0,error:r}}}update(e,t){var o,i;this._snapshot=e;let r;for(;r=this._deferred.shift();)try{r()}catch(l){this._deferred.length=0,this._snapshot={...e,status:"error",error:l}}switch(this._snapshot.status){case"active":for(const l of this.observers)try{(o=l.next)==null||o.call(l,e)}catch(u){vt(u)}break;case"done":for(const l of this.observers)try{(i=l.next)==null||i.call(l,e)}catch(u){vt(u)}this._stopProcedure(),this._complete(),this._doneEvent=Af(this.id,this._snapshot.output),this._parent&&this.system._relay(this,this._parent,this._doneEvent);break;case"error":this._error(this._snapshot.error);break}this.system._sendInspectionEvent({type:"@xstate.snapshot",actorRef:this,event:t,snapshot:e})}subscribe(e,t,r){var i;const o=xo(e,t,r);if(this._processingStatus!==We.Stopped)this.observers.add(o);else switch(this._snapshot.status){case"done":try{(i=o.complete)==null||i.call(o)}catch(l){vt(l)}break;case"error":{const l=this._snapshot.error;if(!o.error)vt(l);else try{o.error(l)}catch(u){vt(u)}break}}return{unsubscribe:()=>{this.observers.delete(o)}}}on(e,t){let r=this.eventListeners.get(e);r||(r=new Set,this.eventListeners.set(e,r));const o=t.bind(void 0);return r.add(o),{unsubscribe:()=>{r.delete(o)}}}start(){if(this._processingStatus===We.Running)return this;this._syncSnapshot&&this.subscribe({next:r=>{r.status==="active"&&this.system._relay(this,this._parent,{type:`xstate.snapshot.${this.id}`,snapshot:r})},error:()=>{}}),this.system._register(this.sessionId,this),this._systemId&&this.system._set(this._systemId,this),this._processingStatus=We.Running;const e=oi(this.options.input);switch(this.system._sendInspectionEvent({type:"@xstate.event",sourceRef:this._parent,actorRef:this,event:e}),this._snapshot.status){case"done":return this.update(this._snapshot,e),this;case"error":return this._error(this._snapshot.error),this}if(this._parent||this.system.start(),this.logic.start)try{this.logic.start(this._snapshot,this._actorScope)}catch(r){return this._snapshot={...this._snapshot,status:"error",error:r},this._error(r),this}return this.update(this._snapshot,e),this.options.devTools&&this.attachDevTools(),this.mailbox.start(),this}_process(e){let t,r;try{t=this.logic.transition(this._snapshot,e,this._actorScope)}catch(o){r={err:o}}if(r){const{err:o}=r;this._snapshot={...this._snapshot,status:"error",error:o},this._error(o);return}this.update(t,e),e.type===yr&&(this._stopProcedure(),this._complete())}_stop(){return this._processingStatus===We.Stopped?this:(this.mailbox.clear(),this._processingStatus===We.NotStarted?(this._processingStatus=We.Stopped,this):(this.mailbox.enqueue({type:yr}),this))}stop(){if(this._parent)throw new Error("A non-root actor cannot be stopped directly.");return this._stop()}_complete(){var e;for(const t of this.observers)try{(e=t.complete)==null||e.call(t)}catch(r){vt(r)}this.observers.clear()}_reportError(e){if(!this.observers.size){this._parent||vt(e);return}let t=!1;for(const r of this.observers){const o=r.error;t||(t=!o);try{o==null||o(e)}catch(i){vt(i)}}this.observers.clear(),t&&vt(e)}_error(e){this._stopProcedure(),this._reportError(e),this._parent&&this.system._relay(this,this._parent,Tf(this.id,e))}_stopProcedure(){return this._processingStatus!==We.Running?this:(this.system.scheduler.cancelAll(this),this.mailbox.clear(),this.mailbox=new Rs(this._process.bind(this)),this._processingStatus=We.Stopped,this.system._unregister(this),this)}_send(e){this._processingStatus!==We.Stopped&&this.mailbox.enqueue(e)}send(e){this.system._relay(void 0,this,e)}attachDevTools(){const{devTools:e}=this.options;e&&(typeof e=="function"?e:gf)(this)}toJSON(){return{xstate$$type:Xo,id:this.id}}getPersistedSnapshot(e){return this.logic.getPersistedSnapshot(this._snapshot,e)}[Pf](){return this}getSnapshot(){return this._snapshot}}function wn(n,...[e]){return new Bf(n,e)}function $f(n,e,t,r,{sendId:o}){const i=typeof o=="function"?o(t,r):o;return[e,{sendId:i},void 0]}function Df(n,e){n.defer(()=>{n.system.scheduler.cancel(n.self,e.sendId)})}function Of(n){function e(t,r){}return e.type="xstate.cancel",e.sendId=n,e.resolve=$f,e.execute=Df,e}function Cf(n,e,t,r,{id:o,systemId:i,src:l,input:u,syncSnapshot:d}){const h=typeof l=="string"?Yo(e.machine,l):l,p=typeof o=="function"?o(t):o;let s,a;return h&&(a=typeof u=="function"?u({context:e.context,event:t.event,self:n.self}):u,s=wn(h,{id:p,src:l,parent:n.self,syncSnapshot:d,systemId:i,input:a})),[Kt(e,{children:{...e.children,[p]:s}}),{id:o,systemId:i,actorRef:s,src:l,input:a},void 0]}function Rf(n,{actorRef:e}){e&&n.defer(()=>{e._processingStatus!==We.Stopped&&e.start()})}function Nf(...[n,{id:e,systemId:t,input:r,syncSnapshot:o=!1}={}]){function i(l,u){}return i.type="xstate.spawnChild",i.id=e,i.systemId=t,i.src=n,i.input=r,i.syncSnapshot=o,i.resolve=Cf,i.execute=Rf,i}function Gf(n,e,t,r,{actorRef:o}){const i=typeof o=="function"?o(t,r):o,l=typeof i=="string"?e.children[i]:i;let u=e.children;return l&&(u={...u},delete u[l.id]),[Kt(e,{children:u}),l,void 0]}function Ff(n,e){if(e){if(n.system._unregister(e),e._processingStatus!==We.Running){n.stopChild(e);return}n.defer(()=>{n.stopChild(e)})}}function li(n){function e(t,r){}return e.type="xstate.stopChild",e.actorRef=n,e.resolve=Gf,e.execute=Ff,e}function qo(n,e,t,r){const{machine:o}=r,i=typeof n=="function",l=i?n:o.implementations.guards[typeof n=="string"?n:n.type];if(!i&&!l)throw new Error(`Guard '${typeof n=="string"?n:n.type}' is not implemented.'.`);if(typeof l!="function")return qo(l,e,t,r);const u={context:e,event:t},d=i||typeof n=="string"?void 0:"params"in n?typeof n.params=="function"?n.params({context:e,event:t}):n.params:void 0;return"check"in l?l.check(r,u,l):l(u,d)}const Jo=n=>n.type==="atomic"||n.type==="final";function on(n){return Object.values(n.states).filter(e=>e.type!=="history")}function Bn(n,e){const t=[];if(e===n)return t;let r=n.parent;for(;r&&r!==e;)t.push(r),r=r.parent;return t}function gr(n){const e=new Set(n),t=ci(e);for(const r of e)if(r.type==="compound"&&(!t.get(r)||!t.get(r).length))zs(r).forEach(o=>e.add(o));else if(r.type==="parallel"){for(const o of on(r))if(o.type!=="history"&&!e.has(o)){const i=zs(o);for(const l of i)e.add(l)}}for(const r of e){let o=r.parent;for(;o;)e.add(o),o=o.parent}return e}function ui(n,e){const t=e.get(n);if(!t)return{};if(n.type==="compound"){const o=t[0];if(o){if(Jo(o))return o.key}else return{}}const r={};for(const o of t)r[o.key]=ui(o,e);return r}function ci(n){const e=new Map;for(const t of n)e.has(t)||e.set(t,[]),t.parent&&(e.has(t.parent)||e.set(t.parent,[]),e.get(t.parent).push(t));return e}function di(n,e){const t=gr(e);return ui(n,ci(t))}function Zo(n,e){return e.type==="compound"?on(e).some(t=>t.type==="final"&&n.has(t)):e.type==="parallel"?on(e).every(t=>Zo(n,t)):e.type==="final"}const $r=n=>n[0]===wf;function Wf(n,e){return n.transitions.get(e)||[...n.transitions.keys()].filter(r=>{if(r===Sf)return!0;if(!r.endsWith(".*"))return!1;const o=r.split("."),i=e.split(".");for(let l=0;l<o.length;l++){const u=o[l],d=i[l];if(u==="*")return l===o.length-1;if(u!==d)return!1}return!0}).sort((r,o)=>o.length-r.length).flatMap(r=>n.transitions.get(r))}function zf(n){const e=n.config.after;if(!e)return[];const t=o=>{const i=xf(o,n.id),l=i.type;return n.entry.push(ph(i,{id:l,delay:o})),n.exit.push(Of(l)),l};return Object.keys(e).flatMap(o=>{const i=e[o],l=typeof i=="string"?{target:i}:i,u=Number.isNaN(+o)?o:+o,d=t(u);return Bt(l).map(h=>({...h,event:d,delay:u}))}).map(o=>{const{delay:i}=o;return{...Ft(n,o.event,o),delay:i}})}function Ft(n,e,t){const r=ii(t.target),o=t.reenter??!1,i=jf(n,r),l={...t,actions:Bt(t.actions),guard:t.guard,target:i,source:n,reenter:o,eventType:e,toJSON:()=>({...l,source:`#${n.id}`,target:i?i.map(u=>`#${u.id}`):void 0})};return l}function Hf(n){const e=new Map;if(n.config.on)for(const t of Object.keys(n.config.on)){if(t===ni)throw new Error('Null events ("") cannot be specified as a transition key. Use `always: { ... }` instead.');const r=n.config.on[t];e.set(t,Qt(r).map(o=>Ft(n,t,o)))}if(n.config.onDone){const t=`xstate.done.state.${n.id}`;e.set(t,Qt(n.config.onDone).map(r=>Ft(n,t,r)))}for(const t of n.invoke){if(t.onDone){const r=`xstate.done.actor.${t.id}`;e.set(r,Qt(t.onDone).map(o=>Ft(n,r,o)))}if(t.onError){const r=`xstate.error.actor.${t.id}`;e.set(r,Qt(t.onError).map(o=>Ft(n,r,o)))}if(t.onSnapshot){const r=`xstate.snapshot.${t.id}`;e.set(r,Qt(t.onSnapshot).map(o=>Ft(n,r,o)))}}for(const t of n.after){let r=e.get(t.eventType);r||(r=[],e.set(t.eventType,r)),r.push(t)}return e}function Uf(n,e){const t=typeof e=="string"?n.states[e]:e?n.states[e.target]:void 0;if(!t&&e)throw new Error(`Initial state node "${e}" not found on parent state node #${n.id}`);const r={source:n,actions:!e||typeof e=="string"?[]:Bt(e.actions),eventType:null,reenter:!1,target:t?[t]:[],toJSON:()=>({...r,source:`#${n.id}`,target:t?[`#${t.id}`]:[]})};return r}function jf(n,e){if(e!==void 0)return e.map(t=>{if(typeof t!="string")return t;if($r(t))return n.machine.getStateNodeById(t);const r=t[0]===ti;if(r&&!n.parent)return br(n,t.slice(1));const o=r?n.key+t:t;if(n.parent)try{return br(n.parent,o)}catch(i){throw new Error(`Invalid transition definition for state node '${n.id}':
${i.message}`)}else throw new Error(`Invalid target: "${t}" is not a valid target from the root node. Did you mean ".${t}"?`)})}function fi(n){const e=ii(n.config.target);return e?{target:e.map(t=>typeof t=="string"?br(n.parent,t):t)}:n.parent.initial}function Wt(n){return n.type==="history"}function zs(n){const e=hi(n);for(const t of e)for(const r of Bn(t,n))e.add(r);return e}function hi(n){const e=new Set;function t(r){if(!e.has(r)){if(e.add(r),r.type==="compound")t(r.initial.target[0]);else if(r.type==="parallel")for(const o of on(r))t(o)}}return t(n),e}function sn(n,e){if($r(e))return n.machine.getStateNodeById(e);if(!n.states)throw new Error(`Unable to retrieve child state '${e}' from '${n.id}'; no child states exist.`);const t=n.states[e];if(!t)throw new Error(`Child state '${e}' does not exist on '${n.id}'`);return t}function br(n,e){if(typeof e=="string"&&$r(e))try{return n.machine.getStateNodeById(e)}catch{}const t=Vo(e).slice();let r=n;for(;t.length;){const o=t.shift();if(!o.length)break;r=sn(r,o)}return r}function wr(n,e){if(typeof e=="string"){const o=n.states[e];if(!o)throw new Error(`State '${e}' does not exist on '${n.id}'`);return[n,o]}const t=Object.keys(e),r=t.map(o=>sn(n,o)).filter(Boolean);return[n.machine.root,n].concat(r,t.reduce((o,i)=>{const l=sn(n,i);if(!l)return o;const u=wr(l,e[i]);return o.concat(u)},[]))}function Kf(n,e,t,r){const i=sn(n,e).next(t,r);return!i||!i.length?n.next(t,r):i}function Vf(n,e,t,r){const o=Object.keys(e),i=sn(n,o[0]),l=Qo(i,e[o[0]],t,r);return!l||!l.length?n.next(t,r):l}function Yf(n,e,t,r){const o=[];for(const i of Object.keys(e)){const l=e[i];if(!l)continue;const u=sn(n,i),d=Qo(u,l,t,r);d&&o.push(...d)}return o.length?o:n.next(t,r)}function Qo(n,e,t,r){return typeof e=="string"?Kf(n,e,t,r):Object.keys(e).length===1?Vf(n,e,t,r):Yf(n,e,t,r)}function Xf(n){return Object.keys(n.states).map(e=>n.states[e]).filter(e=>e.type==="history")}function Ct(n,e){let t=n;for(;t.parent&&t.parent!==e;)t=t.parent;return t.parent===e}function qf(n,e){const t=new Set(n),r=new Set(e);for(const o of t)if(r.has(o))return!0;for(const o of r)if(t.has(o))return!0;return!1}function mi(n,e,t){const r=new Set;for(const o of n){let i=!1;const l=new Set;for(const u of r)if(qf(Ao([o],e,t),Ao([u],e,t)))if(Ct(o.source,u.source))l.add(u);else{i=!0;break}if(!i){for(const u of l)r.delete(u);r.add(o)}}return Array.from(r)}function Jf(n){const[e,...t]=n;for(const r of Bn(e,void 0))if(t.every(o=>Ct(o,r)))return r}function es(n,e){if(!n.target)return[];const t=new Set;for(const r of n.target)if(Wt(r))if(e[r.id])for(const o of e[r.id])t.add(o);else for(const o of es(fi(r),e))t.add(o);else t.add(r);return[...t]}function pi(n,e){const t=es(n,e);if(!t)return;if(!n.reenter&&t.every(o=>o===n.source||Ct(o,n.source)))return n.source;const r=Jf(t.concat(n.source));if(r)return r;if(!n.reenter)return n.source.machine.root}function Ao(n,e,t){var o;const r=new Set;for(const i of n)if((o=i.target)!=null&&o.length){const l=pi(i,t);i.reenter&&i.source===l&&r.add(l);for(const u of e)Ct(u,l)&&r.add(u)}return[...r]}function Zf(n,e){if(n.length!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0}function To(n,e,t,r,o,i){if(!n.length)return e;const l=new Set(e._nodes);let u=e.historyValue;const d=mi(n,l,u);let h=e;o||([h,u]=nh(h,r,t,d,l,u,i,t.actionExecutor)),h=an(h,r,t,d.flatMap(s=>s.actions),i,void 0),h=eh(h,r,t,d,l,i,u,o);const p=[...l];h.status==="done"&&(h=an(h,r,t,p.sort((s,a)=>a.order-s.order).flatMap(s=>s.exit),i,void 0));try{return u===e.historyValue&&Zf(e._nodes,l)?h:Kt(h,{_nodes:p,historyValue:u})}catch(s){throw s}}function Qf(n,e,t,r,o){if(r.output===void 0)return;const i=wo(o.id,o.output!==void 0&&o.parent?So(o.output,n.context,e,t.self):void 0);return So(r.output,n.context,i,t.self)}function eh(n,e,t,r,o,i,l,u){let d=n;const h=new Set,p=new Set;th(r,l,p,h),u&&p.add(n.machine.root);const s=new Set;for(const a of[...h].sort((c,m)=>c.order-m.order)){o.add(a);const c=[];c.push(...a.entry);for(const m of a.invoke)c.push(Nf(m.src,{...m,syncSnapshot:!!m.onSnapshot}));if(p.has(a)){const m=a.initial.actions;c.push(...m)}if(d=an(d,e,t,c,i,a.invoke.map(m=>m.id)),a.type==="final"){const m=a.parent;let _=(m==null?void 0:m.type)==="parallel"?m:m==null?void 0:m.parent,v=_||a;for((m==null?void 0:m.type)==="compound"&&i.push(wo(m.id,a.output!==void 0?So(a.output,d.context,e,t.self):void 0));(_==null?void 0:_.type)==="parallel"&&!s.has(_)&&Zo(o,_);)s.add(_),i.push(wo(_.id)),v=_,_=_.parent;if(_)continue;d=Kt(d,{status:"done",output:Qf(d,e,t,d.machine.root,v)})}}return d}function th(n,e,t,r){for(const o of n){const i=pi(o,e);for(const u of o.target||[])!Wt(u)&&(o.source!==u||o.source!==i||o.reenter)&&(r.add(u),t.add(u)),en(u,e,t,r);const l=es(o,e);for(const u of l){const d=Bn(u,i);(i==null?void 0:i.type)==="parallel"&&d.push(i),_i(r,e,t,d,!o.source.parent&&o.reenter?void 0:i)}}}function en(n,e,t,r){var o;if(Wt(n))if(e[n.id]){const i=e[n.id];for(const l of i)r.add(l),en(l,e,t,r);for(const l of i)Qr(l,n.parent,r,e,t)}else{const i=fi(n);for(const l of i.target)r.add(l),i===((o=n.parent)==null?void 0:o.initial)&&t.add(n.parent),en(l,e,t,r);for(const l of i.target)Qr(l,n.parent,r,e,t)}else if(n.type==="compound"){const[i]=n.initial.target;Wt(i)||(r.add(i),t.add(i)),en(i,e,t,r),Qr(i,n,r,e,t)}else if(n.type==="parallel")for(const i of on(n).filter(l=>!Wt(l)))[...r].some(l=>Ct(l,i))||(Wt(i)||(r.add(i),t.add(i)),en(i,e,t,r))}function _i(n,e,t,r,o){for(const i of r)if((!o||Ct(i,o))&&n.add(i),i.type==="parallel")for(const l of on(i).filter(u=>!Wt(u)))[...n].some(u=>Ct(u,l))||(n.add(l),en(l,e,t,n))}function Qr(n,e,t,r,o){_i(t,r,o,Bn(n,e))}function nh(n,e,t,r,o,i,l,u){let d=n;const h=Ao(r,o,i);h.sort((s,a)=>a.order-s.order);let p;for(const s of h)for(const a of Xf(s)){let c;a.history==="deep"?c=m=>Jo(m)&&Ct(m,s):c=m=>m.parent===s,p??(p={...i}),p[a.id]=Array.from(o).filter(c)}for(const s of h)d=an(d,e,t,[...s.exit,...s.invoke.map(a=>li(a.id))],l,void 0),o.delete(s);return[d,p||i]}function rh(n,e){return n.implementations.actions[e]}function vi(n,e,t,r,o,i){const{machine:l}=n;let u=n;for(const d of r){const h=typeof d=="function",p=h?d:rh(l,typeof d=="string"?d:d.type),s={context:u.context,event:e,self:t.self,system:t.system},a=h||typeof d=="string"?void 0:"params"in d?typeof d.params=="function"?d.params({context:u.context,event:e}):d.params:void 0;if(!p||!("resolve"in p)){t.actionExecutor({type:typeof d=="string"?d:typeof d=="object"?d.type:d.name||"(anonymous)",info:s,params:a,exec:p});continue}const c=p,[m,_,v]=c.resolve(t,u,s,a,p,o);u=m,"retryResolve"in c&&(i==null||i.push([c,_])),"execute"in c&&t.actionExecutor({type:c.type,info:s,params:_,exec:c.execute.bind(null,t,_)}),v&&(u=vi(u,e,t,v,o,i))}return u}function an(n,e,t,r,o,i){const l=i?[]:void 0,u=vi(n,e,t,r,{internalQueue:o,deferredActorIds:i},l);return l==null||l.forEach(([d,h])=>{d.retryResolve(t,u,h)}),u}function eo(n,e,t,r){let o=n;const i=[];function l(h,p,s){t.system._sendInspectionEvent({type:"@xstate.microstep",actorRef:t.self,event:p,snapshot:h,_transitions:s}),i.push(h)}if(e.type===yr)return o=Kt(Hs(o,e,t),{status:"stopped"}),l(o,e,[]),{snapshot:o,microstates:i};let u=e;if(u.type!==ri){const h=u,p=If(h),s=Us(h,o);if(p&&!s.length)return o=Kt(n,{status:"error",error:h.error}),l(o,h,[]),{snapshot:o,microstates:i};o=To(s,n,t,u,!1,r),l(o,h,s)}let d=!0;for(;o.status==="active";){let h=d?oh(o,u):[];const p=h.length?o:void 0;if(!h.length){if(!r.length)break;u=r.shift(),h=Us(u,o)}o=To(h,o,t,u,!1,r),d=o!==p,l(o,u,h)}return o.status!=="active"&&Hs(o,u,t),{snapshot:o,microstates:i}}function Hs(n,e,t){return an(n,e,t,Object.values(n.children).map(r=>li(r)),[],void 0)}function Us(n,e){return e.machine.getTransitionData(e,n)}function oh(n,e){const t=new Set,r=n._nodes.filter(Jo);for(const o of r)e:for(const i of[o].concat(Bn(o,void 0)))if(i.always){for(const l of i.always)if(l.guard===void 0||qo(l.guard,n.context,e,n)){t.add(l);break e}}return mi(Array.from(t),new Set(n._nodes),n.historyValue)}function sh(n,e){const t=gr(wr(n,e));return di(n,[...t])}function ah(n){return!!n&&typeof n=="object"&&"machine"in n&&"value"in n}const ih=function(e){return Ko(e,this.value)},lh=function(e){return this.tags.has(e)},uh=function(e){const t=this.machine.getTransitionData(this,e);return!!(t!=null&&t.length)&&t.some(r=>r.target!==void 0||r.actions.length)},ch=function(){const{_nodes:e,tags:t,machine:r,getMeta:o,toJSON:i,can:l,hasTag:u,matches:d,...h}=this;return{...h,tags:Array.from(t)}},dh=function(){return this._nodes.reduce((e,t)=>(t.meta!==void 0&&(e[t.id]=t.meta),e),{})};function ar(n,e){return{status:n.status,output:n.output,error:n.error,machine:e,context:n.context,_nodes:n._nodes,value:di(e.root,n._nodes),tags:new Set(n._nodes.flatMap(t=>t.tags)),children:n.children,historyValue:n.historyValue||{},matches:ih,hasTag:lh,can:uh,getMeta:dh,toJSON:ch}}function Kt(n,e={}){return ar({...n,...e},n.machine)}function fh(n,e){const{_nodes:t,tags:r,machine:o,children:i,context:l,can:u,hasTag:d,matches:h,getMeta:p,toJSON:s,...a}=n,c={};for(const _ in i){const v=i[_];c[_]={snapshot:v.getPersistedSnapshot(e),src:v.src,systemId:v._systemId,syncSnapshot:v._syncSnapshot}}return{...a,context:yi(l),children:c}}function yi(n){let e;for(const t in n){const r=n[t];if(r&&typeof r=="object")if("sessionId"in r&&"send"in r&&"ref"in r)e??(e=Array.isArray(n)?n.slice():{...n}),e[t]={xstate$$type:Xo,id:r.id};else{const o=yi(r);o!==r&&(e??(e=Array.isArray(n)?n.slice():{...n}),e[t]=o)}}return e??n}function hh(n,e,t,r,{event:o,id:i,delay:l},{internalQueue:u}){const d=e.machine.implementations.delays;if(typeof o=="string")throw new Error(`Only event objects may be used with raise; use raise({ type: "${o}" }) instead`);const h=typeof o=="function"?o(t,r):o;let p;if(typeof l=="string"){const s=d&&d[l];p=typeof s=="function"?s(t,r):s}else p=typeof l=="function"?l(t,r):l;return typeof p!="number"&&u.push(h),[e,{event:h,id:i,delay:p},void 0]}function mh(n,e){const{event:t,delay:r,id:o}=e;if(typeof r=="number"){n.defer(()=>{const i=n.self;n.system.scheduler.schedule(i,i,t,r,o)});return}}function ph(n,e){function t(r,o){}return t.type="xstate.raise",t.event=n,t.id=e==null?void 0:e.id,t.delay=e==null?void 0:e.delay,t.resolve=hh,t.execute=mh,t}const js="xstate.promise.resolve",Ks="xstate.promise.reject",Kn=new WeakMap;function Xe(n){return{config:n,transition:(t,r,o)=>{var i;if(t.status!=="active")return t;switch(r.type){case js:{const l=r.data;return{...t,status:"done",output:l,input:void 0}}case Ks:return{...t,status:"error",error:r.data,input:void 0};case yr:return(i=Kn.get(o.self))==null||i.abort(),{...t,status:"stopped",input:void 0};default:return t}},start:(t,{self:r,system:o,emit:i})=>{if(t.status!=="active")return;const l=new AbortController;Kn.set(r,l),Promise.resolve(n({input:t.input,system:o,self:r,signal:l.signal,emit:i})).then(d=>{r.getSnapshot().status==="active"&&(Kn.delete(r),o._relay(r,r,{type:js,data:d}))},d=>{r.getSnapshot().status==="active"&&(Kn.delete(r),o._relay(r,r,{type:Ks,data:d}))})},getInitialSnapshot:(t,r)=>({status:"active",output:void 0,error:void 0,input:r}),getPersistedSnapshot:t=>t,restoreSnapshot:t=>t}}function _h(n,{machine:e,context:t},r,o){const i=(l,u)=>{if(typeof l=="string"){const d=Yo(e,l);if(!d)throw new Error(`Actor logic '${l}' not implemented in machine '${e.id}'`);const h=wn(d,{id:u==null?void 0:u.id,parent:n.self,syncSnapshot:u==null?void 0:u.syncSnapshot,input:typeof(u==null?void 0:u.input)=="function"?u.input({context:t,event:r,self:n.self}):u==null?void 0:u.input,src:l,systemId:u==null?void 0:u.systemId});return o[h.id]=h,h}else return wn(l,{id:u==null?void 0:u.id,parent:n.self,syncSnapshot:u==null?void 0:u.syncSnapshot,input:u==null?void 0:u.input,src:l,systemId:u==null?void 0:u.systemId})};return(l,u)=>{const d=i(l,u);return o[d.id]=d,n.defer(()=>{d._processingStatus!==We.Stopped&&d.start()}),d}}function vh(n,e,t,r,{assignment:o}){if(!e.context)throw new Error("Cannot assign to undefined `context`. Ensure that `context` is defined in the machine config.");const i={},l={context:e.context,event:t.event,spawn:_h(n,e,t.event,i),self:n.self,system:n.system};let u={};if(typeof o=="function")u=o(l,r);else for(const h of Object.keys(o)){const p=o[h];u[h]=typeof p=="function"?p(l,r):p}const d=Object.assign({},e.context,u);return[Kt(e,{context:d,children:Object.keys(i).length?{...e.children,...i}:e.children}),void 0,void 0]}function Dr(n){function e(t,r){}return e.type="xstate.assign",e.assignment=n,e.resolve=vh,e}const Vs=new WeakMap;function Jt(n,e,t){let r=Vs.get(n);return r?e in r||(r[e]=t()):(r={[e]:t()},Vs.set(n,r)),r[e]}const yh={},mn=n=>typeof n=="string"?{type:n}:typeof n=="function"?"resolve"in n?{type:n.type}:{type:n.name}:n;class ts{constructor(e,t){if(this.config=e,this.key=void 0,this.id=void 0,this.type=void 0,this.path=void 0,this.states=void 0,this.history=void 0,this.entry=void 0,this.exit=void 0,this.parent=void 0,this.machine=void 0,this.meta=void 0,this.output=void 0,this.order=-1,this.description=void 0,this.tags=[],this.transitions=void 0,this.always=void 0,this.parent=t._parent,this.key=t._key,this.machine=t._machine,this.path=this.parent?this.parent.path.concat(this.key):[],this.id=this.config.id||[this.machine.id,...this.path].join(ti),this.type=this.config.type||(this.config.states&&Object.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.description=this.config.description,this.order=this.machine.idMap.size,this.machine.idMap.set(this.id,this),this.states=this.config.states?Gs(this.config.states,(r,o)=>new ts(r,{_parent:this,_key:o,_machine:this.machine})):yh,this.type==="compound"&&!this.config.initial)throw new Error(`No initial state specified for compound state node "#${this.id}". Try adding { initial: "${Object.keys(this.states)[0]}" } to the state config.`);this.history=this.config.history===!0?"shallow":this.config.history||!1,this.entry=Bt(this.config.entry).slice(),this.exit=Bt(this.config.exit).slice(),this.meta=this.config.meta,this.output=this.type==="final"||!this.parent?this.config.output:void 0,this.tags=Bt(e.tags).slice()}_initialize(){this.transitions=Hf(this),this.config.always&&(this.always=Qt(this.config.always).map(e=>Ft(this,ni,e))),Object.keys(this.states).forEach(e=>{this.states[e]._initialize()})}get definition(){return{id:this.id,key:this.key,version:this.machine.version,type:this.type,initial:this.initial?{target:this.initial.target,source:this,actions:this.initial.actions.map(mn),eventType:null,reenter:!1,toJSON:()=>({target:this.initial.target.map(e=>`#${e.id}`),source:`#${this.id}`,actions:this.initial.actions.map(mn),eventType:null})}:void 0,history:this.history,states:Gs(this.states,e=>e.definition),on:this.on,transitions:[...this.transitions.values()].flat().map(e=>({...e,actions:e.actions.map(mn)})),entry:this.entry.map(mn),exit:this.exit.map(mn),meta:this.meta,order:this.order||-1,output:this.output,invoke:this.invoke,description:this.description,tags:this.tags}}toJSON(){return this.definition}get invoke(){return Jt(this,"invoke",()=>Bt(this.config.invoke).map((e,t)=>{const{src:r,systemId:o}=e,i=e.id??Fs(this.id,t),l=typeof r=="string"?r:`xstate.invoke.${Fs(this.id,t)}`;return{...e,src:l,id:i,systemId:o,toJSON(){const{onDone:u,onError:d,...h}=e;return{...h,type:"xstate.invoke",src:l,id:i}}}}))}get on(){return Jt(this,"on",()=>[...this.transitions].flatMap(([t,r])=>r.map(o=>[t,o])).reduce((t,[r,o])=>(t[r]=t[r]||[],t[r].push(o),t),{}))}get after(){return Jt(this,"delayedTransitions",()=>zf(this))}get initial(){return Jt(this,"initial",()=>Uf(this,this.config.initial))}next(e,t){const r=t.type,o=[];let i;const l=Jt(this,`candidates-${r}`,()=>Wf(this,r));for(const u of l){const{guard:d}=u,h=e.context;let p=!1;try{p=!d||qo(d,h,t,e)}catch(s){const a=typeof d=="string"?d:typeof d=="object"?d.type:void 0;throw new Error(`Unable to evaluate guard ${a?`'${a}' `:""}in transition for event '${r}' in state node '${this.id}':
${s.message}`)}if(p){o.push(...u.actions),i=u;break}}return i?[i]:void 0}get events(){return Jt(this,"events",()=>{const{states:e}=this,t=new Set(this.ownEvents);if(e)for(const r of Object.keys(e)){const o=e[r];if(o.states)for(const i of o.events)t.add(`${i}`)}return Array.from(t)})}get ownEvents(){const e=new Set([...this.transitions.keys()].filter(t=>this.transitions.get(t).some(r=>!(!r.target&&!r.actions.length&&!r.reenter))));return Array.from(e)}}const gh="#";class ns{constructor(e,t){this.config=e,this.version=void 0,this.schemas=void 0,this.implementations=void 0,this.__xstatenode=!0,this.idMap=new Map,this.root=void 0,this.id=void 0,this.states=void 0,this.events=void 0,this.id=e.id||"(machine)",this.implementations={actors:(t==null?void 0:t.actors)??{},actions:(t==null?void 0:t.actions)??{},delays:(t==null?void 0:t.delays)??{},guards:(t==null?void 0:t.guards)??{}},this.version=this.config.version,this.schemas=this.config.schemas,this.transition=this.transition.bind(this),this.getInitialSnapshot=this.getInitialSnapshot.bind(this),this.getPersistedSnapshot=this.getPersistedSnapshot.bind(this),this.restoreSnapshot=this.restoreSnapshot.bind(this),this.start=this.start.bind(this),this.root=new ts(e,{_key:this.id,_machine:this}),this.root._initialize(),this.states=this.root.states,this.events=this.root.events}provide(e){const{actions:t,guards:r,actors:o,delays:i}=this.implementations;return new ns(this.config,{actions:{...t,...e.actions},guards:{...r,...e.guards},actors:{...o,...e.actors},delays:{...i,...e.delays}})}resolveState(e){const t=sh(this.root,e.value),r=gr(wr(this.root,t));return ar({_nodes:[...r],context:e.context||{},children:{},status:Zo(r,this.root)?"done":e.status||"active",output:e.output,error:e.error,historyValue:e.historyValue},this)}transition(e,t,r){return eo(e,t,r,[]).snapshot}microstep(e,t,r){return eo(e,t,r,[]).microstates}getTransitionData(e,t){return Qo(this.root,e.value,e,t)||[]}getPreInitialState(e,t,r){const{context:o}=this.config,i=ar({context:typeof o!="function"&&o?o:{},_nodes:[this.root],children:{},status:"active"},this);return typeof o=="function"?an(i,t,e,[Dr(({spawn:u,event:d,self:h})=>o({spawn:u,input:d.input,self:h}))],r,void 0):i}getInitialSnapshot(e,t){const r=oi(t),o=[],i=this.getPreInitialState(e,r,o),l=To([{target:[...hi(this.root)],source:this.root,reenter:!0,actions:[],eventType:null,toJSON:null}],i,e,r,!0,o),{snapshot:u}=eo(l,r,e,o);return u}start(e){Object.values(e.children).forEach(t=>{t.getSnapshot().status==="active"&&t.start()})}getStateNodeById(e){const t=Vo(e),r=t.slice(1),o=$r(t[0])?t[0].slice(gh.length):t[0],i=this.idMap.get(o);if(!i)throw new Error(`Child state node '#${o}' does not exist on machine '${this.id}'`);return br(i,r)}get definition(){return this.root.definition}toJSON(){return this.definition}getPersistedSnapshot(e,t){return fh(e,t)}restoreSnapshot(e,t){const r={},o=e.children;Object.keys(o).forEach(d=>{const h=o[d],p=h.snapshot,s=h.src,a=typeof s=="string"?Yo(this,s):s;if(!a)return;const c=wn(a,{id:d,parent:t.self,syncSnapshot:h.syncSnapshot,snapshot:p,src:s,systemId:h.systemId});r[d]=c});const i=ar({...e,children:r,_nodes:Array.from(gr(wr(this.root,e.value)))},this),l=new Set;function u(d,h){if(!l.has(d)){l.add(d);for(const p in d){const s=d[p];if(s&&typeof s=="object"){if("xstate$$type"in s&&s.xstate$$type===Xo){d[p]=h[s.id];continue}u(s,h)}}}}return u(i.context,r),i}}function bh(n,e){return new ns(n,e)}function $n({schemas:n,actors:e,actions:t,guards:r,delays:o}){return{createMachine:i=>bh({...i,schemas:n},{actors:e,actions:t,guards:r,delays:o})}}const Dn={bet:null,rawBet:null},Po="rendering",Eo="idle",gi="bet",bi="autoBet",wi="resumeBet",Si="forceResult",wh={on:{RENDERED:{target:"idle"}}},Sh={on:{FORCE_RESULT:{target:"forceResult"},RESUME_BET:{target:"resumeBet"},BET:{target:"bet"},AUTO_BET:{target:"autoBet"}}},xh={invoke:{id:"forceResult",src:"forceResult",onDone:"idle"}},Ah={invoke:{id:"resumeBet",src:"resumeBet",onDone:"idle"}},Th={invoke:{id:"bet",src:"bet",onDone:"idle"}},Ph={invoke:{id:"autoBet",src:"autoBet",onDone:"idle"}},Eh=n=>{const e=$n({actors:{bet:n.bet,autoBet:n.autoBet,resumeBet:n.resumeBet,forceResult:n.forceResult}}).createMachine({context:Dn,initial:"rendering",states:{[Po]:wh,[Eo]:Sh,[gi]:Th,[bi]:Ph,[wi]:Ah,[Si]:xh}});return wn(e)},Ih=async({onError:n})=>{var e,t,r;try{const o=await eu({rgsUrl:Ne.rgsUrl(),gameID:Ne.gameID(),sessionID:Ne.sessionID(),currency:V.currency,mode:V.activeBetModeKey,amount:V.betAmount});if(o!=null&&o.error)throw o;if((e=o==null?void 0:o.round)!=null&&e.state&&((r=(t=o==null?void 0:o.round)==null?void 0:t.state)==null?void 0:r.length)>0)return V.wageredBetAmount=V.betAmount,o;throw{error:"Empty state in data.round",message:JSON.stringify({data:o})}}catch(o){throw n(),V.autoSpinsCounter=0,_e.modal={name:"error",error:o},console.error(o),o}},Ys=async()=>{var n;try{const e=await tu({gameID:Ne.gameID(),sessionID:Ne.sessionID(),rgsUrl:Ne.rgsUrl()});if(e!=null&&e.error)throw e;if(((n=e==null?void 0:e.balance)==null?void 0:n.amount)!==void 0)return e;throw{error:"Empty amount in data.balance",message:JSON.stringify({data:e})}}catch(e){we.force||(_e.modal={name:"error",error:e}),console.error(e)}},Vn=({balanceAmountFromApi:n})=>{V.balanceAmount=n/Ql};function Lh(n){const{onResumeGameActive:e,onResumeGameInactive:t,onNewGameStart:r,onNewGameError:o,onPlayGame:i,checkIsBonusGame:l}=n;let u=null;const d={noWin:{newGame:async()=>{},endGame:async()=>{}},singleRoundWin:{newGame:async()=>{const _=await Ys();_!=null&&_.balance&&(u=_.balance.amount)},endGame:async()=>{u!==null&&(Vn({balanceAmountFromApi:u}),u=null)}},bonusWin:{newGame:async()=>{},endGame:async()=>{const _=await Ys();_!=null&&_.balance&&(Vn({balanceAmountFromApi:_.balance.amount}),u=null)}}},h=({bet:_})=>{const v=l(_);return _.active===!0&&v?"bonusWin":_.payoutMultiplier&&_.payoutMultiplier>0?v?"bonusWin":"singleRoundWin":"noWin"},p=Xe(async()=>{await r();const _=await Ih({onError:o});if(_){_.balance&&Vn({balanceAmountFromApi:_.balance.amount});const v=_.round,y=h({bet:v});return await d[y].newGame(),{bet:v}}return{bet:null}}),s=Xe(async()=>{const _=V.lastBet;if(_&&_.active){V.lastBet=null;const y=h({bet:_});return await d[y].newGame(),{bet:e(_),rawBet:_}}throw _&&_.state&&_.state.length>0&&t(_),new Error("inactive Bet")}),a=Xe(async({input:_})=>{we.force&&we.forceType!=="pastBets"&&_.bet&&(we.pastBets=[...we.pastBets,_.bet]),_.bet&&await i(_.bet)}),c=Xe(async({input:_})=>{const v=_.rawBet||_.bet;if(v){const y=h({bet:v});await d[y].endGame()}}),m=Xe(async()=>{var _,v,y,S;await r();try{const D=await{api:async()=>await Jl({rgsUrl:Ne.rgsUrl(),gameID:Ne.gameID(),mode:we.forceBetModeKey.toUpperCase(),search:{bookID:we.forceSearch.bookID===void 0?void 0:Number(we.forceSearch.bookID),kind:we.forceSearch.kind==="Any"?void 0:Number(we.forceSearch.kind),symbol:we.forceSearch.symbol==="Any"?void 0:we.forceSearch.symbol,hasWild:we.forceSearch.hasWild==="Any"?void 0:we.forceSearch.hasWild==="True",wildMult:we.forceSearch.wildMult==="Any"?void 0:Number(we.forceSearch.wildMult),gameType:we.forceSearch.gameType==="Any"?void 0:we.forceSearch.gameType}}),json:()=>{const j=JSON.parse(we.forceJson);return{round:{mode:we.forceBetModeKey.toUpperCase(),payoutMultiplier:2,state:j.events},error:null,balance:null}},pastBets:()=>({round:Zl.selectedPastBet(),error:null,balance:null})}[we.forceType]();if(D!=null&&D.error)throw D;if((_=D==null?void 0:D.round)!=null&&_.state&&((y=(v=D==null?void 0:D.round)==null?void 0:v.state)==null?void 0:y.length)>0)return((S=D==null?void 0:D.balance)==null?void 0:S.amount)!==void 0&&Vn({balanceAmountFromApi:D.balance.amount}),V.wageredBetAmount=V.betAmount,D.round.mode&&(V.activeBetModeKey=D.round.mode),{bet:D.round,rawBet:null};throw{error:"Empty state in data.round",message:JSON.stringify({data:D})}}catch(A){throw o(),V.autoSpinsCounter=0,_e.modal={name:"error",error:A},console.error(A),A}});return{newGame:p,playGame:a,endGame:c,resumeGame:s,forceGame:m}}const kh=Xe(async()=>{var n;if(V.isSpaceHold){if(((n=fe.activeBetMode())==null?void 0:n.type)==="buy"){V.activeBetModeKey="BASE";return}return}throw Error("end bet")}),Mh=({newGame:n,playGame:e,endGame:t})=>$n({actors:{newGame:n,playGame:e,endGame:t,checkSpaceHold:kh}}).createMachine({context:Dn,id:"bet",initial:"fetching",states:{fetching:{invoke:{id:"newGame",src:"newGame",onDone:[{actions:Dr(({context:o,event:i})=>i.output),target:"play"}],onError:[{target:"end"}]}},play:{invoke:{id:"playGame",src:"playGame",input:({context:o})=>({bet:o.bet}),onDone:[{target:"ending"}]}},ending:{invoke:{id:"endGame",src:"endGame",input:({context:o})=>({bet:o.bet,rawBet:o.rawBet}),onDone:[{target:"checkSpaceHold"}]}},checkSpaceHold:{invoke:{id:"checkSpaceHold",src:"checkSpaceHold",onDone:"fetching",onError:"end"}},end:{type:"final"}}});let xi=0;const Bh=Xe(async()=>{V.winBookEventAmount=0,V.autoSpinsLoss=0,xi=V.balanceAmount}),$h=Xe(async()=>{if(fe.isBetCostAvailable())return"continue";throw V.autoSpinsCounter=0,_e.modal={name:"autoSpinMessage",message:"insufficientFunds"},Error("End auto bet with insufficientFunds")}),Dh=Xe(async()=>{if(V.autoSpinsLossLimitAmount===1/0)return"continue";const n=V.balanceAmount,e=Math.round((xi-n)*100)/100;if(V.autoSpinsLoss=e,V.autoSpinsLossLimitAmount>e)return"continue";throw V.autoSpinsCounter=0,_e.modal={name:"autoSpinMessage",message:"lossLimitReached"},Error("End auto bet with lossLimitReached")}),Oh=Xe(async()=>{if(V.autoSpinsSingleWinLimitAmount===1/0||V.autoSpinsSingleWinLimitAmount>Da(V.winBookEventAmount))return"continue";throw V.autoSpinsCounter=0,_e.modal={name:"autoSpinMessage",message:"singleWinLimitReached"},Error("End auto bet with singleWinLimitReached")}),Ch=Xe(async()=>{if(V.autoSpinsCounter>0)return"continue";throw Error("End auto bet with autoSpinsCounter being 0")}),Rh=Xe(async()=>{const n=V.autoSpinsCounter-1;V.autoSpinsCounter=n>0?n:0}),Nh=({bet:n})=>$n({actors:{init:Bh,checkInsufficientFunds:$h,checkLossLimit:Dh,checkIfSingleWinLimit:Oh,checkAutoSpinsCounter:Ch,bet:n,updateAutoSpinsCounter:Rh}}).createMachine({context:Dn,id:"autoBet",initial:"init",states:{init:{invoke:{id:"init",src:"init",onDone:"checkInsufficientFunds",onError:"end"}},checkInsufficientFunds:{invoke:{id:"checkInsufficientFunds",src:"checkInsufficientFunds",onDone:"checkLossLimit",onError:"end"}},checkLossLimit:{invoke:{id:"checkLossLimit",src:"checkLossLimit",onDone:"checkIfSingleWinLimit",onError:"end"}},checkIfSingleWinLimit:{invoke:{id:"checkIfSingleWinLimit",src:"checkIfSingleWinLimit",onDone:"checkAutoSpinsCounter",onError:"end"}},checkAutoSpinsCounter:{invoke:{id:"checkAutoSpinsCounter",src:"checkAutoSpinsCounter",onDone:"playing",onError:"end"}},playing:{invoke:{id:"bet",src:"bet",onDone:"updateAutoSpinsCounter"}},updateAutoSpinsCounter:{invoke:{id:"updateAutoSpinsCounter",src:"updateAutoSpinsCounter",onDone:"checkInsufficientFunds"}},end:{type:"final"}}}),Gh=n=>$n({actors:n}).createMachine({context:Dn,id:"resumeBet",initial:"resumeGame",states:{resumeGame:{invoke:{id:"resumeGame",src:"resumeGame",onDone:[{actions:Dr(({context:t,event:r})=>r.output),target:"play"}],onError:[{target:"end"}]}},play:{invoke:{id:"playGame",src:"playGame",input:({context:t})=>({bet:t.bet}),onDone:[{target:"ending"}]}},ending:{invoke:{id:"endGame",src:"endGame",input:({context:t})=>({bet:t.bet,rawBet:t.rawBet}),onDone:[{target:"end"}]}},end:{type:"final"}}}),Fh=n=>$n({actors:n}).createMachine({context:Dn,id:"bet",initial:"fetching",states:{fetching:{invoke:{id:"forceGame",src:"forceGame",onDone:[{actions:Dr(({context:t,event:r})=>r.output),target:"play"}],onError:[{target:"end"}]}},play:{invoke:{id:"playGame",src:"playGame",input:({context:t})=>({bet:t.bet}),onDone:[{target:"ending"}]}},ending:{invoke:{id:"endGame",src:"endGame",input:({context:t})=>({bet:t.bet,rawBet:t.rawBet}),onDone:[{target:"end"}]}},end:{type:"final"}}}),Wh=({forceGame:n,resumeGame:e,newGame:t,playGame:r,endGame:o})=>{const i=Mh({newGame:t,playGame:r,endGame:o}),l=Nh({bet:i}),u=Gh({resumeGame:e,playGame:r,endGame:o}),d=Fh({forceGame:n,playGame:r,endGame:o});return{bet:i,autoBet:l,resumeBet:u,forceResult:d}},zh=()=>{const n=r=>Ko(r,e.value),e=ne({value:""});return{stateXstate:e,stateXstateDerived:{matchesXstate:n,isRendering:()=>n(Po),isIdle:()=>n(Eo),isBetting:()=>n(gi),isAutoBetting:()=>n(bi),isResumingBet:()=>n(wi),isForcingResult:()=>n(Si),isPlaying:()=>!n(Po)&&!n(Eo)}}},Ai="@@xstate";function Hh(n){Vt(Ai,n)}function Ti(){return Yt(Ai)}const Le=()=>({...St(),...Ti(),...ht(),...rt()});function Uh(n,e){k(e,!0);const t=Le();let r=Z(!0),o=Z(()=>{});t.eventEmitter.subscribeOnMount({uiShow:async()=>{f(r)===!1&&(N(r,!0),await Be(i=>N(o,ne(i))))},uiHide:async()=>{f(r)===!0&&(N(r,!1),await Be(i=>N(o,ne(i))))}}),He(n,{persistent:!0,get show(){return f(r)},get oncomplete(){return f(o)},children:(i,l)=>{var u=I(),d=w(u);$(d,()=>e.children),g(i,u)},$$slots:{default:!0}}),M()}var jh=L("<!> <!> <!>",1);function Pe(n,e){k(e,!0);const t=me(e,["$$slots","$$events","$$legacy","debug","alignVertical","alignHorizontal","children","standard"]),r=ht(),o=b(e.standard?r.stateLayoutDerived.mainLayoutStandard:r.stateLayoutDerived.mainLayout),i=b(r.stateLayoutDerived.canvasSizes),l=()=>{const p=f(i).height*.5-f(o).height*f(o).scale*.5;return e.alignVertical==="bottom"?p:0},u=()=>e.alignHorizontal==="left"?-f(i).width*.5+f(o).width*f(o).scale*.5:e.alignHorizontal==="right"?f(i).width*.5-f(o).width*f(o).scale*.5:0,d=b(l),h=b(u);G(n,{get x(){return f(h)},get y(){return f(d)},children:(p,s)=>{const a=b(()=>tt({anchor:f(o).anchor,sizes:{width:f(o).width,height:f(o).height}}));G(p,q(()=>t,{get x(){return f(o).x},get y(){return f(o).y},get scale(){return f(o).scale},get pivot(){return f(a)},children:(c,m)=>{var _=jh(),v=w(_);{var y=T=>{Ve(T,{get width(){return f(o).width},get height(){return f(o).height},alpha:.5,borderWidth:2,borderColor:16777215})};Q(v,T=>{e.debug&&T(y)})}var S=x(v,2);$(S,()=>e.children);var A=x(S,2);{var P=T=>{const C=b(()=>`
layoutType: ${r.stateLayoutDerived.layoutType()}

type: ${e.standard?"standard":"game"}

scale: ${f(o).scale}

mainSizes: {
		width: ${f(o).width},
		height: ${f(o).height}
}

canvasSizes: {
		width: ${r.stateLayoutDerived.canvasSizes().width},
		height: ${r.stateLayoutDerived.canvasSizes().height}
}`);ze(T,{get text(){return f(C)},style:{fill:16777215}})};Q(A,T=>{e.debug&&T(P)})}g(c,_)},$$slots:{default:!0}}))},$$slots:{default:!0}}),M()}function Or(n,e){k(e,!0);const t=me(e,["$$slots","$$events","$$legacy"]),r=ht();Ve(n,q(()=>t,{get width(){return r.stateLayoutDerived.canvasSizes().width},get height(){return r.stateLayoutDerived.canvasSizes().height}})),M()}function Kh(n,e){k(e,!0),Or(n,{get onpointerup(){return e.onpress},cursor:"pointer",eventMode:"static",backgroundColor:16777215,backgroundAlpha:.001}),M()}const he=150,Ye=he*.3,le=he*.9,Pi=[le*(188/116),800,350,le*(340/116)],ve=he*1.1,Vh=[ve*(188/116),1e3,ve*(373/116)];var Yh=L("<!> <!> <!> <!> <!> <!> <!> <!> <!> <!>",1),Xh=L("<!> <!> <!> <!> <!>",1),qh=L("<!> <!>",1),Jh=L("<!> <!> <!> <!>",1);function Zh(n,e){k(e,!0);const t=Le();var r=Jh(),o=w(r);G(o,{x:20,children:(p,s)=>{var a=I(),c=w(a);$(c,()=>e.gameName),g(p,a)},$$slots:{default:!0}});var i=x(o,2);const l=b(()=>t.stateLayoutDerived.canvasSizes().width-20);G(i,{get x(){return f(l)},children:(p,s)=>{var a=I(),c=w(a);$(c,()=>e.logo),g(p,a)},$$slots:{default:!0}});var u=x(i,2);Pe(u,{standard:!0,alignVertical:"bottom",children:(p,s)=>{const a=b(()=>t.stateLayoutDerived.mainLayoutStandard().width*.5),c=b(()=>t.stateLayoutDerived.mainLayoutStandard().height-le-10),m=b(()=>tt({anchor:{x:.5,y:0},sizes:{height:le,width:Pi.reduce((_,v)=>_+v,0)}}));G(p,{get x(){return f(a)},get y(){return f(c)},get pivot(){return f(m)},children:(_,v)=>{var y=Yh(),S=w(y);G(S,{y:le*.5-160,x:400,scale:.8,children:(U,R)=>{var B=I(),E=w(B);$(E,()=>e.amountBalance,()=>({stacked:!0})),g(U,B)},$$slots:{default:!0}});var A=x(S,2);G(A,{y:le*.5-160,x:900,scale:.8,children:(U,R)=>{var B=I(),E=w(B);$(E,()=>e.amountWin,()=>({stacked:!0})),g(U,B)},$$slots:{default:!0}});var P=x(A,2);G(P,{y:le*.5-160,x:1400,scale:.8,children:(U,R)=>{var B=I(),E=w(B);$(E,()=>e.amountBet,()=>({stacked:!0})),g(U,B)},$$slots:{default:!0}});var T=x(P,2);G(T,{y:le*.5,x:220,scale:.8,children:(U,R)=>{var B=I(),E=w(B);$(E,()=>e.buttonMenu,()=>({anchor:.5})),g(U,B)},$$slots:{default:!0}});var C=x(T,2);G(C,{y:le*.5,x:370,scale:.8,children:(U,R)=>{var B=I(),E=w(B);$(E,()=>e.buttonBuyBonus,()=>({anchor:.5})),g(U,B)},$$slots:{default:!0}});var D=x(C,2);G(D,{y:le*.5,x:160+150*4,scale:.8,children:(U,R)=>{var B=I(),E=w(B);$(E,()=>e.buttonAutoSpin,()=>({anchor:.5})),g(U,B)},$$slots:{default:!0}});var j=x(D,2);G(j,{y:le*.5,x:160+150*5,scale:.8,children:(U,R)=>{var B=I(),E=w(B);$(E,()=>e.buttonBet,()=>({anchor:.5})),g(U,B)},$$slots:{default:!0}});var F=x(j,2);G(F,{y:le*.5,x:160+150*6,scale:.8,children:(U,R)=>{var B=I(),E=w(B);$(E,()=>e.buttonTurbo,()=>({anchor:.5})),g(U,B)},$$slots:{default:!0}});var X=x(F,2);G(X,{y:le*.5,x:1440,scale:.8,children:(U,R)=>{var B=I(),E=w(B);$(E,()=>e.buttonDecrease,()=>({anchor:.5})),g(U,B)},$$slots:{default:!0}});var H=x(X,2);G(H,{y:le*.5,x:1590,scale:.8,children:(U,R)=>{var B=I(),E=w(B);$(E,()=>e.buttonIncrease,()=>({anchor:.5})),g(U,B)},$$slots:{default:!0}}),g(_,y)},$$slots:{default:!0}})},$$slots:{default:!0}});var d=x(u,2);{var h=p=>{var s=qh(),a=w(s);const c=b(()=>t.stateLayoutDerived.canvasSizes().width*.5),m=b(()=>t.stateLayoutDerived.canvasSizes().height*.5);Ve(a,{eventMode:"static",cursor:"pointer",alpha:.5,anchor:.5,backgroundColor:Br,get width(){return t.stateLayoutDerived.canvasSizes().width},get height(){return t.stateLayoutDerived.canvasSizes().height},get x(){return f(c)},get y(){return f(m)},onpointerup:()=>se.menuOpen=!1});var _=x(a,2);Pe(_,{standard:!0,alignVertical:"bottom",children:(v,y)=>{const S=b(()=>t.stateLayoutDerived.mainLayoutStandard().height-le-10);G(v,{x:298,get y(){return f(S)},children:(A,P)=>{var T=Xh(),C=w(T);G(C,{scale:.8,y:le*.5-150-510,children:(H,U)=>{var R=I(),B=w(R);$(B,()=>e.buttonPayTable,()=>({anchor:.5})),g(H,R)},$$slots:{default:!0}});var D=x(C,2);G(D,{scale:.8,y:le*.5-150-340,children:(H,U)=>{var R=I(),B=w(R);$(B,()=>e.buttonGameRules,()=>({anchor:.5})),g(H,R)},$$slots:{default:!0}});var j=x(D,2);G(j,{scale:.8,y:le*.5-150-170,children:(H,U)=>{var R=I(),B=w(R);$(B,()=>e.buttonSettings,()=>({anchor:.5})),g(H,R)},$$slots:{default:!0}});var F=x(j,2);G(F,{scale:.8,y:le*.5-150,children:(H,U)=>{var R=I(),B=w(R);$(B,()=>e.buttonSoundSwitch,()=>({anchor:.5})),g(H,R)},$$slots:{default:!0}});var X=x(F,2);G(X,{scale:.8,y:le*.5,children:(H,U)=>{var R=I(),B=w(R);$(B,()=>e.buttonMenuClose,()=>({anchor:.5})),g(H,R)},$$slots:{default:!0}}),g(A,T)},$$slots:{default:!0}})},$$slots:{default:!0}}),g(p,s)};Q(d,p=>{se.menuOpen&&p(h)})}g(n,r),M()}function ln(n,e){const t=me(e,["$$slots","$$events","$$legacy"]);Ve(n,q({borderRadius:50},()=>t))}var Qh=L("<!> <!> <!>",1),em=L("<!> <!> <!>",1);function Cr(n,e){k(e,!0);const t={fontFamily:"proxima-nova",fontSize:Ye,fill:vr},r={fontFamily:"proxima-nova",fontSize:Ye,fill:vr};var o=I(),i=w(o);{var l=d=>{var h=Qh(),p=w(h);{var s=m=>{ln(m,{y:-20,anchor:{x:.5,y:0},key:"base_ticker",width:Ye*3*4.465753424657534,height:Ye*3,borderRadius:35})};Q(p,m=>{e.tiled&&m(s)})}var a=x(p,2);ze(a,{anchor:{x:.5,y:0},get text(){return e.label},style:t});var c=x(a,2);ze(c,{anchor:{x:.5,y:0},get text(){return e.value},style:r,y:Ye}),g(d,h)},u=d=>{var h=em(),p=w(h);{var s=m=>{ln(m,{x:-90,anchor:{x:0,y:.5},key:"base_ticker",width:Ye*3*4.465753424657534,height:Ye*3,borderRadius:35})};Q(p,m=>{e.tiled&&m(s)})}var a=x(p,2);ze(a,{anchor:{x:0,y:.5},get text(){return e.label},style:t});var c=x(a,2);ze(c,{anchor:{x:1,y:.5},get text(){return e.value},style:r,x:Ye*10}),g(d,h)};Q(i,d=>{e.stacked?d(l):d(u,!1)})}g(n,o),M()}const ft={audio:()=>K._(K.t("AUDIO")),balance:()=>K._(K.t("BALANCE")),win:()=>K._(K.t("WIN")),bet:()=>K._(K.t("BET")),stop:()=>K._(K.t("STOP")),buyBonus:()=>K._(K.t("BUY BONUS")),disable:()=>K._(K.t("DISABLE")),freeSpins:()=>K._(K.t("FREE SPINS")),decrease:()=>K._(K.t("-")),increase:()=>K._(K.t("+")),menu:()=>K._(K.t("MENU")),turbo:()=>K._(K.t("TURBO")),autoSpin:()=>K._(K.t("AUTO SPIN")),payTable:()=>K._(K.t("PAYTABLE")),info:()=>K._(K.t("INFO")),settings:()=>K._(K.t("SETTINGS")),soundOn:()=>K._(K.t("SOUND ON")),soundOff:()=>K._(K.t("SOUND OFF")),menuExit:()=>K._(K.t("EXIT"))};function Ei(n,e){k(e,!0);const t=b(()=>ft.freeSpins()),r=b(()=>`${se.freeSpinCounterCurrent} / ${se.freeSpinCounterTotal}`);Cr(n,{tiled:!0,get label(){return f(t)},get value(){return f(r)},get stacked(){return e.stacked}}),M()}var tm=L("<!> <!>",1);function nm(n,e){k(e,!0);const t=me(e,["$$slots","$$events","$$legacy"]),r=Le(),o={width:he,height:he},i=a=>a*Math.PI/180,l={up:i(-180),down:i(0)},u=new $e(se.drawerFold?l.up:l.down,{easing:po});let d=Z(!1);const h=b(()=>e.disabled||f(d)),p=async()=>{se.drawerFold?await r.eventEmitter.broadcastAsync({type:"drawerUnfold"}):await r.eventEmitter.broadcastAsync({type:"drawerFold"})};r.eventEmitter.subscribeOnMount({drawerUnfold:async()=>{se.drawerFold&&(N(d,!0),await u.set(l.down),se.drawerFold=!1,N(d,!1))},drawerFold:async()=>{se.drawerFold||(N(d,!0),await u.set(l.up),se.drawerFold=!0,N(d,!1))}});const s=b(()=>f(h)?.5:1);Mr(n,q(()=>t,{sizes:o,onpress:p,get disabled(){return f(h)},get alpha(){return f(s)},children:(c,m)=>{let _=()=>m==null?void 0:m().center;var v=tm(),y=w(v);ln(y,q({key:"base_mobile_drawer"},_,{anchor:.5,get width(){return o.width},get height(){return o.height}}));var S=x(y,2);ze(S,q(_,{anchor:.5,text:"↓",style:{align:"center",wordWrap:!0,wordWrapWidth:200,fontFamily:"proxima-nova",fontWeight:"600",fontSize:Ye*.9,fill:16777215},get rotation(){return u.current}})),g(c,v)},$$slots:{default:!0}})),M()}var rm=L("<!> <!> <!> <!> <!> <!>",1),om=L("<!> <!>",1),sm=L("<!> <!> <!>",1),am=L("<!> <!>",1),im=L("<!> <!> <!> <!> <!>",1),lm=L("<!> <!>",1),um=L("<!> <!> <!> <!> <!>",1);function cm(n,e){k(e,!0);const t=Le(),r={unfold:0,fold:550},o=new $e(se.drawerFold?r.fold:r.unfold,{easing:po}),i={unfold:0,fold:50},l=new $e(se.drawerFold?i.fold:i.unfold,{easing:po});let u=Z(()=>{});t.eventEmitter.subscribeOnMount({drawerButtonShow:async()=>{se.drawerButtonShow||(se.drawerButtonShow=!0,await Be(v=>N(u,ne(v))))},drawerButtonHide:async()=>{se.drawerButtonShow&&(se.drawerButtonShow=!1,await Be(v=>N(u,ne(v))))},drawerUnfold:async()=>{se.drawerFold&&(l.set(i.unfold),await o.set(r.unfold))},drawerFold:async()=>{se.drawerFold||(l.set(i.fold),await o.set(r.fold))}});var d=um(),h=w(d);G(h,{x:20,children:(v,y)=>{var S=I(),A=w(S);$(A,()=>e.gameName),g(v,S)},$$slots:{default:!0}});var p=x(h,2);const s=b(()=>t.stateLayoutDerived.canvasSizes().width-20);G(p,{get x(){return f(s)},children:(v,y)=>{var S=I(),A=w(S);$(A,()=>e.logo),g(v,S)},$$slots:{default:!0}});var a=x(p,2);Pe(a,{standard:!0,alignVertical:"bottom",children:(v,y)=>{var S=om(),A=w(S);G(A,{get y(){return o.current},children:(C,D)=>{var j=rm(),F=w(j);const X=b(()=>t.stateLayoutDerived.mainLayoutStandard().width*.5-440),H=b(()=>t.stateLayoutDerived.mainLayoutStandard().height-400);G(F,{get x(){return f(X)},get y(){return f(H)},children:(De,pt)=>{var xe=I(),Ue=w(xe);$(Ue,()=>e.buttonMenu,()=>({anchor:.5})),g(De,xe)},$$slots:{default:!0}});var U=x(F,2);const R=b(()=>t.stateLayoutDerived.mainLayoutStandard().width*.5+440),B=b(()=>t.stateLayoutDerived.mainLayoutStandard().height-400);G(U,{get x(){return f(R)},get y(){return f(B)},children:(De,pt)=>{var xe=I(),Ue=w(xe);$(Ue,()=>e.buttonBuyBonus,()=>({anchor:.5})),g(De,xe)},$$slots:{default:!0}});var E=x(U,2);const O=b(()=>t.stateLayoutDerived.mainLayoutStandard().width*.5),W=b(()=>t.stateLayoutDerived.mainLayoutStandard().height-400);G(E,{get x(){return f(O)},get y(){return f(W)},children:(De,pt)=>{var xe=I(),Ue=w(xe);$(Ue,()=>e.buttonBet,()=>({anchor:.5})),g(De,xe)},$$slots:{default:!0}});var J=x(E,2);const pe=b(()=>t.stateLayoutDerived.mainLayoutStandard().width*.5-180),re=b(()=>t.stateLayoutDerived.mainLayoutStandard().height-400);G(J,{get x(){return f(pe)},get y(){return f(re)},children:(De,pt)=>{var xe=I(),Ue=w(xe);$(Ue,()=>e.buttonAutoSpin,()=>({anchor:.5})),g(De,xe)},$$slots:{default:!0}});var de=x(J,2);const Ce=b(()=>t.stateLayoutDerived.mainLayoutStandard().width*.5+180),ot=b(()=>t.stateLayoutDerived.mainLayoutStandard().height-400);G(de,{get x(){return f(Ce)},get y(){return f(ot)},children:(De,pt)=>{var xe=I(),Ue=w(xe);$(Ue,()=>e.buttonTurbo,()=>({anchor:.5})),g(De,xe)},$$slots:{default:!0}});var Ze=x(de,2);const st=b(()=>t.stateLayoutDerived.mainLayoutStandard().width*.5),Tt=b(()=>t.stateLayoutDerived.mainLayoutStandard().height-270);G(Ze,{get x(){return f(st)},get y(){return f(Tt)},children:(De,pt)=>{var xe=I(),Ue=w(xe);$(Ue,()=>e.amountBalance,()=>({stacked:!0})),g(De,xe)},$$slots:{default:!0}}),g(C,j)},$$slots:{default:!0}});var P=x(A,2);const T=b(()=>Math.min(o.current,350));G(P,{get y(){return f(T)},children:(C,D)=>{const j=b(()=>t.stateLayoutDerived.mainLayoutStandard().width*.5),F=b(()=>t.stateLayoutDerived.mainLayoutStandard().height-670);G(C,{get x(){return f(j)},get y(){return f(F)},children:(X,H)=>{var U=I(),R=w(U);$(R,()=>e.amountWin,()=>({stacked:!0})),g(X,U)},$$slots:{default:!0}})},$$slots:{default:!0}}),g(v,S)},$$slots:{default:!0}});var c=x(a,2);Pe(c,{standard:!0,alignVertical:"bottom",children:(v,y)=>{var S=am(),A=w(S);{var P=D=>{const j=b(()=>t.stateLayoutDerived.mainLayoutStandard().width*.5),F=b(()=>t.stateLayoutDerived.mainLayoutStandard().height-130);G(D,{get x(){return f(j)},get y(){return f(F)},children:(X,H)=>{Ei(X,{stacked:!0})},$$slots:{default:!0}})},T=D=>{var j=sm(),F=w(j);const X=b(()=>t.stateLayoutDerived.mainLayoutStandard().width*.5),H=b(()=>t.stateLayoutDerived.mainLayoutStandard().height-130);G(F,{get x(){return f(X)},get y(){return f(H)},children:(J,pe)=>{var re=I(),de=w(re);$(de,()=>e.amountBet,()=>({stacked:!0})),g(J,re)},$$slots:{default:!0}});var U=x(F,2);const R=b(()=>t.stateLayoutDerived.mainLayoutStandard().width*.5-390),B=b(()=>t.stateLayoutDerived.mainLayoutStandard().height-85);G(U,{get x(){return f(R)},get y(){return f(B)},children:(J,pe)=>{var re=I(),de=w(re);$(de,()=>e.buttonDecrease,()=>({anchor:.5})),g(J,re)},$$slots:{default:!0}});var E=x(U,2);const O=b(()=>t.stateLayoutDerived.mainLayoutStandard().width*.5+390),W=b(()=>t.stateLayoutDerived.mainLayoutStandard().height-85);G(E,{get x(){return f(O)},get y(){return f(W)},children:(J,pe)=>{var re=I(),de=w(re);$(de,()=>e.buttonIncrease,()=>({anchor:.5})),g(J,re)},$$slots:{default:!0}}),g(D,j)};Q(A,D=>{se.freeSpinCounterShow?D(P):D(T,!1)})}var C=x(A,2);He(C,{persistent:!0,get show(){return se.drawerButtonShow},get oncomplete(){return f(u)},get y(){return l.current},children:(D,j)=>{const F=b(()=>t.stateLayoutDerived.mainLayoutStandard().width*.5+440),X=b(()=>t.stateLayoutDerived.mainLayoutStandard().height-105);G(D,{get x(){return f(F)},get y(){return f(X)},children:(H,U)=>{const R=b(()=>!se.drawerButtonShow);nm(H,{get disabled(){return f(R)},anchor:.5})},$$slots:{default:!0}})},$$slots:{default:!0}}),g(v,S)},$$slots:{default:!0}});var m=x(c,2);{var _=v=>{var y=lm(),S=w(y);const A=b(()=>t.stateLayoutDerived.canvasSizes().width*.5),P=b(()=>t.stateLayoutDerived.canvasSizes().height*.5);Ve(S,{eventMode:"static",cursor:"pointer",alpha:.5,anchor:.5,backgroundColor:Br,get width(){return t.stateLayoutDerived.canvasSizes().width},get height(){return t.stateLayoutDerived.canvasSizes().height},get x(){return f(A)},get y(){return f(P)},onpointerup:()=>se.menuOpen=!1});var T=x(S,2);Pe(T,{standard:!0,alignVertical:"bottom",children:(C,D)=>{const j=b(()=>t.stateLayoutDerived.mainLayoutStandard().width*.5-440),F=b(()=>t.stateLayoutDerived.mainLayoutStandard().height-400);G(C,{get x(){return f(j)},get y(){return f(F)},children:(X,H)=>{var U=im(),R=w(U);G(R,{y:-820,children:(J,pe)=>{var re=I(),de=w(re);$(de,()=>e.buttonPayTable,()=>({anchor:.5})),g(J,re)},$$slots:{default:!0}});var B=x(R,2);G(B,{y:-610,children:(J,pe)=>{var re=I(),de=w(re);$(de,()=>e.buttonGameRules,()=>({anchor:.5})),g(J,re)},$$slots:{default:!0}});var E=x(B,2);G(E,{y:-400,children:(J,pe)=>{var re=I(),de=w(re);$(de,()=>e.buttonSettings,()=>({anchor:.5})),g(J,re)},$$slots:{default:!0}});var O=x(E,2);G(O,{y:-190,children:(J,pe)=>{var re=I(),de=w(re);$(de,()=>e.buttonSoundSwitch,()=>({anchor:.5})),g(J,re)},$$slots:{default:!0}});var W=x(O,2);G(W,{children:(J,pe)=>{var re=I(),de=w(re);$(de,()=>e.buttonMenuClose,()=>({anchor:.5})),g(J,re)},$$slots:{default:!0}}),g(X,U)},$$slots:{default:!0}})},$$slots:{default:!0}}),g(v,y)};Q(m,v=>{se.menuOpen&&v(_)})}g(n,d),M()}var dm=L("<!> <!> <!> <!> <!> <!> <!>",1),fm=L("<!> <!> <!>",1),hm=L("<!> <!>",1),mm=L("<!> <!> <!> <!> <!>",1),pm=L("<!> <!>",1),_m=L("<!> <!> <!> <!>",1);function vm(n,e){k(e,!0);const t=Le();var r=_m(),o=w(r);G(o,{x:20,children:(p,s)=>{var a=I(),c=w(a);$(c,()=>e.gameName),g(p,a)},$$slots:{default:!0}});var i=x(o,2);const l=b(()=>t.stateLayoutDerived.canvasSizes().width-20);G(i,{get x(){return f(l)},children:(p,s)=>{var a=I(),c=w(a);$(c,()=>e.logo),g(p,a)},$$slots:{default:!0}});var u=x(i,2);Pe(u,{standard:!0,alignVertical:"bottom",children:(p,s)=>{var a=hm(),c=w(a);const m=b(()=>t.stateLayoutDerived.mainLayoutStandard().width*.5),_=b(()=>t.stateLayoutDerived.mainLayoutStandard().height-ve-40),v=b(()=>tt({anchor:{x:.5,y:0},sizes:{height:ve,width:Vh.reduce((T,C)=>T+C,0)}}));G(c,{get x(){return f(m)},get y(){return f(_)},get pivot(){return f(v)},children:(T,C)=>{var D=dm(),j=w(D);G(j,{y:ve*.5-90,x:105,scale:.8,children:(E,O)=>{var W=I(),J=w(W);$(J,()=>e.buttonMenu,()=>({anchor:.5})),g(E,W)},$$slots:{default:!0}});var F=x(j,2);G(F,{y:ve*.5-90,x:240,scale:.8,children:(E,O)=>{var W=I(),J=w(W);$(J,()=>e.buttonBuyBonus,()=>({anchor:.5})),g(E,W)},$$slots:{default:!0}});var X=x(F,2);G(X,{y:ve*.5,x:420,scale:.8,children:(E,O)=>{var W=I(),J=w(W);$(J,()=>e.amountBalance,()=>({stacked:!0})),g(E,W)},$$slots:{default:!0}});var H=x(X,2);G(H,{y:ve*.5,x:910,scale:.8,children:(E,O)=>{var W=I(),J=w(W);$(J,()=>e.amountWin,()=>({stacked:!0})),g(E,W)},$$slots:{default:!0}});var U=x(H,2);G(U,{y:ve*.5,x:1400,scale:.8,children:(E,O)=>{var W=I(),J=w(W);$(J,()=>e.amountBet,()=>({stacked:!0})),g(E,W)},$$slots:{default:!0}});var R=x(U,2);G(R,{y:ve*.5-90,x:1580,scale:.8,children:(E,O)=>{var W=I(),J=w(W);$(J,()=>e.buttonDecrease,()=>({anchor:.5})),g(E,W)},$$slots:{default:!0}});var B=x(R,2);G(B,{y:ve*.5-90,x:1715,scale:.8,children:(E,O)=>{var W=I(),J=w(W);$(J,()=>e.buttonIncrease,()=>({anchor:.5})),g(E,W)},$$slots:{default:!0}}),g(T,D)},$$slots:{default:!0}});var y=x(c,2);const S=b(()=>t.stateLayoutDerived.mainLayoutStandard().width-60),A=b(()=>t.stateLayoutDerived.mainLayoutStandard().height*.5),P=b(()=>tt({anchor:{x:1,y:.5},sizes:{height:ve,width:ve}}));G(y,{get x(){return f(S)},get y(){return f(A)},get pivot(){return f(P)},children:(T,C)=>{var D=fm(),j=w(D);G(j,{x:ve*.5,y:ve*.5-140,scale:.8,children:(H,U)=>{var R=I(),B=w(R);$(B,()=>e.buttonAutoSpin,()=>({anchor:.5})),g(H,R)},$$slots:{default:!0}});var F=x(j,2);G(F,{x:ve*.5,y:ve*.5,scale:.8,children:(H,U)=>{var R=I(),B=w(R);$(B,()=>e.buttonBet,()=>({anchor:.5})),g(H,R)},$$slots:{default:!0}});var X=x(F,2);G(X,{x:ve*.5,y:ve*.5+140,scale:.8,children:(H,U)=>{var R=I(),B=w(R);$(B,()=>e.buttonTurbo,()=>({anchor:.5})),g(H,R)},$$slots:{default:!0}}),g(T,D)},$$slots:{default:!0}}),g(p,a)},$$slots:{default:!0}});var d=x(u,2);{var h=p=>{var s=pm(),a=w(s);const c=b(()=>t.stateLayoutDerived.canvasSizes().width*.5),m=b(()=>t.stateLayoutDerived.canvasSizes().height*.5);Ve(a,{eventMode:"static",cursor:"pointer",alpha:.5,anchor:.5,backgroundColor:Br,get width(){return t.stateLayoutDerived.canvasSizes().width},get height(){return t.stateLayoutDerived.canvasSizes().height},get x(){return f(c)},get y(){return f(m)},onpointerup:()=>se.menuOpen=!1});var _=x(a,2);Pe(_,{standard:!0,alignVertical:"bottom",children:(v,y)=>{const S=b(()=>t.stateLayoutDerived.mainLayoutStandard().height-ve-130);G(v,{x:165,get y(){return f(S)},children:(A,P)=>{var T=mm(),C=w(T);G(C,{scale:.8,y:ve*.5-150-510,children:(H,U)=>{var R=I(),B=w(R);$(B,()=>e.buttonPayTable,()=>({anchor:.5})),g(H,R)},$$slots:{default:!0}});var D=x(C,2);G(D,{scale:.8,y:ve*.5-150-340,children:(H,U)=>{var R=I(),B=w(R);$(B,()=>e.buttonGameRules,()=>({anchor:.5})),g(H,R)},$$slots:{default:!0}});var j=x(D,2);G(j,{scale:.8,y:ve*.5-150-170,children:(H,U)=>{var R=I(),B=w(R);$(B,()=>e.buttonSettings,()=>({anchor:.5})),g(H,R)},$$slots:{default:!0}});var F=x(j,2);G(F,{scale:.8,y:ve*.5-150,children:(H,U)=>{var R=I(),B=w(R);$(B,()=>e.buttonSoundSwitch,()=>({anchor:.5})),g(H,R)},$$slots:{default:!0}});var X=x(F,2);G(X,{scale:.8,y:ve*.5,children:(H,U)=>{var R=I(),B=w(R);$(B,()=>e.buttonMenuClose,()=>({anchor:.5})),g(H,R)},$$slots:{default:!0}}),g(A,T)},$$slots:{default:!0}})},$$slots:{default:!0}}),g(p,s)};Q(d,p=>{se.menuOpen&&p(h)})}g(n,r),M()}var ym=L("<!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!>",1),gm=L("<!> <!> <!> <!> <!>",1),bm=L("<!> <!>",1),wm=L("<!> <!> <!> <!>",1);function Sm(n,e){k(e,!0);const t=Le();var r=wm(),o=w(r);G(o,{x:20,children:(p,s)=>{var a=I(),c=w(a);$(c,()=>e.gameName),g(p,a)},$$slots:{default:!0}});var i=x(o,2);const l=b(()=>t.stateLayoutDerived.canvasSizes().width-20);G(i,{get x(){return f(l)},children:(p,s)=>{var a=I(),c=w(a);$(c,()=>e.logo),g(p,a)},$$slots:{default:!0}});var u=x(i,2);Pe(u,{standard:!0,alignVertical:"bottom",children:(p,s)=>{const a=b(()=>t.stateLayoutDerived.mainLayoutStandard().width*.5),c=b(()=>t.stateLayoutDerived.mainLayoutStandard().height-le-30),m=b(()=>tt({anchor:{x:.5,y:0},sizes:{height:le,width:Pi.reduce((_,v)=>_+v,0)}}));G(p,{get x(){return f(a)},get y(){return f(c)},get pivot(){return f(m)},children:(_,v)=>{var y=ym(),S=w(y);G(S,{y:le*.5-220,x:240,children:(B,E)=>{var O=I(),W=w(O);$(W,()=>e.amountBalance,()=>({stacked:!0})),g(B,O)},$$slots:{default:!0}});var A=x(S,2);G(A,{y:le*.5-220,x:880,children:(B,E)=>{var O=I(),W=w(O);$(W,()=>e.amountWin,()=>({stacked:!0})),g(B,O)},$$slots:{default:!0}});var P=x(A,2);G(P,{y:le*.5-220,x:1520,children:(B,E)=>{var O=I(),W=w(O);$(W,()=>e.amountBet,()=>({stacked:!0})),g(B,O)},$$slots:{default:!0}});var T=x(P,2);G(T,{y:le*.5,x:20,children:(B,E)=>{var O=I(),W=w(O);$(W,()=>e.buttonMenu,()=>({anchor:.5})),g(B,O)},$$slots:{default:!0}});var C=x(T,2);G(C,{y:le*.5,x:200,children:(B,E)=>{var O=I(),W=w(O);$(W,()=>e.buttonBuyBonus,()=>({anchor:.5})),g(B,O)},$$slots:{default:!0}});var D=x(C,2);G(D,{y:le*.5,x:-10+180*4,children:(B,E)=>{var O=I(),W=w(O);$(W,()=>e.buttonAutoSpin,()=>({anchor:.5})),g(B,O)},$$slots:{default:!0}});var j=x(D,2);G(j,{y:le*.5,x:-10+180*5,children:(B,E)=>{var O=I(),W=w(O);$(W,()=>e.buttonBet,()=>({anchor:.5})),g(B,O)},$$slots:{default:!0}});var F=x(j,2);G(F,{y:le*.5,x:-10+180*6,children:(B,E)=>{var O=I(),W=w(O);$(W,()=>e.buttonTurbo,()=>({anchor:.5})),g(B,O)},$$slots:{default:!0}});var X=x(F,2);G(X,{y:le*.5,x:1560,children:(B,E)=>{var O=I(),W=w(O);$(W,()=>e.buttonDecrease,()=>({anchor:.5})),g(B,O)},$$slots:{default:!0}});var H=x(X,2);G(H,{y:le*.5,x:1740,children:(B,E)=>{var O=I(),W=w(O);$(W,()=>e.buttonIncrease,()=>({anchor:.5})),g(B,O)},$$slots:{default:!0}});var U=x(H,2);{var R=B=>{G(B,{y:le*.5-320,x:668,children:(E,O)=>{Ei(E,{})},$$slots:{default:!0}})};Q(U,B=>{se.freeSpinCounterShow&&B(R)})}g(_,y)},$$slots:{default:!0}})},$$slots:{default:!0}});var d=x(u,2);{var h=p=>{var s=bm(),a=w(s);const c=b(()=>t.stateLayoutDerived.canvasSizes().width*.5),m=b(()=>t.stateLayoutDerived.canvasSizes().height*.5);Ve(a,{eventMode:"static",cursor:"pointer",alpha:.5,anchor:.5,backgroundColor:Br,get width(){return t.stateLayoutDerived.canvasSizes().width},get height(){return t.stateLayoutDerived.canvasSizes().height},get x(){return f(c)},get y(){return f(m)},onpointerup:()=>se.menuOpen=!1});var _=x(a,2);Pe(_,{standard:!0,alignVertical:"bottom",children:(v,y)=>{const S=b(()=>t.stateLayoutDerived.mainLayoutStandard().height-le-30);G(v,{x:100,get y(){return f(S)},children:(A,P)=>{var T=gm(),C=w(T);G(C,{y:le*.5-185-630,children:(H,U)=>{var R=I(),B=w(R);$(B,()=>e.buttonPayTable,()=>({anchor:.5})),g(H,R)},$$slots:{default:!0}});var D=x(C,2);G(D,{y:le*.5-185-420,children:(H,U)=>{var R=I(),B=w(R);$(B,()=>e.buttonGameRules,()=>({anchor:.5})),g(H,R)},$$slots:{default:!0}});var j=x(D,2);G(j,{y:le*.5-185-210,children:(H,U)=>{var R=I(),B=w(R);$(B,()=>e.buttonSettings,()=>({anchor:.5})),g(H,R)},$$slots:{default:!0}});var F=x(j,2);G(F,{y:le*.5-185,children:(H,U)=>{var R=I(),B=w(R);$(B,()=>e.buttonSoundSwitch,()=>({anchor:.5})),g(H,R)},$$slots:{default:!0}});var X=x(F,2);G(X,{y:le*.5,children:(H,U)=>{var R=I(),B=w(R);$(B,()=>e.buttonMenuClose,()=>({anchor:.5})),g(H,R)},$$slots:{default:!0}}),g(A,T)},$$slots:{default:!0}})},$$slots:{default:!0}}),g(p,s)};Q(d,p=>{se.menuOpen&&p(h)})}g(n,r),M()}function xm(n,e){k(e,!0);const t=new $e(V.balanceAmount),r=b(()=>ft.balance()),o=b(()=>Mn(t.current));be(()=>{t.set(V.balanceAmount)}),Cr(n,{tiled:!0,get label(){return f(r)},get value(){return f(o)},get stacked(){return e.stacked}}),M()}function Am(n,e){k(e,!0);const t=new $e(V.winBookEventAmount),r=b(()=>ft.win()),o=b(()=>jt(t.current));be(()=>{t.set(V.winBookEventAmount)}),Cr(n,{tiled:!0,get label(){return f(r)},get value(){return f(o)},get stacked(){return e.stacked}}),M()}function Tm(n,e){k(e,!0);const t=Le(),r=b(()=>{var d;return((d=fe.activeBetMode())==null?void 0:d.text.betAmountLabel)||ft.bet()}),o=b(()=>Mn(fe.betCost())),i=b(()=>!t.stateXstateDerived.isIdle()),l=()=>{f(i)||(t.eventEmitter.broadcast({type:"soundPressGeneral"}),_e.modal={name:"betAmountMenu"})},u=b(()=>f(i)?"not-allowed":"pointer");G(n,{eventMode:"static",get cursor(){return f(u)},onpointerup:l,children:(d,h)=>{Cr(d,{tiled:!0,get label(){return f(r)},get value(){return f(o)},get stacked(){return e.stacked}})},$$slots:{default:!0}}),M()}var Pm=L("<!> <!> <!>",1);function mt(n,e){k(e,!0);const t=gn(e,"variant",3,"dark"),r=me(e,["$$slots","$$events","$$legacy","icon","active","variant","children"]);Mr(n,q(()=>r,{children:(i,l)=>{let u=()=>l==null?void 0:l().center;var d=Pm(),h=w(d);const p=b(()=>t()==="dark"?0:16777215);ln(h,q(u,{anchor:.5,get width(){return e.sizes.width},get height(){return e.sizes.height},get backgroundColor(){return f(p)}},()=>e.disabled?{backgroundColor:11184810}:{},()=>e.active?{borderWidth:10,borderColor:t()==="dark"?16777215:0}:{}));var s=x(h,2);const a=b(()=>ft[e.icon]()),c=b(()=>({align:"center",wordWrap:!0,wordWrapWidth:200,fontFamily:"proxima-nova",fontWeight:"600",fontSize:Ye*.9,fill:t()==="dark"?16777215:0}));ze(s,q(u,{anchor:.5,get text(){return f(a)},get style(){return f(c)}}));var m=x(s,2);$(m,()=>e.children??Te),g(i,d)},$$slots:{default:!0}})),M()}function Em(n,e){k(e,!0);const t=me(e,["$$slots","$$events","$$legacy"]),r=Le(),o={width:he*1.3,height:he*1.3};mt(n,q(()=>t,{sizes:o,onpress:()=>{r.eventEmitter.broadcast({type:"soundPressGeneral"}),_e.modal={name:"payTable"}},icon:"payTable",variant:"light"})),M()}function Im(n,e){k(e,!0);const t=me(e,["$$slots","$$events","$$legacy"]),r=Le(),o={width:he*1.3,height:he*1.3};mt(n,q(()=>t,{sizes:o,onpress:()=>{r.eventEmitter.broadcast({type:"soundPressGeneral"}),_e.modal={name:"gameRules"}},icon:"info",variant:"light"})),M()}function Lm(n,e){k(e,!0);const t=me(e,["$$slots","$$events","$$legacy"]),r=Le(),o={width:he*1.3,height:he*1.3};mt(n,q(()=>t,{sizes:o,onpress:()=>{r.eventEmitter.broadcast({type:"soundPressGeneral"}),_e.modal={name:"settings"}},icon:"settings",variant:"light"})),M()}var km=L("<!> <!>",1);function Mm(n,e){k(e,!0);const t=me(e,["$$slots","$$events","$$legacy"]),{stateXstateDerived:r,eventEmitter:o}=Le(),i={width:he,height:he},l=b(()=>!r.isIdle()),u=b(()=>{var a;return((a=fe.activeBetMode())==null?void 0:a.type)==="activate"}),d=()=>_e.modal={name:"buyBonus"},h=()=>V.activeBetModeKey="BASE",p=()=>{o.broadcast({type:"soundPressGeneral"}),f(u)?h():d()},s=a=>a.disabled?"disabled":a.pressed?"pressed":a.hovered?"hovered":a.active?"active":"default";Mr(n,q(()=>t,{sizes:i,get disabled(){return f(l)},onpress:p,children:(c,m)=>{let _=()=>m==null?void 0:m().center,v=()=>m==null?void 0:m().hovered,y=()=>m==null?void 0:m().pressed;var S=km();const A=b(()=>s({active:f(u),disabled:f(l),hovered:v(),pressed:y()}));var P=w(S);ln(P,q({key:"buyBonus"},_,{anchor:.5,get width(){return i.width},get height(){return i.height}},()=>f(l)?{backgroundColor:11184810}:{},()=>f(u)?{borderWidth:10,borderColor:16777215}:{}));var T=x(P,2);const C=b(()=>f(A)==="active"?ft.disable():ft.buyBonus());ze(T,q(_,{anchor:.5,get text(){return f(C)},style:{align:"center",wordWrap:!0,wordWrapWidth:200,fontFamily:"proxima-nova",fontWeight:"600",fontSize:Ye*.9,fill:16777215}})),g(c,S)},$$slots:{default:!0}})),M()}function Bm(n,e){k(e,!0);const t=Le();let r=Z(!1);const o=()=>t.eventEmitter.broadcast({type:"bet"}),i=()=>{f(r)||(fe.hasAutoBetCounter()&&(V.autoSpinsCounter=0),t.eventEmitter.broadcast({type:"stopButtonClick"}))},l=()=>{t.eventEmitter.broadcast({type:"soundPressBet"}),t.stateXstateDerived.isIdle()?o():i()},d=b(()=>t.stateXstateDerived.isIdle()?fe.isBetCostAvailable()?"spin_default":"spin_disabled":t.stateXstateDerived.isIdle()?"spin_default":f(r)?"stop_disabled":fe.hasAutoBetCounter()?"stop_default":V.isTurbo?"stop_disabled":"stop_default");t.eventEmitter.subscribeOnMount({stopButtonClick:()=>N(r,!0),stopButtonEnable:()=>N(r,!1)});var h=I(),p=w(h);$(p,()=>e.children,()=>({key:f(d),onpress:l})),g(n,h),M()}var $m=L("<!> <!>",1),Dm=L("<!> <!>",1);function Om(n,e){k(e,!0);const t=me(e,["$$slots","$$events","$$legacy"]),r=b(()=>!fe.isBetCostAvailable()),o={width:he,height:he};Bm(n,{children:(l,u)=>{let d=()=>u==null?void 0:u().key,h=()=>u==null?void 0:u().onpress;var p=Dm(),s=w(p);Co(s,{hotkey:"Space",get disabled(){return f(r)},get onpress(){return h()}});var a=x(s,2);Mr(a,q(()=>t,{sizes:o,get onpress(){return h()},get disabled(){return f(r)},children:(m,_)=>{G(m,q(()=>_==null?void 0:_().center,{children:(y,S)=>{var A=$m(),P=w(A),T=b(()=>f(r)||["spin_disabled","stop_disabled"].includes(d())?{backgroundColor:11184810}:{});ln(P,q({key:"bet",get width(){return o.width},get height(){return o.height},anchor:.5},()=>f(T)));var C=x(P,2);const D=b(()=>["spin_default","spin_disabled"].includes(d())?ft.bet():ft.stop());ze(C,{anchor:.5,get text(){return f(D)},style:{align:"center",wordWrap:!0,wordWrapWidth:200,fontFamily:"proxima-nova",fontWeight:"600",fontSize:Ye*.9,fill:16777215}}),g(y,A)},$$slots:{default:!0}}))},$$slots:{default:!0}})),g(l,p)},$$slots:{default:!0}}),M()}function Cm(n,e){k(e,!0);const t=me(e,["$$slots","$$events","$$legacy"]),r=Le(),o={width:he,height:he},i=b(()=>V.isTurbo),l=b(()=>V.isSpaceHold),u=()=>{r.eventEmitter.broadcast({type:"soundPressGeneral"}),fe.updateIsTurbo(!V.isTurbo,{persistent:!0})};r.eventEmitter.subscribeOnMount({stopButtonClick:()=>fe.updateIsTurbo(!0,{persistent:!1}),stopButtonEnable:()=>fe.updateIsTurbo(!1,{persistent:!1})}),mt(n,q(()=>t,{sizes:o,get active(){return f(i)},onpress:u,get disabled(){return f(l)},icon:"turbo"})),M()}var Rm=L("<!> <!>",1);function Nm(n,e){k(e,!0);const t=b(()=>V.autoSpinsCounter===1/0?3:V.autoSpinsCounter>99?1.5:V.autoSpinsCounter>9?2:2.5);var r=I(),o=w(r);{var i=l=>{var u=Rm(),d=w(u);Ve(d,{anchor:.5,width:he*.9,height:he*.9,borderRadius:50});var h=x(d,2);const p=b(()=>V.autoSpinsCounter===1/0?"∞":V.autoSpinsCounter),s=b(()=>({fontFamily:"proxima-nova",fill:vr,fontWeight:"bold",fontSize:f(t)*he*.2}));ze(h,{anchor:.5,get text(){return f(p)},get style(){return f(s)}}),g(l,u)};Q(o,l=>{V.autoSpinsCounter>0&&l(i)})}g(n,r),M()}function Gm(n,e){k(e,!0);const t=me(e,["$$slots","$$events","$$legacy"]),r=Le(),o={width:he,height:he},i=b(()=>fe.hasAutoBetCounter()),l=b(()=>!!(V.isSpaceHold||!r.stateXstateDerived.isIdle()&&!fe.hasAutoBetCounter()||!fe.isBetCostAvailable())),u=()=>V.autoSpinsCounter=0,d=()=>_e.modal={name:"autoSpin"};mt(n,q(()=>t,{sizes:o,get active(){return f(i)},onpress:()=>{r.eventEmitter.broadcast({type:"soundPressGeneral"}),fe.hasAutoBetCounter()?u():d()},get disabled(){return f(l)},icon:"autoSpin",children:(p,s)=>{const a=b(()=>o.width*.5),c=b(()=>o.height*.5);G(p,{get x(){return f(a)},get y(){return f(c)},children:(m,_)=>{Nm(m,{})},$$slots:{default:!0}})},$$slots:{default:!0}})),M()}function Fm(n,e){k(e,!0);const t=me(e,["$$slots","$$events","$$legacy"]),r=Le(),o={width:he,height:he},i=b(()=>$t.betAmountOptions[$t.betAmountOptions.length-1]),l=b(()=>!r.stateXstateDerived.isIdle()||V.betAmount===f(i));mt(n,q(()=>t,{sizes:o,onpress:()=>{r.eventEmitter.broadcast({type:"soundPressGeneral"});const d=[...$t.betAmountOptions].sort((h,p)=>h-p).find(h=>h>V.betAmount);fe.setBetAmount(d||f(i))},get disabled(){return f(l)},icon:"increase"})),M()}function Wm(n,e){k(e,!0);const t=me(e,["$$slots","$$events","$$legacy"]),r=Le(),o={width:he,height:he},i=b(()=>$t.betAmountOptions[0]),l=b(()=>!r.stateXstateDerived.isIdle()||V.betAmount===f(i));mt(n,q(()=>t,{sizes:o,onpress:()=>{r.eventEmitter.broadcast({type:"soundPressGeneral"});const d=[...$t.betAmountOptions].sort((h,p)=>p-h).find(h=>h<V.betAmount);fe.setBetAmount(d||f(i))},get disabled(){return f(l)},icon:"decrease"})),M()}function zm(n,e){k(e,!0);const t=me(e,["$$slots","$$events","$$legacy"]),r=Le();mt(n,q(()=>t,{sizes:{width:he,height:he},onpress:()=>{r.eventEmitter.broadcast({type:"soundPressGeneral"}),se.menuOpen=!0},icon:"menu"})),M()}function Hm(n,e){k(e,!0);const t=me(e,["$$slots","$$events","$$legacy"]),r=Le();mt(n,q(()=>t,{sizes:{width:he,height:he},onpress:()=>{r.eventEmitter.broadcast({type:"soundPressGeneral"}),se.menuOpen=!1},icon:"menuExit"})),M()}function Um(n,e){k(e,!0);const t=me(e,["$$slots","$$events","$$legacy"]),r=Le(),o={width:he*1.3,height:he*1.3},i=()=>{r.eventEmitter.broadcast({type:"soundPressGeneral"}),yn.volumeValueMaster===0?yn.volumeValueMaster=50:yn.volumeValueMaster=0},l=b(()=>yn.volumeValueMaster===0?"soundOff":"soundOn");mt(n,q(()=>t,{sizes:o,onpress:i,get icon(){return f(l)},variant:"light"})),M()}var jm=L("<!> <!>",1);function Km(n,e){k(e,!0);const{stateLayoutDerived:t}=ht(),r={desktop:Zh,portrait:cm,landscape:vm,tablet:Sm},o=b(()=>r[t.layoutType()]);var i=jm(),l=w(i);mu(l,{});var u=x(l,2);Uh(u,{children:(d,h)=>{var p=I(),s=w(p);Sa(s,()=>f(o),(a,c)=>{c(a,{gameName:E=>{var O=I(),W=w(O);$(W,()=>e.gameName),g(E,O)},logo:E=>{var O=I(),W=w(O);$(W,()=>e.logo),g(E,O)},amountBalance:(E,O=Te)=>{xm(E,q(O))},amountWin:(E,O=Te)=>{Am(E,q(O))},amountBet:(E,O=Te)=>{Tm(E,q(O))},buttonBuyBonus:(E,O=Te)=>{Mm(E,q(O))},buttonBet:(E,O=Te)=>{Om(E,q(O))},buttonTurbo:(E,O=Te)=>{Cm(E,q(O))},buttonAutoSpin:(E,O=Te)=>{Gm(E,q(O))},buttonIncrease:(E,O=Te)=>{Fm(E,q(O))},buttonDecrease:(E,O=Te)=>{Wm(E,q(O))},buttonMenu:(E,O=Te)=>{zm(E,q(O))},buttonMenuClose:(E,O=Te)=>{Hm(E,q(O))},buttonPayTable:(E,O=Te)=>{Em(E,q(O))},buttonGameRules:(E,O=Te)=>{Im(E,q(O))},buttonSettings:(E,O=Te)=>{Lm(E,q(O))},buttonSoundSwitch:(E,O=Te)=>{Um(E,q(O))},$$slots:{gameName:!0,logo:!0,amountBalance:!0,amountWin:!0,amountBet:!0,buttonBuyBonus:!0,buttonBet:!0,buttonTurbo:!0,buttonAutoSpin:!0,buttonIncrease:!0,buttonDecrease:!0,buttonMenu:!0,buttonMenuClose:!0,buttonPayTable:!0,buttonGameRules:!0,buttonSettings:!0,buttonSoundSwitch:!0}})}),g(d,p)},$$slots:{default:!0}}),g(n,i),M()}var Vm=L("<!> <!>",1);function Ym(n,e){k(e,!0);const t=new mo,r=b(()=>t.toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric",hour12:!1})),o={style:{fontFamily:"proxima-nova",fontSize:pr*1.5,fontWeight:"600",lineHeight:pr*2,fill:vr}};let i=Z(ne({width:0,height:0}));be(()=>{const p=setInterval(()=>{t.setTime(Date.now())},1e3);return()=>{clearInterval(p)}});var l=Vm(),u=w(l);ze(u,q({get text(){return f(r)},onresize:p=>N(i,ne(p))},o));var d=x(u,2);const h=b(()=>f(i).width+5);ze(d,q({get text(){return e.name},get x(){return f(h)}},o)),g(n,l),M()}const{eventEmitter:z}=fu(),{stateXstate:Xm,stateXstateDerived:Ii}=zh(),{stateLayout:qm,stateLayoutDerived:Io}=sc({backgroundRatio:{normal:2039/1e3,portrait:1242/2208},mainSizesMap:{desktop:{width:800,height:800},tablet:{width:800,height:800},landscape:{width:800,height:800},portrait:{width:800,height:800}}}),Y="https://test-twist-front-2.s3.ap-southeast-2.amazonaws.com/1-2-mining-game",Jm={pressToContinueText:{type:"sprites",src:`${Y}/sprites/pressToContinueText/MM_pressanywhere.json`,preload:!0},H1:{type:"spine",src:{atlas:`${Y}/spines/symbols/symbols.atlas`,skeleton:`${Y}/spines/symbols/h1.json`,scale:2}},H2:{type:"spine",src:{atlas:`${Y}/spines/symbols/symbols.atlas`,skeleton:`${Y}/spines/symbols/h2.json`,scale:2}},H3:{type:"spine",src:{atlas:`${Y}/spines/symbols/symbols.atlas`,skeleton:`${Y}/spines/symbols/h3.json`,scale:2}},H4:{type:"spine",src:{atlas:`${Y}/spines/symbols/symbols.atlas`,skeleton:`${Y}/spines/symbols/h4.json`,scale:2}},H5:{type:"spine",src:{atlas:`${Y}/spines/symbols/symbols.atlas`,skeleton:`${Y}/spines/symbols/h5.json`,scale:2}},L1:{type:"spine",src:{atlas:`${Y}/spines/symbols/symbols.atlas`,skeleton:`${Y}/spines/symbols/l1.json`,scale:2}},L2:{type:"spine",src:{atlas:`${Y}/spines/symbols/symbols.atlas`,skeleton:`${Y}/spines/symbols/l2.json`,scale:2}},L3:{type:"spine",src:{atlas:`${Y}/spines/symbols/symbols.atlas`,skeleton:`${Y}/spines/symbols/l3.json`,scale:2}},L4:{type:"spine",src:{atlas:`${Y}/spines/symbols/symbols.atlas`,skeleton:`${Y}/spines/symbols/l4.json`,scale:2}},M:{type:"spine",src:{atlas:`${Y}/spines/symbols2/symbols2.atlas`,skeleton:`${Y}/spines/symbols2/M.json`,scale:2}},S:{type:"spine",src:{atlas:`${Y}/spines/symbols2/symbols2.atlas`,skeleton:`${Y}/spines/symbols2/S.json`,scale:2}},explosion:{type:"spine",src:{atlas:`${Y}/spines/symbols3/symbols3.atlas`,skeleton:`${Y}/spines/symbols3/explosion.json`,scale:2}},W:{type:"spine",src:{atlas:`${Y}/spines/symbols3/symbols3.atlas`,skeleton:`${Y}/spines/symbols3/W.json`,scale:2}},reelsFrame:{type:"sprites",src:`${Y}/sprites/reelsFrame/reels_frame.json`},payFrame:{type:"sprite",src:`${Y}/sprites/payFrame/payFrame.png`},anticipation:{type:"spine",src:{atlas:`${Y}/spines/anticipation/anticipation.atlas`,skeleton:`${Y}/spines/anticipation/anticipation.json`,scale:2}},goldFont:{type:"font",src:`${Y}/fonts/goldFont/mm_gold.xml`},goldBlur:{type:"font",src:`${Y}/fonts/goldBlur/miningfont_gold_blur.xml`},silverFont:{type:"font",src:`${Y}/fonts/silverFont/mm_silver.xml`},purpleFont:{type:"font",src:`${Y}/fonts/purpleFont/mm_purple.xml`},loader:{type:"spine",src:{atlas:`${Y}/spines/loader/loader.atlas`,skeleton:`${Y}/spines/loader/loader.json`,scale:2},preload:!0},bigwin:{type:"spine",src:{atlas:`${Y}/spines/bigwin/big_wins.atlas`,skeleton:`${Y}/spines/bigwin/mm_bigwin.json`,scale:2}},globalMultiplier:{type:"spine",src:{atlas:`${Y}/spines/globalMultiplier/multiframe.atlas`,skeleton:`${Y}/spines/globalMultiplier/multiframe.json`,scale:2}},fsIntro:{type:"spine",src:{atlas:`${Y}/spines/fsIntro/fs_screen.atlas`,skeleton:`${Y}/spines/fsIntro/fs_screen.json`,scale:2}},fsIntroNumber:{type:"spine",src:{atlas:`${Y}/spines/fsIntro/fs_screen.atlas`,skeleton:`${Y}/spines/fsIntro/fs_screen_number.json`,scale:2}},fsOutroNumber:{type:"spine",src:{atlas:`${Y}/spines/fsIntro/fs_screen.atlas`,skeleton:`${Y}/spines/fsIntro/fs_total_number.json`,scale:2}},foregroundAnimation:{type:"spine",src:{atlas:`${Y}/spines/foregroundAnimation/mm_bg.atlas`,skeleton:`${Y}/spines/foregroundAnimation/mm_bg.json`,scale:2},preload:!0},foregroundFeatureAnimation:{type:"spine",src:{atlas:`${Y}/spines/foregroundFeatureAnimation/mm_bg_feature.atlas`,skeleton:`${Y}/spines/foregroundFeatureAnimation/mm_bg_feature.json`,scale:2},preload:!0},tumble_multiplier:{type:"spine",src:{atlas:`${Y}/spines/tumbleWin/tumble_win.atlas`,skeleton:`${Y}/spines/tumbleWin/tumble_multiplier.json`,scale:2}},tumble_win:{type:"spine",src:{atlas:`${Y}/spines/tumbleWin/tumble_win.atlas`,skeleton:`${Y}/spines/tumbleWin/tumble_win.json`,scale:2}},reelhouse:{type:"spine",src:{atlas:`${Y}/spines/reelhouse/reelhouse_glow.atlas`,skeleton:`${Y}/spines/reelhouse/reelhouse_glow.json`,scale:2}},progressBar:{type:"sprites",src:`${Y}/sprites/progressBar/progressBar.json`,preload:!0},freeSpins:{type:"sprites",src:`${Y}/sprites/freeSpins/freeSpins.json`},winSmall:{type:"sprites",src:`${Y}/sprites/winSmall/MM_Localisation_winsmall.json`},clusterWin:{type:"spine",src:{atlas:`${Y}/spines/clusterWin/clusterpay.atlas`,skeleton:`${Y}/spines/clusterWin/clusterpay.json`,scale:2}},transition:{type:"spine",src:{atlas:`${Y}/spines/transition/transition.atlas`,skeleton:`${Y}/spines/transition/transition.json`,scale:2}},symbolsStatic:{type:"sprites",src:`${Y}/sprites/symbolsStatic/symbolsStatic.json`},coins:{type:"spriteSheet",src:"https://test-twist-front-2.s3.ap-southeast-2.amazonaws.com/1-7-samurai-dogs-2/sprites/coin/SD2_Coin.json"},sound:{type:"audio",src:`${Y}/audio/sounds.json`,preload:!0}},{stateApp:Zm}=cf({assets:Jm});function Qm(n){const e=E=>(E+.5)*n.symbolHeight,t=E=>{const O=E.symbolIndex-1,W=E.rawSymbol,J=n.initialSymbolState,pe=e(O),re=new $e(pe);return ne({rawSymbol:W,symbolIndexOfBoard:O,symbolY:re,symbolState:J,oncomplete:()=>{}})},r=E=>E.map((W,J)=>t({rawSymbol:W,symbolIndex:J})),o=E=>d.symbols.map((O,W)=>{O.rawSymbol=E[W],O.symbolState="static"}),i=n.initialSymbols.length,l=i-2,u=ba(),d=ne({symbols:r(n.initialSymbols),motion:"stopped",spinType:"normal",anticipating:!1,readyToSpin:()=>{},spinOptions:()=>({})}),h=()=>i*d.spinOptions().reelPaddingMultiplierNormal,p=()=>i*d.spinOptions().reelPaddingMultiplierAnticipated;let s=n.initialSymbols,a=()=>{},c=!1,m=0;const _=async()=>{await ut(d.spinOptions().reelFallOutDelay*n.reelIndex)},v=async({isTurboBeforeAll:E})=>{d.spinType=E?"fast":"normal",E||await _(),await S()},y=async E=>{await Promise.all(d.symbols.map(E))},S=async()=>{d.motion="fallingOut",await y(async E=>{const O=E.symbolY.current,W=e(E.symbolIndexOfBoard+i),pe=(W-O)/d.spinOptions().symbolFallOutSpeed,re=d.spinOptions().symbolFallOutInterval*(l-E.symbolIndexOfBoard);await ut(re),E.symbolState="spin",await E.symbolY.set(W,{duration:pe})}),d.motion="hanging"},A=async()=>{o(s),await y(async E=>{const O=e(E.symbolIndexOfBoard-i+.5);await E.symbolY.set(O,{duration:0})})},P=async()=>{const E=m/i-1,O=async()=>await ut(d.spinOptions().reelFallInDelay*E);c?await O():V.isTurbo||await u.add(O),d.motion="fallingIn",await y(async W=>{const J=W.symbolY.current,pe=e(W.symbolIndexOfBoard),re=pe-J,de=d.spinOptions().symbolFallInInterval*(l-W.symbolIndexOfBoard),Ce=n.symbolHeight*d.spinOptions().symbolFallInBounceSizeMulti,ot=Ce/d.spinOptions().symbolFallInBounceSpeed,Ze=(re-Ce)/d.spinOptions().symbolFallInSpeed;await W.symbolY.set(pe-Ce,{duration:Ze,delay:de}),W.symbolState="land",n.onSymbolLand({rawSymbol:W.rawSymbol}),W.symbolIndexOfBoard===l-1&&a(),await W.symbolY.set(pe,{duration:ot,easing:Ba})}),d.motion="stopped"},T=async()=>{d.motion==="hanging"||await S(),await A(),await P()},F={fast:()=>T(),normal:()=>T(),anticipated:()=>T()},X=E=>(d.spinType=E.spinType,c=E.noStop,s=E.symbols,a=E.onSpinFinishing,m={fast:0,normal:E.previousPaddingSize+h(),anticipated:E.previousPaddingSize+p()}[E.spinType],m),H=async()=>{await F[d.spinType]()},U=E=>{d.motion="stopped",E&&o(E)},R=()=>{u.interrupt()},B=()=>{be(()=>{d.motion==="hanging"&&d.readyToSpin()})};return{reelIndex:n.reelIndex,symbolHeight:n.symbolHeight,onReelStopping:n.onReelStopping,reelLength:i,reelState:d,preSpin:v,prepareToSpin:X,spin:H,stop:R,setSymbolsWithRawSymbols:U,readyToSpinEffect:B}}const Lo=ne({isPreSpinning:!1});function ep({board:n}){return{preSpin:async({paddingBoard:t})=>{Lo.isPreSpinning=!0;const r=V.isTurbo;await Promise.all(n.map((o,i)=>o.preSpin({isTurboBeforeAll:r,preSpinPaddingReel:t==null?void 0:t[i]})))}}}function tp({board:n}){async function e({revealEvent:t,paddingBoard:r}){Lo.isPreSpinning&&await Promise.all(n.map(async d=>{await Be(h=>d.reelState.readyToSpin=h)})),Lo.isPreSpinning=!1;const o=V.isTurbo?"fast":"normal",i=t.anticipation.some(Boolean),l=t.anticipation.findIndex(Boolean),u=({noStop:d,isAnticipated:h})=>h?"anticipated":d?"normal":o;n.reduce((d,h,p)=>{var S,A;const s=i&&p>=l,a=(((S=t.anticipation)==null?void 0:S[p])||0)>0,c=u({noStop:s,isAnticipated:a}),m=t.board[p],_=r==null?void 0:r[p],v=(A=t==null?void 0:t.paddingPositions)==null?void 0:A[p];return h.prepareToSpin({noStop:s,spinType:c,symbols:m,paddingReel:_,paddingPosition:v,previousPaddingSize:d,onSpinFinishing:()=>{var C;h.onReelStopping();const P=p+1;(((C=t.anticipation)==null?void 0:C[P])||0)>0&&(n[P].reelState.anticipating=!0)}})},0),await Promise.all(n.map(async d=>{await d.spin()}))}return{spin:e}}function np(){function n({board:e}){const{preSpin:t}=ep({board:e}),{spin:r}=tp({board:e});return{board:e,preSpin:t,spin:r,settle:u=>e.forEach((d,h)=>{const p=(u==null?void 0:u[h])||[];d.setSymbolsWithRawSymbols(p)}),stop:()=>e.forEach(u=>u.stop()),readyToSpinEffect:()=>{e.forEach(u=>u.readyToSpinEffect())}}}return{enhanceBoard:n}}function rp({gameType:n,winLevelMap:e,winLevelToBetAmountMultiplierThresholdMaps:t}){return{getWinLevelDataByBookEventAmount:o=>{const i=$a(o),l=t[n],u=Ut.entries(l).sort((p,s)=>s[1]-p[1]).find(([p,s])=>i>=s),d=u==null?void 0:u[0];return d?e[d]:void 0}}}const op={1:{level:1,alias:"zero",type:"small",text:null,presentDuration:0,sound:{sfx:void 0,bgm:void 0},animation:void 0},2:{level:2,alias:"standard",type:"small",text:null,presentDuration:.6*Oe,sound:{sfx:void 0,bgm:void 0},animation:void 0},3:{level:3,alias:"small",type:"small",text:null,presentDuration:1*Oe,sound:{sfx:void 0,bgm:void 0},animation:void 0},4:{level:4,alias:"nice",type:"medium",text:null,presentDuration:1.5*Oe,sound:{sfx:void 0,bgm:void 0},animation:void 0},5:{level:5,alias:"substantial",type:"medium",text:null,presentDuration:2*Oe,sound:{sfx:void 0,bgm:void 0},animation:void 0},6:{level:6,alias:"big",type:"big",text:"BIG WIN",presentDuration:6*Oe,sound:{sfx:void 0,bgm:"bgm_winlevel_big"},animation:{intro:"big_win_intro",idle:"big_win_idle",outro:"big_win_exit"}},7:{level:7,alias:"superwin",type:"big",text:"SUPER WIN",presentDuration:18*Oe,sound:{sfx:void 0,bgm:"bgm_winlevel_superwin"},animation:{intro:"super_win_intro",idle:"super_win_idle",outro:"super_win_exit"}},8:{level:8,alias:"mega",type:"big",text:"MEGA WIN",presentDuration:20*Oe,sound:{sfx:void 0,bgm:"bgm_winlevel_mega"},animation:{intro:"mega_win_intro",idle:"mega_win_idle",outro:"mega_win_exit"}},9:{level:9,alias:"epic",type:"big",text:"EPIC WIN!",presentDuration:26*Oe,sound:{sfx:void 0,bgm:"bgm_winlevel_epic"},animation:{intro:"epic_win_intro",idle:"epic_win_idle",outro:"epic_win_exit"}},10:{level:10,alias:"max",type:"big",text:"MAX WIN",presentDuration:32*Oe,sound:{sfx:void 0,bgm:"bgm_winlevel_max"},animation:{intro:"max_win_intro",idle:"max_win_idle",outro:"max_win_exit"}}},sp={winLevelMaps:{baseGame:{1:0,2:.01,3:1,4:2,5:5,6:15,7:50,8:100,9:250,10:5e3},freeGame:{1:0,2:.01,3:1,4:2,5:5,6:15,7:50,8:100,9:250,10:5e3},superSpinGame:{1:0,2:.01,3:1,4:2,5:5,6:15,7:50,8:100,9:250,10:5e3}}},ie=100,Li=.53,ko=[[{name:"M",subtype:"10"},{name:"H1"},{name:"M",subtype:"2"},{name:"L1"},{name:"H1"},{name:"H4"},{name:"H1"}],[{name:"L3"},{name:"H2"},{name:"M",subtype:"4"},{name:"L2"},{name:"S"},{name:"S"},{name:"L2"}],[{name:"L2"},{name:"H3"},{name:"M",subtype:"5"},{name:"L3"},{name:"W"},{name:"L2"},{name:"L2"}],[{name:"L3"},{name:"H4"},{name:"M",subtype:"7"},{name:"L4"},{name:"W"},{name:"H1"},{name:"H1"}],[{name:"H3"},{name:"H5"},{name:"M",subtype:"10"},{name:"H2"},{name:"S"},{name:"L2"},{name:"M",subtype:"7"}],[{name:"H2"},{name:"H2"},{name:"S"},{name:"L3"},{name:"H1"},{name:"S"},{name:"L2"}]],Sr={x:ko.length,y:ko[0].length-2},to={width:ie*Sr.x,height:ie*Sr.y},ap="static",oe=.3,pn=.9,Yn=.9,ki=1,Mi={reelFallInDelay:80,reelPaddingMultiplierNormal:1.25,reelPaddingMultiplierAnticipated:18,reelFallOutDelay:145},ip={...Mi,symbolFallInSpeed:3.5,symbolFallInInterval:30,symbolFallInBounceSpeed:.15,symbolFallInBounceSizeMulti:.5,symbolFallOutSpeed:3.5,symbolFallOutInterval:20},lp={...Mi,symbolFallInSpeed:7,symbolFallInInterval:0,symbolFallInBounceSpeed:.3,symbolFallInBounceSizeMulti:.25,symbolFallOutSpeed:7,symbolFallOutInterval:0},Ae={type:"spine",assetKey:"explosion",animationName:"explosion",sizeRatios:{width:1,height:1}},Xn={type:"sprite",assetKey:"h1.webp",sizeRatios:{width:1,height:1}},qn={type:"sprite",assetKey:"h2.webp",sizeRatios:{width:1,height:1}},Jn={type:"sprite",assetKey:"h3.webp",sizeRatios:{width:1,height:1}},Zn={type:"sprite",assetKey:"h4.webp",sizeRatios:{width:1,height:1}},Qn={type:"sprite",assetKey:"h5.webp",sizeRatios:{width:1,height:1}},er={type:"sprite",assetKey:"l1.webp",sizeRatios:{width:1,height:1}},tr={type:"sprite",assetKey:"l2.webp",sizeRatios:{width:1,height:1}},nr={type:"sprite",assetKey:"l3.webp",sizeRatios:{width:1,height:1}},rr={type:"sprite",assetKey:"l4.webp",sizeRatios:{width:1,height:1}},Xs={type:"sprite",assetKey:"s.png",sizeRatios:{width:1.243,height:1.243}},qs={type:"sprite",assetKey:"w.png",sizeRatios:{width:1.12,height:1.12}},no={type:"sprite",assetKey:"m1_2x.png",sizeRatios:{width:.88,height:.88}},ro={type:"sprite",assetKey:"m1_4x.png",sizeRatios:{width:.88,height:.88}},oo={type:"sprite",assetKey:"m2_5x.png",sizeRatios:{width:1,height:1}},so={type:"sprite",assetKey:"m2_7x.png",sizeRatios:{width:1,height:1}},ao={type:"sprite",assetKey:"m3_10x.png",sizeRatios:{width:1,height:1}},Js={width:1.5*.9,height:ki*1.15},io={width:2.5,height:ki*2.3},Zs={type:"spine",assetKey:"M",animationName:"low_multiplier_static",sizeRatios:{width:oe,height:oe}},Qs={type:"spine",assetKey:"M",animationName:"mid_multiplier_static",sizeRatios:{width:oe,height:oe}},ea={type:"spine",assetKey:"M",animationName:"high_multiplier_static",sizeRatios:{width:oe,height:oe}},xr={explosion:Ae,win:{type:"spine",assetKey:"M",animationName:"low_multiplier_pay",sizeRatios:{width:oe,height:oe}},postWinStatic:Zs,static:Zs,spin:{type:"spine",assetKey:"M",animationName:"low_multiplier_static",sizeRatios:{width:oe,height:oe}},land:{type:"spine",assetKey:"M",animationName:"low_multiplier_land",sizeRatios:{width:oe,height:oe}}},Ar={explosion:Ae,win:{type:"spine",assetKey:"M",animationName:"mid_multiplier_pay",sizeRatios:{width:oe,height:oe}},postWinStatic:Qs,static:Qs,spin:{type:"spine",assetKey:"M",animationName:"mid_multiplier_static",sizeRatios:{width:oe,height:oe}},land:{type:"spine",assetKey:"M",animationName:"mid_multiplier_land",sizeRatios:{width:oe,height:oe}}},Bi={explosion:Ae,win:{type:"spine",assetKey:"M",animationName:"high_multiplier_pay",sizeRatios:{width:oe,height:oe}},postWinStatic:ea,static:ea,spin:{type:"spine",assetKey:"M",animationName:"high_multiplier_static",sizeRatios:{width:oe,height:oe}},land:{type:"spine",assetKey:"M",animationName:"high_multiplier_land",sizeRatios:{width:oe,height:oe}}},up={H1:{explosion:Ae,win:{type:"spine",assetKey:"H1",animationName:"h1",sizeRatios:{width:.5*1.15,height:pn*.57}},postWinStatic:Xn,static:Xn,spin:Xn,land:Xn},H2:{explosion:Ae,win:{type:"spine",assetKey:"H2",animationName:"h2",sizeRatios:{width:.5,height:pn*.57}},postWinStatic:qn,static:qn,spin:qn,land:qn},H3:{explosion:Ae,win:{type:"spine",assetKey:"H3",animationName:"h3",sizeRatios:{width:.5*.9,height:pn*.53}},postWinStatic:Jn,static:Jn,spin:Jn,land:Jn},H4:{explosion:Ae,win:{type:"spine",assetKey:"H4",animationName:"h4",sizeRatios:{width:.5*.9,height:pn*.53}},postWinStatic:Zn,static:Zn,spin:Zn,land:Zn},H5:{explosion:Ae,win:{type:"spine",assetKey:"H5",animationName:"h5",sizeRatios:{width:.5*.9,height:pn*.53}},postWinStatic:Qn,static:Qn,spin:Qn,land:Qn},L1:{explosion:Ae,win:{type:"spine",assetKey:"L1",animationName:"l1",sizeRatios:{width:.5*.75,height:Yn*.65}},postWinStatic:er,static:er,spin:er,land:er},L2:{explosion:Ae,win:{type:"spine",assetKey:"L2",animationName:"l2",sizeRatios:{width:.5*.75,height:Yn*.65}},postWinStatic:tr,static:tr,spin:tr,land:tr},L3:{explosion:Ae,win:{type:"spine",assetKey:"L3",animationName:"l3",sizeRatios:{width:.5*.75,height:Yn*.63}},postWinStatic:nr,static:nr,spin:nr,land:nr},L4:{explosion:Ae,win:{type:"spine",assetKey:"L4",animationName:"l4",sizeRatios:{width:.5*.75,height:Yn*.63}},postWinStatic:rr,static:rr,spin:rr,land:rr},W:{explosion:Ae,postWinStatic:{type:"sprite",assetKey:"explodedW.png",sizeRatios:{width:.85,height:.85}},static:qs,spin:qs,win:{type:"spine",assetKey:"W",animationName:"wild_dynamite",sizeRatios:Js},land:{type:"spine",assetKey:"W",animationName:"wild_dynamite_land",sizeRatios:Js}},S:{explosion:Ae,postWinStatic:Xs,static:Xs,spin:{type:"spine",assetKey:"S",animationName:"scatter_spin",sizeRatios:io},win:{type:"spine",assetKey:"S",animationName:"scatter_win",sizeRatios:io},land:{type:"spine",assetKey:"S",animationName:"scatter_land",sizeRatios:io}},M_2:{explosion:Ae,postWinStatic:no,static:no,spin:no,win:{type:"spine",assetKey:"M",animationName:"2x",sizeRatios:{width:oe,height:oe}},land:{type:"spine",assetKey:"M",animationName:"2x_land",sizeRatios:{width:oe,height:oe}}},M_4:{explosion:Ae,postWinStatic:ro,static:ro,spin:ro,win:{type:"spine",assetKey:"M",animationName:"4x",sizeRatios:{width:oe,height:oe}},land:{type:"spine",assetKey:"M",animationName:"4x_land",sizeRatios:{width:oe,height:oe}}},M_5:{explosion:Ae,postWinStatic:oo,static:oo,spin:oo,win:{type:"spine",assetKey:"M",animationName:"5x",sizeRatios:{width:oe,height:oe}},land:{type:"spine",assetKey:"M",animationName:"5x_land",sizeRatios:{width:oe,height:oe}}},M_7:{explosion:Ae,postWinStatic:so,static:so,spin:so,win:{type:"spine",assetKey:"M",animationName:"7x",sizeRatios:{width:oe,height:oe}},land:{type:"spine",assetKey:"M",animationName:"7x_land",sizeRatios:{width:oe,height:oe}}},M_10:{explosion:Ae,postWinStatic:ao,static:ao,spin:ao,win:{type:"spine",assetKey:"M",animationName:"10x",sizeRatios:{width:oe,height:oe}},land:{type:"spine",assetKey:"M",animationName:"10x_land",sizeRatios:{width:oe,height:oe}}},M_TAKEN_2:xr,M_TAKEN_4:xr,M_TAKEN_5:Ar,M_TAKEN_7:Ar,M_TAKEN_10:Bi},cp={M_2:xr,M_4:xr,M_5:Ar,M_7:Ar,M_10:Bi},dp={1:"sfx_scatter_stop_1",2:"sfx_scatter_stop_2",3:"sfx_scatter_stop_3",4:"sfx_scatter_stop_4",5:"sfx_scatter_stop_5"},$i=({rawSymbol:n})=>{n.name==="S"&&(z.broadcast({type:"soundScatterCounterIncrease"}),z.broadcast({type:"soundOnce",name:dp[Oi()]})),n.name==="M"&&z.broadcast({type:"soundOnce",name:"sfx_multiplier_landing"})},Di=Ut.range(Sr.x).map(n=>{const e=Qm({reelIndex:n,symbolHeight:ie,initialSymbols:ko[n],initialSymbolState:ap,onReelStopping:()=>{z.broadcast({type:"soundOnce",name:"sfx_reel_stop_1",forcePlay:!V.isTurbo})},onSymbolLand:$i});return e.reelState.spinOptions=()=>e.reelState.spinType==="fast"?lp:ip,e}),qe=ne({board:Di,gameType:"baseGame",tumbleBoardAdding:[],tumbleBoardBase:[],multiplierBoard:[],scatterCounter:0}),fp=()=>({x:Io.mainLayout().width*.5,y:Io.mainLayout().height*.5,anchor:{x:.5,y:.5},pivot:{x:to.width/2,y:to.height/2},...to}),hp=()=>Di.map(n=>n.reelState.symbols.map(e=>e.rawSymbol)),mp=()=>qe.tumbleBoardBase.map((e,t)=>[...qe.tumbleBoardAdding[t]??[],...e]),Oi=()=>qe.scatterCounter>5?5:qe.scatterCounter<1?1:qe.scatterCounter,{enhanceBoard:pp}=np(),_p=pp({board:qe.board}),{getWinLevelDataByBookEventAmount:vp}=rp({gameType:qe.gameType,winLevelMap:op,winLevelToBetAmountMultiplierThresholdMaps:sp.winLevelMaps}),Ht={onSymbolLand:$i,boardLayout:fp,boardRaw:hp,tumbleBoardCombined:mp,scatterLandIndex:Oi,enhancedBoard:_p,getWinLevelDataByBookEventAmount:vp},yp={...ft,...Se,home:()=>K._(K.t("HOME")),notTranslated:()=>K._(K.t("NOT TRANSLATED"))},gp=()=>{nu({eventEmitter:z}),Hh({stateXstate:Xm,stateXstateDerived:Ii}),ac({stateLayout:qm,stateLayoutDerived:Io}),Hd({stateApp:Zm})},ce=()=>({...St(),...ht(),...Ti(),...rt(),stateGame:qe,stateGameDerived:Ht,i18nDerived:yp});var lo={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */var ta;function bp(){return ta||(ta=1,function(n){(function(){var e=function(){this.init()};e.prototype={init:function(){var s=this||t;return s._counter=1e3,s._html5AudioPool=[],s.html5PoolSize=10,s._codecs={},s._howls=[],s._muted=!1,s._volume=1,s._canPlayEvent="canplaythrough",s._navigator=typeof window<"u"&&window.navigator?window.navigator:null,s.masterGain=null,s.noAudio=!1,s.usingWebAudio=!0,s.autoSuspend=!0,s.ctx=null,s.autoUnlock=!0,s._setup(),s},volume:function(s){var a=this||t;if(s=parseFloat(s),a.ctx||p(),typeof s<"u"&&s>=0&&s<=1){if(a._volume=s,a._muted)return a;a.usingWebAudio&&a.masterGain.gain.setValueAtTime(s,t.ctx.currentTime);for(var c=0;c<a._howls.length;c++)if(!a._howls[c]._webAudio)for(var m=a._howls[c]._getSoundIds(),_=0;_<m.length;_++){var v=a._howls[c]._soundById(m[_]);v&&v._node&&(v._node.volume=v._volume*s)}return a}return a._volume},mute:function(s){var a=this||t;a.ctx||p(),a._muted=s,a.usingWebAudio&&a.masterGain.gain.setValueAtTime(s?0:a._volume,t.ctx.currentTime);for(var c=0;c<a._howls.length;c++)if(!a._howls[c]._webAudio)for(var m=a._howls[c]._getSoundIds(),_=0;_<m.length;_++){var v=a._howls[c]._soundById(m[_]);v&&v._node&&(v._node.muted=s?!0:v._muted)}return a},stop:function(){for(var s=this||t,a=0;a<s._howls.length;a++)s._howls[a].stop();return s},unload:function(){for(var s=this||t,a=s._howls.length-1;a>=0;a--)s._howls[a].unload();return s.usingWebAudio&&s.ctx&&typeof s.ctx.close<"u"&&(s.ctx.close(),s.ctx=null,p()),s},codecs:function(s){return(this||t)._codecs[s.replace(/^x-/,"")]},_setup:function(){var s=this||t;if(s.state=s.ctx&&s.ctx.state||"suspended",s._autoSuspend(),!s.usingWebAudio)if(typeof Audio<"u")try{var a=new Audio;typeof a.oncanplaythrough>"u"&&(s._canPlayEvent="canplay")}catch{s.noAudio=!0}else s.noAudio=!0;try{var a=new Audio;a.muted&&(s.noAudio=!0)}catch{}return s.noAudio||s._setupCodecs(),s},_setupCodecs:function(){var s=this||t,a=null;try{a=typeof Audio<"u"?new Audio:null}catch{return s}if(!a||typeof a.canPlayType!="function")return s;var c=a.canPlayType("audio/mpeg;").replace(/^no$/,""),m=s._navigator?s._navigator.userAgent:"",_=m.match(/OPR\/(\d+)/g),v=_&&parseInt(_[0].split("/")[1],10)<33,y=m.indexOf("Safari")!==-1&&m.indexOf("Chrome")===-1,S=m.match(/Version\/(.*?) /),A=y&&S&&parseInt(S[1],10)<15;return s._codecs={mp3:!!(!v&&(c||a.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!c,opus:!!a.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(a.canPlayType('audio/wav; codecs="1"')||a.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!a.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!a.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(a.canPlayType("audio/x-m4a;")||a.canPlayType("audio/m4a;")||a.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(a.canPlayType("audio/x-m4b;")||a.canPlayType("audio/m4b;")||a.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(a.canPlayType("audio/x-mp4;")||a.canPlayType("audio/mp4;")||a.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!A&&a.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!A&&a.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!a.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(a.canPlayType("audio/x-flac;")||a.canPlayType("audio/flac;")).replace(/^no$/,"")},s},_unlockAudio:function(){var s=this||t;if(!(s._audioUnlocked||!s.ctx)){s._audioUnlocked=!1,s.autoUnlock=!1,!s._mobileUnloaded&&s.ctx.sampleRate!==44100&&(s._mobileUnloaded=!0,s.unload()),s._scratchBuffer=s.ctx.createBuffer(1,1,22050);var a=function(c){for(;s._html5AudioPool.length<s.html5PoolSize;)try{var m=new Audio;m._unlocked=!0,s._releaseHtml5Audio(m)}catch{s.noAudio=!0;break}for(var _=0;_<s._howls.length;_++)if(!s._howls[_]._webAudio)for(var v=s._howls[_]._getSoundIds(),y=0;y<v.length;y++){var S=s._howls[_]._soundById(v[y]);S&&S._node&&!S._node._unlocked&&(S._node._unlocked=!0,S._node.load())}s._autoResume();var A=s.ctx.createBufferSource();A.buffer=s._scratchBuffer,A.connect(s.ctx.destination),typeof A.start>"u"?A.noteOn(0):A.start(0),typeof s.ctx.resume=="function"&&s.ctx.resume(),A.onended=function(){A.disconnect(0),s._audioUnlocked=!0,document.removeEventListener("touchstart",a,!0),document.removeEventListener("touchend",a,!0),document.removeEventListener("click",a,!0),document.removeEventListener("keydown",a,!0);for(var P=0;P<s._howls.length;P++)s._howls[P]._emit("unlock")}};return document.addEventListener("touchstart",a,!0),document.addEventListener("touchend",a,!0),document.addEventListener("click",a,!0),document.addEventListener("keydown",a,!0),s}},_obtainHtml5Audio:function(){var s=this||t;if(s._html5AudioPool.length)return s._html5AudioPool.pop();var a=new Audio().play();return a&&typeof Promise<"u"&&(a instanceof Promise||typeof a.then=="function")&&a.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(s){var a=this||t;return s._unlocked&&a._html5AudioPool.push(s),a},_autoSuspend:function(){var s=this;if(!(!s.autoSuspend||!s.ctx||typeof s.ctx.suspend>"u"||!t.usingWebAudio)){for(var a=0;a<s._howls.length;a++)if(s._howls[a]._webAudio){for(var c=0;c<s._howls[a]._sounds.length;c++)if(!s._howls[a]._sounds[c]._paused)return s}return s._suspendTimer&&clearTimeout(s._suspendTimer),s._suspendTimer=setTimeout(function(){if(s.autoSuspend){s._suspendTimer=null,s.state="suspending";var m=function(){s.state="suspended",s._resumeAfterSuspend&&(delete s._resumeAfterSuspend,s._autoResume())};s.ctx.suspend().then(m,m)}},3e4),s}},_autoResume:function(){var s=this;if(!(!s.ctx||typeof s.ctx.resume>"u"||!t.usingWebAudio))return s.state==="running"&&s.ctx.state!=="interrupted"&&s._suspendTimer?(clearTimeout(s._suspendTimer),s._suspendTimer=null):s.state==="suspended"||s.state==="running"&&s.ctx.state==="interrupted"?(s.ctx.resume().then(function(){s.state="running";for(var a=0;a<s._howls.length;a++)s._howls[a]._emit("resume")}),s._suspendTimer&&(clearTimeout(s._suspendTimer),s._suspendTimer=null)):s.state==="suspending"&&(s._resumeAfterSuspend=!0),s}};var t=new e,r=function(s){var a=this;if(!s.src||s.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}a.init(s)};r.prototype={init:function(s){var a=this;return t.ctx||p(),a._autoplay=s.autoplay||!1,a._format=typeof s.format!="string"?s.format:[s.format],a._html5=s.html5||!1,a._muted=s.mute||!1,a._loop=s.loop||!1,a._pool=s.pool||5,a._preload=typeof s.preload=="boolean"||s.preload==="metadata"?s.preload:!0,a._rate=s.rate||1,a._sprite=s.sprite||{},a._src=typeof s.src!="string"?s.src:[s.src],a._volume=s.volume!==void 0?s.volume:1,a._xhr={method:s.xhr&&s.xhr.method?s.xhr.method:"GET",headers:s.xhr&&s.xhr.headers?s.xhr.headers:null,withCredentials:s.xhr&&s.xhr.withCredentials?s.xhr.withCredentials:!1},a._duration=0,a._state="unloaded",a._sounds=[],a._endTimers={},a._queue=[],a._playLock=!1,a._onend=s.onend?[{fn:s.onend}]:[],a._onfade=s.onfade?[{fn:s.onfade}]:[],a._onload=s.onload?[{fn:s.onload}]:[],a._onloaderror=s.onloaderror?[{fn:s.onloaderror}]:[],a._onplayerror=s.onplayerror?[{fn:s.onplayerror}]:[],a._onpause=s.onpause?[{fn:s.onpause}]:[],a._onplay=s.onplay?[{fn:s.onplay}]:[],a._onstop=s.onstop?[{fn:s.onstop}]:[],a._onmute=s.onmute?[{fn:s.onmute}]:[],a._onvolume=s.onvolume?[{fn:s.onvolume}]:[],a._onrate=s.onrate?[{fn:s.onrate}]:[],a._onseek=s.onseek?[{fn:s.onseek}]:[],a._onunlock=s.onunlock?[{fn:s.onunlock}]:[],a._onresume=[],a._webAudio=t.usingWebAudio&&!a._html5,typeof t.ctx<"u"&&t.ctx&&t.autoUnlock&&t._unlockAudio(),t._howls.push(a),a._autoplay&&a._queue.push({event:"play",action:function(){a.play()}}),a._preload&&a._preload!=="none"&&a.load(),a},load:function(){var s=this,a=null;if(t.noAudio){s._emit("loaderror",null,"No audio support.");return}typeof s._src=="string"&&(s._src=[s._src]);for(var c=0;c<s._src.length;c++){var m,_;if(s._format&&s._format[c])m=s._format[c];else{if(_=s._src[c],typeof _!="string"){s._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}m=/^data:audio\/([^;,]+);/i.exec(_),m||(m=/\.([^.]+)$/.exec(_.split("?",1)[0])),m&&(m=m[1].toLowerCase())}if(m||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),m&&t.codecs(m)){a=s._src[c];break}}if(!a){s._emit("loaderror",null,"No codec support for selected audio sources.");return}return s._src=a,s._state="loading",window.location.protocol==="https:"&&a.slice(0,5)==="http:"&&(s._html5=!0,s._webAudio=!1),new o(s),s._webAudio&&l(s),s},play:function(s,a){var c=this,m=null;if(typeof s=="number")m=s,s=null;else{if(typeof s=="string"&&c._state==="loaded"&&!c._sprite[s])return null;if(typeof s>"u"&&(s="__default",!c._playLock)){for(var _=0,v=0;v<c._sounds.length;v++)c._sounds[v]._paused&&!c._sounds[v]._ended&&(_++,m=c._sounds[v]._id);_===1?s=null:m=null}}var y=m?c._soundById(m):c._inactiveSound();if(!y)return null;if(m&&!s&&(s=y._sprite||"__default"),c._state!=="loaded"){y._sprite=s,y._ended=!1;var S=y._id;return c._queue.push({event:"play",action:function(){c.play(S)}}),S}if(m&&!y._paused)return a||c._loadQueue("play"),y._id;c._webAudio&&t._autoResume();var A=Math.max(0,y._seek>0?y._seek:c._sprite[s][0]/1e3),P=Math.max(0,(c._sprite[s][0]+c._sprite[s][1])/1e3-A),T=P*1e3/Math.abs(y._rate),C=c._sprite[s][0]/1e3,D=(c._sprite[s][0]+c._sprite[s][1])/1e3;y._sprite=s,y._ended=!1;var j=function(){y._paused=!1,y._seek=A,y._start=C,y._stop=D,y._loop=!!(y._loop||c._sprite[s][2])};if(A>=D){c._ended(y);return}var F=y._node;if(c._webAudio){var X=function(){c._playLock=!1,j(),c._refreshBuffer(y);var B=y._muted||c._muted?0:y._volume;F.gain.setValueAtTime(B,t.ctx.currentTime),y._playStart=t.ctx.currentTime,typeof F.bufferSource.start>"u"?y._loop?F.bufferSource.noteGrainOn(0,A,86400):F.bufferSource.noteGrainOn(0,A,P):y._loop?F.bufferSource.start(0,A,86400):F.bufferSource.start(0,A,P),T!==1/0&&(c._endTimers[y._id]=setTimeout(c._ended.bind(c,y),T)),a||setTimeout(function(){c._emit("play",y._id),c._loadQueue()},0)};t.state==="running"&&t.ctx.state!=="interrupted"?X():(c._playLock=!0,c.once("resume",X),c._clearTimer(y._id))}else{var H=function(){F.currentTime=A,F.muted=y._muted||c._muted||t._muted||F.muted,F.volume=y._volume*t.volume(),F.playbackRate=y._rate;try{var B=F.play();if(B&&typeof Promise<"u"&&(B instanceof Promise||typeof B.then=="function")?(c._playLock=!0,j(),B.then(function(){c._playLock=!1,F._unlocked=!0,a?c._loadQueue():c._emit("play",y._id)}).catch(function(){c._playLock=!1,c._emit("playerror",y._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),y._ended=!0,y._paused=!0})):a||(c._playLock=!1,j(),c._emit("play",y._id)),F.playbackRate=y._rate,F.paused){c._emit("playerror",y._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}s!=="__default"||y._loop?c._endTimers[y._id]=setTimeout(c._ended.bind(c,y),T):(c._endTimers[y._id]=function(){c._ended(y),F.removeEventListener("ended",c._endTimers[y._id],!1)},F.addEventListener("ended",c._endTimers[y._id],!1))}catch(E){c._emit("playerror",y._id,E)}};F.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(F.src=c._src,F.load());var U=window&&window.ejecta||!F.readyState&&t._navigator.isCocoonJS;if(F.readyState>=3||U)H();else{c._playLock=!0,c._state="loading";var R=function(){c._state="loaded",H(),F.removeEventListener(t._canPlayEvent,R,!1)};F.addEventListener(t._canPlayEvent,R,!1),c._clearTimer(y._id)}}return y._id},pause:function(s){var a=this;if(a._state!=="loaded"||a._playLock)return a._queue.push({event:"pause",action:function(){a.pause(s)}}),a;for(var c=a._getSoundIds(s),m=0;m<c.length;m++){a._clearTimer(c[m]);var _=a._soundById(c[m]);if(_&&!_._paused&&(_._seek=a.seek(c[m]),_._rateSeek=0,_._paused=!0,a._stopFade(c[m]),_._node))if(a._webAudio){if(!_._node.bufferSource)continue;typeof _._node.bufferSource.stop>"u"?_._node.bufferSource.noteOff(0):_._node.bufferSource.stop(0),a._cleanBuffer(_._node)}else(!isNaN(_._node.duration)||_._node.duration===1/0)&&_._node.pause();arguments[1]||a._emit("pause",_?_._id:null)}return a},stop:function(s,a){var c=this;if(c._state!=="loaded"||c._playLock)return c._queue.push({event:"stop",action:function(){c.stop(s)}}),c;for(var m=c._getSoundIds(s),_=0;_<m.length;_++){c._clearTimer(m[_]);var v=c._soundById(m[_]);v&&(v._seek=v._start||0,v._rateSeek=0,v._paused=!0,v._ended=!0,c._stopFade(m[_]),v._node&&(c._webAudio?v._node.bufferSource&&(typeof v._node.bufferSource.stop>"u"?v._node.bufferSource.noteOff(0):v._node.bufferSource.stop(0),c._cleanBuffer(v._node)):(!isNaN(v._node.duration)||v._node.duration===1/0)&&(v._node.currentTime=v._start||0,v._node.pause(),v._node.duration===1/0&&c._clearSound(v._node))),a||c._emit("stop",v._id))}return c},mute:function(s,a){var c=this;if(c._state!=="loaded"||c._playLock)return c._queue.push({event:"mute",action:function(){c.mute(s,a)}}),c;if(typeof a>"u")if(typeof s=="boolean")c._muted=s;else return c._muted;for(var m=c._getSoundIds(a),_=0;_<m.length;_++){var v=c._soundById(m[_]);v&&(v._muted=s,v._interval&&c._stopFade(v._id),c._webAudio&&v._node?v._node.gain.setValueAtTime(s?0:v._volume,t.ctx.currentTime):v._node&&(v._node.muted=t._muted?!0:s),c._emit("mute",v._id))}return c},volume:function(){var s=this,a=arguments,c,m;if(a.length===0)return s._volume;if(a.length===1||a.length===2&&typeof a[1]>"u"){var _=s._getSoundIds(),v=_.indexOf(a[0]);v>=0?m=parseInt(a[0],10):c=parseFloat(a[0])}else a.length>=2&&(c=parseFloat(a[0]),m=parseInt(a[1],10));var y;if(typeof c<"u"&&c>=0&&c<=1){if(s._state!=="loaded"||s._playLock)return s._queue.push({event:"volume",action:function(){s.volume.apply(s,a)}}),s;typeof m>"u"&&(s._volume=c),m=s._getSoundIds(m);for(var S=0;S<m.length;S++)y=s._soundById(m[S]),y&&(y._volume=c,a[2]||s._stopFade(m[S]),s._webAudio&&y._node&&!y._muted?y._node.gain.setValueAtTime(c,t.ctx.currentTime):y._node&&!y._muted&&(y._node.volume=c*t.volume()),s._emit("volume",y._id))}else return y=m?s._soundById(m):s._sounds[0],y?y._volume:0;return s},fade:function(s,a,c,m){var _=this;if(_._state!=="loaded"||_._playLock)return _._queue.push({event:"fade",action:function(){_.fade(s,a,c,m)}}),_;s=Math.min(Math.max(0,parseFloat(s)),1),a=Math.min(Math.max(0,parseFloat(a)),1),c=parseFloat(c),_.volume(s,m);for(var v=_._getSoundIds(m),y=0;y<v.length;y++){var S=_._soundById(v[y]);if(S){if(m||_._stopFade(v[y]),_._webAudio&&!S._muted){var A=t.ctx.currentTime,P=A+c/1e3;S._volume=s,S._node.gain.setValueAtTime(s,A),S._node.gain.linearRampToValueAtTime(a,P)}_._startFadeInterval(S,s,a,c,v[y],typeof m>"u")}}return _},_startFadeInterval:function(s,a,c,m,_,v){var y=this,S=a,A=c-a,P=Math.abs(A/.01),T=Math.max(4,P>0?m/P:m),C=Date.now();s._fadeTo=c,s._interval=setInterval(function(){var D=(Date.now()-C)/m;C=Date.now(),S+=A*D,S=Math.round(S*100)/100,A<0?S=Math.max(c,S):S=Math.min(c,S),y._webAudio?s._volume=S:y.volume(S,s._id,!0),v&&(y._volume=S),(c<a&&S<=c||c>a&&S>=c)&&(clearInterval(s._interval),s._interval=null,s._fadeTo=null,y.volume(c,s._id),y._emit("fade",s._id))},T)},_stopFade:function(s){var a=this,c=a._soundById(s);return c&&c._interval&&(a._webAudio&&c._node.gain.cancelScheduledValues(t.ctx.currentTime),clearInterval(c._interval),c._interval=null,a.volume(c._fadeTo,s),c._fadeTo=null,a._emit("fade",s)),a},loop:function(){var s=this,a=arguments,c,m,_;if(a.length===0)return s._loop;if(a.length===1)if(typeof a[0]=="boolean")c=a[0],s._loop=c;else return _=s._soundById(parseInt(a[0],10)),_?_._loop:!1;else a.length===2&&(c=a[0],m=parseInt(a[1],10));for(var v=s._getSoundIds(m),y=0;y<v.length;y++)_=s._soundById(v[y]),_&&(_._loop=c,s._webAudio&&_._node&&_._node.bufferSource&&(_._node.bufferSource.loop=c,c&&(_._node.bufferSource.loopStart=_._start||0,_._node.bufferSource.loopEnd=_._stop,s.playing(v[y])&&(s.pause(v[y],!0),s.play(v[y],!0)))));return s},rate:function(){var s=this,a=arguments,c,m;if(a.length===0)m=s._sounds[0]._id;else if(a.length===1){var _=s._getSoundIds(),v=_.indexOf(a[0]);v>=0?m=parseInt(a[0],10):c=parseFloat(a[0])}else a.length===2&&(c=parseFloat(a[0]),m=parseInt(a[1],10));var y;if(typeof c=="number"){if(s._state!=="loaded"||s._playLock)return s._queue.push({event:"rate",action:function(){s.rate.apply(s,a)}}),s;typeof m>"u"&&(s._rate=c),m=s._getSoundIds(m);for(var S=0;S<m.length;S++)if(y=s._soundById(m[S]),y){s.playing(m[S])&&(y._rateSeek=s.seek(m[S]),y._playStart=s._webAudio?t.ctx.currentTime:y._playStart),y._rate=c,s._webAudio&&y._node&&y._node.bufferSource?y._node.bufferSource.playbackRate.setValueAtTime(c,t.ctx.currentTime):y._node&&(y._node.playbackRate=c);var A=s.seek(m[S]),P=(s._sprite[y._sprite][0]+s._sprite[y._sprite][1])/1e3-A,T=P*1e3/Math.abs(y._rate);(s._endTimers[m[S]]||!y._paused)&&(s._clearTimer(m[S]),s._endTimers[m[S]]=setTimeout(s._ended.bind(s,y),T)),s._emit("rate",y._id)}}else return y=s._soundById(m),y?y._rate:s._rate;return s},seek:function(){var s=this,a=arguments,c,m;if(a.length===0)s._sounds.length&&(m=s._sounds[0]._id);else if(a.length===1){var _=s._getSoundIds(),v=_.indexOf(a[0]);v>=0?m=parseInt(a[0],10):s._sounds.length&&(m=s._sounds[0]._id,c=parseFloat(a[0]))}else a.length===2&&(c=parseFloat(a[0]),m=parseInt(a[1],10));if(typeof m>"u")return 0;if(typeof c=="number"&&(s._state!=="loaded"||s._playLock))return s._queue.push({event:"seek",action:function(){s.seek.apply(s,a)}}),s;var y=s._soundById(m);if(y)if(typeof c=="number"&&c>=0){var S=s.playing(m);S&&s.pause(m,!0),y._seek=c,y._ended=!1,s._clearTimer(m),!s._webAudio&&y._node&&!isNaN(y._node.duration)&&(y._node.currentTime=c);var A=function(){S&&s.play(m,!0),s._emit("seek",m)};if(S&&!s._webAudio){var P=function(){s._playLock?setTimeout(P,0):A()};setTimeout(P,0)}else A()}else if(s._webAudio){var T=s.playing(m)?t.ctx.currentTime-y._playStart:0,C=y._rateSeek?y._rateSeek-y._seek:0;return y._seek+(C+T*Math.abs(y._rate))}else return y._node.currentTime;return s},playing:function(s){var a=this;if(typeof s=="number"){var c=a._soundById(s);return c?!c._paused:!1}for(var m=0;m<a._sounds.length;m++)if(!a._sounds[m]._paused)return!0;return!1},duration:function(s){var a=this,c=a._duration,m=a._soundById(s);return m&&(c=a._sprite[m._sprite][1]/1e3),c},state:function(){return this._state},unload:function(){for(var s=this,a=s._sounds,c=0;c<a.length;c++)a[c]._paused||s.stop(a[c]._id),s._webAudio||(s._clearSound(a[c]._node),a[c]._node.removeEventListener("error",a[c]._errorFn,!1),a[c]._node.removeEventListener(t._canPlayEvent,a[c]._loadFn,!1),a[c]._node.removeEventListener("ended",a[c]._endFn,!1),t._releaseHtml5Audio(a[c]._node)),delete a[c]._node,s._clearTimer(a[c]._id);var m=t._howls.indexOf(s);m>=0&&t._howls.splice(m,1);var _=!0;for(c=0;c<t._howls.length;c++)if(t._howls[c]._src===s._src||s._src.indexOf(t._howls[c]._src)>=0){_=!1;break}return i&&_&&delete i[s._src],t.noAudio=!1,s._state="unloaded",s._sounds=[],s=null,null},on:function(s,a,c,m){var _=this,v=_["_on"+s];return typeof a=="function"&&v.push(m?{id:c,fn:a,once:m}:{id:c,fn:a}),_},off:function(s,a,c){var m=this,_=m["_on"+s],v=0;if(typeof a=="number"&&(c=a,a=null),a||c)for(v=0;v<_.length;v++){var y=c===_[v].id;if(a===_[v].fn&&y||!a&&y){_.splice(v,1);break}}else if(s)m["_on"+s]=[];else{var S=Object.keys(m);for(v=0;v<S.length;v++)S[v].indexOf("_on")===0&&Array.isArray(m[S[v]])&&(m[S[v]]=[])}return m},once:function(s,a,c){var m=this;return m.on(s,a,c,1),m},_emit:function(s,a,c){for(var m=this,_=m["_on"+s],v=_.length-1;v>=0;v--)(!_[v].id||_[v].id===a||s==="load")&&(setTimeout((function(y){y.call(this,a,c)}).bind(m,_[v].fn),0),_[v].once&&m.off(s,_[v].fn,_[v].id));return m._loadQueue(s),m},_loadQueue:function(s){var a=this;if(a._queue.length>0){var c=a._queue[0];c.event===s&&(a._queue.shift(),a._loadQueue()),s||c.action()}return a},_ended:function(s){var a=this,c=s._sprite;if(!a._webAudio&&s._node&&!s._node.paused&&!s._node.ended&&s._node.currentTime<s._stop)return setTimeout(a._ended.bind(a,s),100),a;var m=!!(s._loop||a._sprite[c][2]);if(a._emit("end",s._id),!a._webAudio&&m&&a.stop(s._id,!0).play(s._id),a._webAudio&&m){a._emit("play",s._id),s._seek=s._start||0,s._rateSeek=0,s._playStart=t.ctx.currentTime;var _=(s._stop-s._start)*1e3/Math.abs(s._rate);a._endTimers[s._id]=setTimeout(a._ended.bind(a,s),_)}return a._webAudio&&!m&&(s._paused=!0,s._ended=!0,s._seek=s._start||0,s._rateSeek=0,a._clearTimer(s._id),a._cleanBuffer(s._node),t._autoSuspend()),!a._webAudio&&!m&&a.stop(s._id,!0),a},_clearTimer:function(s){var a=this;if(a._endTimers[s]){if(typeof a._endTimers[s]!="function")clearTimeout(a._endTimers[s]);else{var c=a._soundById(s);c&&c._node&&c._node.removeEventListener("ended",a._endTimers[s],!1)}delete a._endTimers[s]}return a},_soundById:function(s){for(var a=this,c=0;c<a._sounds.length;c++)if(s===a._sounds[c]._id)return a._sounds[c];return null},_inactiveSound:function(){var s=this;s._drain();for(var a=0;a<s._sounds.length;a++)if(s._sounds[a]._ended)return s._sounds[a].reset();return new o(s)},_drain:function(){var s=this,a=s._pool,c=0,m=0;if(!(s._sounds.length<a)){for(m=0;m<s._sounds.length;m++)s._sounds[m]._ended&&c++;for(m=s._sounds.length-1;m>=0;m--){if(c<=a)return;s._sounds[m]._ended&&(s._webAudio&&s._sounds[m]._node&&s._sounds[m]._node.disconnect(0),s._sounds.splice(m,1),c--)}}},_getSoundIds:function(s){var a=this;if(typeof s>"u"){for(var c=[],m=0;m<a._sounds.length;m++)c.push(a._sounds[m]._id);return c}else return[s]},_refreshBuffer:function(s){var a=this;return s._node.bufferSource=t.ctx.createBufferSource(),s._node.bufferSource.buffer=i[a._src],s._panner?s._node.bufferSource.connect(s._panner):s._node.bufferSource.connect(s._node),s._node.bufferSource.loop=s._loop,s._loop&&(s._node.bufferSource.loopStart=s._start||0,s._node.bufferSource.loopEnd=s._stop||0),s._node.bufferSource.playbackRate.setValueAtTime(s._rate,t.ctx.currentTime),a},_cleanBuffer:function(s){var a=this,c=t._navigator&&t._navigator.vendor.indexOf("Apple")>=0;if(!s.bufferSource)return a;if(t._scratchBuffer&&s.bufferSource&&(s.bufferSource.onended=null,s.bufferSource.disconnect(0),c))try{s.bufferSource.buffer=t._scratchBuffer}catch{}return s.bufferSource=null,a},_clearSound:function(s){var a=/MSIE |Trident\//.test(t._navigator&&t._navigator.userAgent);a||(s.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var o=function(s){this._parent=s,this.init()};o.prototype={init:function(){var s=this,a=s._parent;return s._muted=a._muted,s._loop=a._loop,s._volume=a._volume,s._rate=a._rate,s._seek=0,s._paused=!0,s._ended=!0,s._sprite="__default",s._id=++t._counter,a._sounds.push(s),s.create(),s},create:function(){var s=this,a=s._parent,c=t._muted||s._muted||s._parent._muted?0:s._volume;return a._webAudio?(s._node=typeof t.ctx.createGain>"u"?t.ctx.createGainNode():t.ctx.createGain(),s._node.gain.setValueAtTime(c,t.ctx.currentTime),s._node.paused=!0,s._node.connect(t.masterGain)):t.noAudio||(s._node=t._obtainHtml5Audio(),s._errorFn=s._errorListener.bind(s),s._node.addEventListener("error",s._errorFn,!1),s._loadFn=s._loadListener.bind(s),s._node.addEventListener(t._canPlayEvent,s._loadFn,!1),s._endFn=s._endListener.bind(s),s._node.addEventListener("ended",s._endFn,!1),s._node.src=a._src,s._node.preload=a._preload===!0?"auto":a._preload,s._node.volume=c*t.volume(),s._node.load()),s},reset:function(){var s=this,a=s._parent;return s._muted=a._muted,s._loop=a._loop,s._volume=a._volume,s._rate=a._rate,s._seek=0,s._rateSeek=0,s._paused=!0,s._ended=!0,s._sprite="__default",s._id=++t._counter,s},_errorListener:function(){var s=this;s._parent._emit("loaderror",s._id,s._node.error?s._node.error.code:0),s._node.removeEventListener("error",s._errorFn,!1)},_loadListener:function(){var s=this,a=s._parent;a._duration=Math.ceil(s._node.duration*10)/10,Object.keys(a._sprite).length===0&&(a._sprite={__default:[0,a._duration*1e3]}),a._state!=="loaded"&&(a._state="loaded",a._emit("load"),a._loadQueue()),s._node.removeEventListener(t._canPlayEvent,s._loadFn,!1)},_endListener:function(){var s=this,a=s._parent;a._duration===1/0&&(a._duration=Math.ceil(s._node.duration*10)/10,a._sprite.__default[1]===1/0&&(a._sprite.__default[1]=a._duration*1e3),a._ended(s)),s._node.removeEventListener("ended",s._endFn,!1)}};var i={},l=function(s){var a=s._src;if(i[a]){s._duration=i[a].duration,h(s);return}if(/^data:[^;]+;base64,/.test(a)){for(var c=atob(a.split(",")[1]),m=new Uint8Array(c.length),_=0;_<c.length;++_)m[_]=c.charCodeAt(_);d(m.buffer,s)}else{var v=new XMLHttpRequest;v.open(s._xhr.method,a,!0),v.withCredentials=s._xhr.withCredentials,v.responseType="arraybuffer",s._xhr.headers&&Object.keys(s._xhr.headers).forEach(function(y){v.setRequestHeader(y,s._xhr.headers[y])}),v.onload=function(){var y=(v.status+"")[0];if(y!=="0"&&y!=="2"&&y!=="3"){s._emit("loaderror",null,"Failed loading audio file with status: "+v.status+".");return}d(v.response,s)},v.onerror=function(){s._webAudio&&(s._html5=!0,s._webAudio=!1,s._sounds=[],delete i[a],s.load())},u(v)}},u=function(s){try{s.send()}catch{s.onerror()}},d=function(s,a){var c=function(){a._emit("loaderror",null,"Decoding audio data failed.")},m=function(_){_&&a._sounds.length>0?(i[a._src]=_,h(a,_)):c()};typeof Promise<"u"&&t.ctx.decodeAudioData.length===1?t.ctx.decodeAudioData(s).then(m).catch(c):t.ctx.decodeAudioData(s,m,c)},h=function(s,a){a&&!s._duration&&(s._duration=a.duration),Object.keys(s._sprite).length===0&&(s._sprite={__default:[0,s._duration*1e3]}),s._state!=="loaded"&&(s._state="loaded",s._emit("load"),s._loadQueue())},p=function(){if(t.usingWebAudio){try{typeof AudioContext<"u"?t.ctx=new AudioContext:typeof webkitAudioContext<"u"?t.ctx=new webkitAudioContext:t.usingWebAudio=!1}catch{t.usingWebAudio=!1}t.ctx||(t.usingWebAudio=!1);var s=/iP(hone|od|ad)/.test(t._navigator&&t._navigator.platform),a=t._navigator&&t._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),c=a?parseInt(a[1],10):null;if(s&&c&&c<9){var m=/safari/.test(t._navigator&&t._navigator.userAgent.toLowerCase());t._navigator&&!m&&(t.usingWebAudio=!1)}t.usingWebAudio&&(t.masterGain=typeof t.ctx.createGain>"u"?t.ctx.createGainNode():t.ctx.createGain(),t.masterGain.gain.setValueAtTime(t._muted?0:t._volume,t.ctx.currentTime),t.masterGain.connect(t.ctx.destination)),t._setup()}};n.Howler=t,n.Howl=r,typeof cn<"u"?(cn.HowlerGlobal=e,cn.Howler=t,cn.Howl=r,cn.Sound=o):typeof window<"u"&&(window.HowlerGlobal=e,window.Howler=t,window.Howl=r,window.Sound=o)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){var r=this;if(!r.ctx||!r.ctx.listener)return r;for(var o=r._howls.length-1;o>=0;o--)r._howls[o].stereo(t);return r},HowlerGlobal.prototype.pos=function(t,r,o){var i=this;if(!i.ctx||!i.ctx.listener)return i;if(r=typeof r!="number"?i._pos[1]:r,o=typeof o!="number"?i._pos[2]:o,typeof t=="number")i._pos=[t,r,o],typeof i.ctx.listener.positionX<"u"?(i.ctx.listener.positionX.setTargetAtTime(i._pos[0],Howler.ctx.currentTime,.1),i.ctx.listener.positionY.setTargetAtTime(i._pos[1],Howler.ctx.currentTime,.1),i.ctx.listener.positionZ.setTargetAtTime(i._pos[2],Howler.ctx.currentTime,.1)):i.ctx.listener.setPosition(i._pos[0],i._pos[1],i._pos[2]);else return i._pos;return i},HowlerGlobal.prototype.orientation=function(t,r,o,i,l,u){var d=this;if(!d.ctx||!d.ctx.listener)return d;var h=d._orientation;if(r=typeof r!="number"?h[1]:r,o=typeof o!="number"?h[2]:o,i=typeof i!="number"?h[3]:i,l=typeof l!="number"?h[4]:l,u=typeof u!="number"?h[5]:u,typeof t=="number")d._orientation=[t,r,o,i,l,u],typeof d.ctx.listener.forwardX<"u"?(d.ctx.listener.forwardX.setTargetAtTime(t,Howler.ctx.currentTime,.1),d.ctx.listener.forwardY.setTargetAtTime(r,Howler.ctx.currentTime,.1),d.ctx.listener.forwardZ.setTargetAtTime(o,Howler.ctx.currentTime,.1),d.ctx.listener.upX.setTargetAtTime(i,Howler.ctx.currentTime,.1),d.ctx.listener.upY.setTargetAtTime(l,Howler.ctx.currentTime,.1),d.ctx.listener.upZ.setTargetAtTime(u,Howler.ctx.currentTime,.1)):d.ctx.listener.setOrientation(t,r,o,i,l,u);else return h;return d},Howl.prototype.init=function(t){return function(r){var o=this;return o._orientation=r.orientation||[1,0,0],o._stereo=r.stereo||null,o._pos=r.pos||null,o._pannerAttr={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:360,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:360,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:0,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:"inverse",maxDistance:typeof r.maxDistance<"u"?r.maxDistance:1e4,panningModel:typeof r.panningModel<"u"?r.panningModel:"HRTF",refDistance:typeof r.refDistance<"u"?r.refDistance:1,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:1},o._onstereo=r.onstereo?[{fn:r.onstereo}]:[],o._onpos=r.onpos?[{fn:r.onpos}]:[],o._onorientation=r.onorientation?[{fn:r.onorientation}]:[],t.call(this,r)}}(Howl.prototype.init),Howl.prototype.stereo=function(t,r){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"stereo",action:function(){o.stereo(t,r)}}),o;var i=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof r>"u")if(typeof t=="number")o._stereo=t,o._pos=[t,0,0];else return o._stereo;for(var l=o._getSoundIds(r),u=0;u<l.length;u++){var d=o._soundById(l[u]);if(d)if(typeof t=="number")d._stereo=t,d._pos=[t,0,0],d._node&&(d._pannerAttr.panningModel="equalpower",(!d._panner||!d._panner.pan)&&e(d,i),i==="spatial"?typeof d._panner.positionX<"u"?(d._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),d._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),d._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):d._panner.setPosition(t,0,0):d._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),o._emit("stereo",d._id);else return d._stereo}return o},Howl.prototype.pos=function(t,r,o,i){var l=this;if(!l._webAudio)return l;if(l._state!=="loaded")return l._queue.push({event:"pos",action:function(){l.pos(t,r,o,i)}}),l;if(r=typeof r!="number"?0:r,o=typeof o!="number"?-.5:o,typeof i>"u")if(typeof t=="number")l._pos=[t,r,o];else return l._pos;for(var u=l._getSoundIds(i),d=0;d<u.length;d++){var h=l._soundById(u[d]);if(h)if(typeof t=="number")h._pos=[t,r,o],h._node&&((!h._panner||h._panner.pan)&&e(h,"spatial"),typeof h._panner.positionX<"u"?(h._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),h._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime),h._panner.positionZ.setValueAtTime(o,Howler.ctx.currentTime)):h._panner.setPosition(t,r,o)),l._emit("pos",h._id);else return h._pos}return l},Howl.prototype.orientation=function(t,r,o,i){var l=this;if(!l._webAudio)return l;if(l._state!=="loaded")return l._queue.push({event:"orientation",action:function(){l.orientation(t,r,o,i)}}),l;if(r=typeof r!="number"?l._orientation[1]:r,o=typeof o!="number"?l._orientation[2]:o,typeof i>"u")if(typeof t=="number")l._orientation=[t,r,o];else return l._orientation;for(var u=l._getSoundIds(i),d=0;d<u.length;d++){var h=l._soundById(u[d]);if(h)if(typeof t=="number")h._orientation=[t,r,o],h._node&&(h._panner||(h._pos||(h._pos=l._pos||[0,0,-.5]),e(h,"spatial")),typeof h._panner.orientationX<"u"?(h._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),h._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime),h._panner.orientationZ.setValueAtTime(o,Howler.ctx.currentTime)):h._panner.setOrientation(t,r,o)),l._emit("orientation",h._id);else return h._orientation}return l},Howl.prototype.pannerAttr=function(){var t=this,r=arguments,o,i,l;if(!t._webAudio)return t;if(r.length===0)return t._pannerAttr;if(r.length===1)if(typeof r[0]=="object")o=r[0],typeof i>"u"&&(o.pannerAttr||(o.pannerAttr={coneInnerAngle:o.coneInnerAngle,coneOuterAngle:o.coneOuterAngle,coneOuterGain:o.coneOuterGain,distanceModel:o.distanceModel,maxDistance:o.maxDistance,refDistance:o.refDistance,rolloffFactor:o.rolloffFactor,panningModel:o.panningModel}),t._pannerAttr={coneInnerAngle:typeof o.pannerAttr.coneInnerAngle<"u"?o.pannerAttr.coneInnerAngle:t._coneInnerAngle,coneOuterAngle:typeof o.pannerAttr.coneOuterAngle<"u"?o.pannerAttr.coneOuterAngle:t._coneOuterAngle,coneOuterGain:typeof o.pannerAttr.coneOuterGain<"u"?o.pannerAttr.coneOuterGain:t._coneOuterGain,distanceModel:typeof o.pannerAttr.distanceModel<"u"?o.pannerAttr.distanceModel:t._distanceModel,maxDistance:typeof o.pannerAttr.maxDistance<"u"?o.pannerAttr.maxDistance:t._maxDistance,refDistance:typeof o.pannerAttr.refDistance<"u"?o.pannerAttr.refDistance:t._refDistance,rolloffFactor:typeof o.pannerAttr.rolloffFactor<"u"?o.pannerAttr.rolloffFactor:t._rolloffFactor,panningModel:typeof o.pannerAttr.panningModel<"u"?o.pannerAttr.panningModel:t._panningModel});else return l=t._soundById(parseInt(r[0],10)),l?l._pannerAttr:t._pannerAttr;else r.length===2&&(o=r[0],i=parseInt(r[1],10));for(var u=t._getSoundIds(i),d=0;d<u.length;d++)if(l=t._soundById(u[d]),l){var h=l._pannerAttr;h={coneInnerAngle:typeof o.coneInnerAngle<"u"?o.coneInnerAngle:h.coneInnerAngle,coneOuterAngle:typeof o.coneOuterAngle<"u"?o.coneOuterAngle:h.coneOuterAngle,coneOuterGain:typeof o.coneOuterGain<"u"?o.coneOuterGain:h.coneOuterGain,distanceModel:typeof o.distanceModel<"u"?o.distanceModel:h.distanceModel,maxDistance:typeof o.maxDistance<"u"?o.maxDistance:h.maxDistance,refDistance:typeof o.refDistance<"u"?o.refDistance:h.refDistance,rolloffFactor:typeof o.rolloffFactor<"u"?o.rolloffFactor:h.rolloffFactor,panningModel:typeof o.panningModel<"u"?o.panningModel:h.panningModel};var p=l._panner;p||(l._pos||(l._pos=t._pos||[0,0,-.5]),e(l,"spatial"),p=l._panner),p.coneInnerAngle=h.coneInnerAngle,p.coneOuterAngle=h.coneOuterAngle,p.coneOuterGain=h.coneOuterGain,p.distanceModel=h.distanceModel,p.maxDistance=h.maxDistance,p.refDistance=h.refDistance,p.rolloffFactor=h.rolloffFactor,p.panningModel=h.panningModel}return t},Sound.prototype.init=function(t){return function(){var r=this,o=r._parent;r._orientation=o._orientation,r._stereo=o._stereo,r._pos=o._pos,r._pannerAttr=o._pannerAttr,t.call(this),r._stereo?o.stereo(r._stereo):r._pos&&o.pos(r._pos[0],r._pos[1],r._pos[2],r._id)}}(Sound.prototype.init),Sound.prototype.reset=function(t){return function(){var r=this,o=r._parent;return r._orientation=o._orientation,r._stereo=o._stereo,r._pos=o._pos,r._pannerAttr=o._pannerAttr,r._stereo?o.stereo(r._stereo):r._pos?o.pos(r._pos[0],r._pos[1],r._pos[2],r._id):r._panner&&(r._panner.disconnect(0),r._panner=void 0,o._refreshBuffer(r)),t.call(this)}}(Sound.prototype.reset);var e=function(t,r){r=r||"spatial",r==="spatial"?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.panningModel=t._pannerAttr.panningModel,typeof t._panner.positionX<"u"?(t._panner.positionX.setValueAtTime(t._pos[0],Howler.ctx.currentTime),t._panner.positionY.setValueAtTime(t._pos[1],Howler.ctx.currentTime),t._panner.positionZ.setValueAtTime(t._pos[2],Howler.ctx.currentTime)):t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),typeof t._panner.orientationX<"u"?(t._panner.orientationX.setValueAtTime(t._orientation[0],Howler.ctx.currentTime),t._panner.orientationY.setValueAtTime(t._orientation[1],Howler.ctx.currentTime),t._panner.orientationZ.setValueAtTime(t._orientation[2],Howler.ctx.currentTime)):t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.setValueAtTime(t._stereo,Howler.ctx.currentTime)),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id,!0)}})()}(lo)),lo}var It=bp();function uo(n){let e=ne({});const t=new It.Howl({src:n.loadedAudio.src,sprite:n.loadedAudio.sprite,loop:n.loop}),r=p=>({soundName:p,soundId:0,soundState:"new",soundConfig:n.loadedAudio.config[p]??{volume:1}}),{play:o}=n.createPlay({howl:t,newSound:r,getSoundMap:()=>e});return{play:o,stop:p=>{const s=e[p.name];s&&(t.stop(s.soundId),delete e[s.soundName])},fade:async p=>{const s=e[p.name];s&&(t.fade(p.from,p.to,p.duration,s.soundId),await ut(p.duration))},volume:p=>{Object.values(e).forEach(s=>{t.volume(p*s.soundConfig.volume,s.soundId)})},rate:p=>{const s=e[p.name];s&&t.rate(p.rate,s.soundId)},howl:t,debug:()=>{console.log(Lr(e))}}}function wp(n){const e=()=>{Object.values(n.getSoundMap()).forEach(l=>{n.howl.pause(l.soundId),n.getSoundMap()[l.soundName]={...l,soundState:"paused"}})},t=l=>{e();const u=n.howl.play(l.soundName);n.getSoundMap()[l.soundName]={...l,soundId:u,soundState:"playing"}},r=l=>{e(),n.howl.play(l.soundId),n.getSoundMap()[l.soundName]={...l,soundState:"playing"}},o={new:l=>t(l),paused:l=>r(l),playing:l=>{}};return{play:l=>{const d=n.getSoundMap()[l.name]??n.newSound(l.name);o[d.soundState](d)}}}function Sp(n){const e=o=>{const i=n.howl.play(o.soundName);n.getSoundMap()[o.soundName]={...o,soundId:i,soundState:"playing"}},t={new:o=>e(o),paused:o=>e(o),playing:o=>{}};return{play:o=>{const l=n.getSoundMap()[o.name]??n.newSound(o.name);t[l.soundState](l)}}}function xp(n){const e=o=>{const i=n.howl.play(o.soundName);n.getSoundMap()[o.soundName]={...o,soundId:i,soundState:"playing"},n.howl.on("end",l=>{l===i&&(n.howl.stop(i),delete n.getSoundMap()[o.soundName])})},t={new:o=>e(o),paused:o=>e(o),playing:(o,i)=>{i.forcePlay&&e(o)}};return{play:o=>{const l=n.getSoundMap()[o.name]??n.newSound(o.name);t[l.soundState](l,{forcePlay:o.forcePlay})}}}function Ap(){let n,e=Z("running"),t=Z("visible"),r;const o=a=>{n=a,r={music:uo({loadedAudio:n,loop:!0,createPlay:wp}),loop:uo({loadedAudio:n,loop:!0,createPlay:Sp}),once:uo({loadedAudio:n,loop:!1,createPlay:xp})};const c=()=>N(e,ne(It.Howler.ctx.state)),m=()=>N(t,ne(document.visibilityState));return It.Howler.ctx.addEventListener("statechange",c),document.addEventListener("visibilitychange",m),{destroy:()=>{It.Howler.ctx.removeEventListener("statechange",c),document.removeEventListener("visibilitychange",m),r&&(r.music.howl.unload(),r.loop.howl.unload(),r.once.howl.unload())}}},i=a=>{r&&(r.music.stop(a),r.loop.stop(a),r.once.stop(a))},l=async a=>{if(r){const c=()=>[r.music.fade(a),r.loop.fade(a),r.once.fade(a)];await Promise.all(c())}},u=a=>{r&&(r.music.rate(a),r.loop.rate(a),r.once.rate(a))},d=()=>{It.Howler.volume(0),It.Howler.mute(!0)},h=()=>{It.Howler.volume(1),It.Howler.mute(!1)};return{load:o,stop:i,fade:l,rate:u,volumeEffect:()=>{be(()=>{r&&(r.music.volume(Ur.volumeMusic()),r.loop.volume(Ur.volumeSoundEffect()),r.once.volume(Ur.volumeSoundEffect()))})},enableEffect:()=>{be(()=>{f(e)==="running"&&f(t)==="visible"?h():d()})},get players(){return r}}}const Re=Ap();function Tp(n,e){k(e,!0);const t=ce();Ee(()=>{const r=Lr(t.stateApp.loadedAssets.sound),{destroy:o}=Re.load(r);return()=>{o()}}),Re.enableEffect(),Re.volumeEffect(),M()}function Pp({bookEvent:n}){try{ru({eventIndex:n.index,rgsUrl:Ne.rgsUrl(),sessionID:Ne.sessionID(),gameID:Ne.gameID()})}catch(e){console.error(e)}}function Ci({bookEvents:n}){return n.filter(r=>r.type==="reveal").length>1}async function Ep(n,e){const t=[];for(const[r,o]of n.entries()){const i=await e(o,r,n);t.push(i)}return t}function Ip({bookEventHandlerMap:n,debug:e}){const t=async(o,i)=>{const l=n==null?void 0:n[o.type];l?await l(o,i):console.error('Missing bookEventHandler in "bookEventHandlerMap" for: ',o)};return{playBookEvent:t,playBookEvents:async(o,i)=>{const l=i||{};await Ep(o,async u=>{await t(u,{...l,bookEvents:o})})}}}const _n={clusterWinAmounts:null},co=({bookEventAmount:n})=>{var t,r;const e=Ht.getWinLevelDataByBookEventAmount(n);(e==null?void 0:e.alias)==="max"&&z.broadcastAsync({type:"uiHide"}),(t=e==null?void 0:e.sound)!=null&&t.sfx&&z.broadcast({type:"soundOnce",name:e.sound.sfx}),(r=e==null?void 0:e.sound)!=null&&r.bgm&&z.broadcast({type:"soundMusic",name:e.sound.bgm}),(e==null?void 0:e.type)==="big"&&z.broadcast({type:"soundLoop",name:"sfx_bigwin_coinloop"})},na=()=>{z.broadcast({type:"soundStop",name:"sfx_bigwin_coinloop"}),V.activeBetModeKey==="SUPERSPIN"||qe.gameType==="freeGame"?z.broadcast({type:"soundMusic",name:"bgm_freespin"}):z.broadcast({type:"soundMusic",name:"bgm_main"}),z.broadcastAsync({type:"uiShow"})},Lp={reveal:async(n,{bookEvents:e})=>{Ci({bookEvents:e})&&(z.broadcast({type:"stopButtonEnable"}),Pp({bookEvent:n})),qe.gameType=n.gameType,await Ht.enhancedBoard.spin({revealEvent:n}),z.broadcast({type:"soundScatterCounterClear"})},animateSymbols:async n=>{var t;const e=async()=>{z.broadcast({type:"boardShow"}),n.reason==="trigger_freeSpin"?z.broadcast({type:"soundOnce",name:"sfx_scatter_win_v2"}):z.broadcast({type:"soundOnce",name:"sfx_winlevel_small"}),await z.broadcastAsync({type:"boardWithAnimateSymbols",symbolPositions:n.symbolPositions})};await Promise.all([e(),(t=_n.clusterWinAmounts)==null?void 0:t.call(_n)]),_n.clusterWinAmounts=null},clusterWin:async n=>{const e=async()=>{await z.broadcastAsync({type:"showClusterWinAmounts",wins:n.winInfo})};_n.clusterWinAmounts=e},setTumbleWin:async n=>{n.amount>0&&(z.broadcast({type:"tumbleWinAmountShow"}),z.broadcast({type:"tumbleWinAmountUpdate",amount:n.amount,animate:!1}))},setTotalWin:async n=>{V.winBookEventAmount=n.amount},freeSpinTrigger:async n=>{z.broadcast({type:"soundOnce",name:"sfx_superfreespin"}),await z.broadcastAsync({type:"uiHide"}),await z.broadcastAsync({type:"transition"}),z.broadcast({type:"freeSpinIntroShow"}),z.broadcast({type:"soundOnce",name:"jng_intro_fs"}),z.broadcast({type:"soundMusic",name:"bgm_freespin"}),await z.broadcastAsync({type:"freeSpinIntroUpdate",totFS:n.totFS,extraSpins:n.extraSpins}),qe.gameType="freeGame",z.broadcast({type:"freeSpinIntroHide"}),z.broadcast({type:"boardFrameGlowShow"}),z.broadcast({type:"globalMultiplierShow"}),await z.broadcastAsync({type:"globalMultiplierUpdate",multiplier:1}),z.broadcast({type:"freeSpinCounterShow"}),se.freeSpinCounterShow=!0,z.broadcast({type:"freeSpinCounterUpdate",current:void 0,total:n.totFS}),se.freeSpinCounterTotal=n.totFS,await z.broadcastAsync({type:"uiShow"}),await z.broadcastAsync({type:"drawerButtonShow"}),z.broadcast({type:"drawerFold"})},updateFreeSpin:async n=>{z.broadcast({type:"freeSpinCounterShow"}),se.freeSpinCounterShow=!0,z.broadcast({type:"freeSpinCounterUpdate",current:n.amount,total:void 0}),se.freeSpinCounterCurrent=n.amount},updateGlobalMult:async n=>{z.broadcast({type:"globalMultiplierShow"}),n.globalMult===1&&(z.broadcast({type:"tumbleWinAmountHide"}),z.broadcast({type:"tumbleWinAmountReset"})),await z.broadcastAsync({type:"globalMultiplierUpdate",multiplier:n.globalMult})},freeSpinEnd:async n=>{await z.broadcastAsync({type:"uiHide"}),qe.gameType="baseGame",z.broadcast({type:"boardFrameGlowHide"}),z.broadcast({type:"globalMultiplierHide"}),z.broadcast({type:"freeSpinOutroShow"}),z.broadcast({type:"soundOnce",name:"sfx_youwon_panel"}),co({bookEventAmount:n.amount}),await z.broadcastAsync({type:"freeSpinOutroCountUp",amount:n.amount}),na(),z.broadcast({type:"freeSpinOutroHide"}),z.broadcast({type:"freeSpinCounterHide"}),se.freeSpinCounterShow=!1,await z.broadcastAsync({type:"transition"}),await z.broadcastAsync({type:"uiShow"}),await z.broadcastAsync({type:"drawerUnfold"}),z.broadcast({type:"drawerButtonHide"})},multiplierSplashScreen:async n=>{z.broadcast({type:"tumbleWinAmountShow"}),await z.broadcastAsync({type:"tumbleWinAmountUpdate",amount:n.actingOn,animate:!1}),z.broadcast({type:"multiplierBoardShow"}),z.broadcast({type:"multiplierBoardInit"}),z.broadcast({type:"soundOnce",name:"tumble_win_4"}),await z.broadcastAsync({type:"multiplierBoardAnimate"}),z.broadcast({type:"boardWithMovingMultiplierTexts"}),await z.broadcastAsync({type:"multiplierBoardMove"}),z.broadcast({type:"multiplierBoardReset"}),z.broadcast({type:"multiplierBoardHide"}),z.broadcast({type:"multiplierTotalShow"}),z.broadcast({type:"multiplierTotalUpdate",totalMultiplier:n.multiplier}),z.broadcast({type:"soundOnce",name:"sfx_multiplier_win"}),await z.broadcastAsync({type:"multiplierTotalAnimate"}),z.broadcast({type:"soundOnce",name:"sfx_multiplier_explosion_a"}),z.broadcast({type:"multiplierTotalHide"}),await z.broadcastAsync({type:"tumbleWinAmountUpdate",amount:n.result,animate:!0})},tumbleBoard:async n=>{z.broadcast({type:"boardHide"}),z.broadcast({type:"tumbleBoardShow"}),z.broadcast({type:"tumbleBoardInit",addingBoard:n.newSymbols}),z.broadcast({type:"soundOnce",name:"sfx_multiplier_explosion_b"}),await z.broadcastAsync({type:"tumbleBoardExplode",explodingPositions:n.explodingSymbols}),z.broadcast({type:"tumbleBoardRemoveExploded"}),await z.broadcastAsync({type:"tumbleBoardSlideDown"}),z.broadcast({type:"boardSettle",board:Ht.tumbleBoardCombined().map(e=>e.map(t=>t.rawSymbol))}),z.broadcast({type:"tumbleBoardReset"}),z.broadcast({type:"tumbleBoardHide"}),z.broadcast({type:"boardShow"})},cumulativeTumble:async n=>{z.broadcast({type:"winShow"}),co({bookEventAmount:n.amount}),await z.broadcastAsync({type:"winUpdate",amount:n.amount}),z.broadcast({type:"soundStop",name:"sfx_bigwin_coinloop"}),z.broadcast({type:"winHide"})},winCap:async n=>{z.broadcast({type:"winShow"}),co({bookEventAmount:n.amount}),await z.broadcastAsync({type:"winUpdate",amount:n.amount}),na(),z.broadcast({type:"winHide"})},finalWin:async n=>{z.broadcast({type:"globalMultiplierHide"}),z.broadcast({type:"tumbleWinAmountHide"})},bigWinAnimation:async n=>{},setWin:async n=>{},createBonusSnapshot:async n=>{const{bookEvents:e}=n;function t(u){return Ut.findLast(e,d=>d.type===u)}const r=t("freeSpinTrigger"),o=t("updateFreeSpin"),i=t("setTotalWin"),l=t("updateGlobalMult");r&&await or(r,{bookEvents:e}),o&&or(o,{bookEvents:e}),i&&or(i,{bookEvents:e}),l&&or(l,{bookEvents:e})}},{playBookEvent:or,playBookEvents:kp}=Ip({bookEventHandlerMap:Lp,debug:!1}),Mp=async n=>{V.winBookEventAmount=0,await kp(n.state),z.broadcast({type:"stopButtonEnable"})},Bp=["updateGlobalMult","freeSpinTrigger","updateFreeSpin","setTotalWin"],$p=n=>{const e=Number(n.event),t=n.state.filter((l,u)=>u<e),r=n.state.filter((l,u)=>u>=e),i=[{index:0,type:"createBonusSnapshot",bookEvents:t.filter(l=>Bp.includes(l.type))},...r];return{...n,state:i}},rs=n=>ie*(n+Li),ir=n=>(n+.5)*ie,Ri=({rawSymbol:n})=>n.subtype!==void 0?`${n.name}_${n.subtype}`:n.name,Rr=({rawSymbol:n,state:e})=>{const t=Ri({rawSymbol:n});return up[t][e]},Ni=({rawSymbol:n,state:e})=>{if(n.name==="M"){const t=Ri({rawSymbol:n});return cp[t][e]}return null},Dp=Lh({onResumeGameActive:n=>$p(n),onResumeGameInactive:n=>{const e=Ut.findLast(n.state,t=>(t==null?void 0:t.type)==="reveal");e&&Ht.enhancedBoard.settle(e.board)},onNewGameStart:async()=>{V.isTurbo&&Ii.isAutoBetting()||V.isSpaceHold||(V.winBookEventAmount=0,await Ht.enhancedBoard.preSpin({}))},onNewGameError:()=>Ht.enhancedBoard.settle(),onPlayGame:async n=>await Mp(n),checkIsBonusGame:n=>Ci({bookEvents:n.state})}),Op=Wh(Dp),Et=Eh(Op);function Cp(n,e){k(e,!0);const t=ce();Ee(()=>{const{unsubscribe:l}=Et.subscribe(u=>{t.stateXstate.value=u.value});return Et.start(),Et.send({type:"RENDERED"}),()=>{l(),Et.stop()}}),t.eventEmitter.subscribeOnMount({bet:()=>Et.send({type:"BET"}),autoBet:()=>Et.send({type:"AUTO_BET"}),resumeBet:()=>Et.send({type:"RESUME_BET"}),forceResult:()=>Et.send({type:"FORCE_RESULT"})});var r=I(),o=w(r);{var i=l=>{const u=b(()=>JSON.stringify(t.stateXstate.value,void 0,2));ze(l,{get x(){return t.stateLayoutDerived.canvasSizes().width},anchor:{x:1,y:0},style:{fill:16777215},get text(){return f(u)}})};Q(o,l=>{e.debug&&l(i)})}g(n,r),M()}var vn=Fe(()=>V);function Rp(n,e){k(e,!1);const t=ce();Ee(()=>{var r;(r=vn().lastBet)!=null&&r.active&&vn().lastBet.mode&&vn(vn().activeBetModeKey=vn().lastBet.mode),t.eventEmitter.broadcast({type:"resumeBet"})}),Ie(),M()}function Np(n,e){k(e,!1);const t=ce();t.eventEmitter.subscribeOnMount({soundBetMode:async({betModeKey:r})=>{r==="SUPERSPIN"?(Re.players.once.play({name:"sfx_winlevel_end"}),await ut(Oe),Re.players.music.play({name:"bgm_freespin"})):Re.players.music.play({name:"bgm_main"})},soundPressGeneral:()=>Re.players.once.play({name:"sfx_btn_general"}),soundPressBet:()=>Re.players.once.play({name:"sfx_btn_spin"}),soundScatterCounterIncrease:()=>t.stateGame.scatterCounter=t.stateGame.scatterCounter+1,soundScatterCounterClear:()=>t.stateGame.scatterCounter=0,soundMusic:({name:r})=>Re.players.music.play({name:r}),soundLoop:({name:r})=>Re.players.loop.play({name:r}),soundOnce:({name:r,forcePlay:o})=>Re.players.once.play({name:r,forcePlay:o}),soundStop:({name:r})=>Re.stop({name:r}),soundFade:async({name:r,duration:o,from:i,to:l})=>await Re.fade({name:r,duration:o,from:i,to:l})}),Ee(()=>{V.activeBetModeKey==="SUPERSPIN"?Re.players.music.play({name:"bgm_freespin"}):Re.players.music.play({name:"bgm_main"})}),Ie(),M()}var Gp=L("<!> <!>",1),Fp=L("<!> <!>",1),Wp=L("<!> <!> <!>",1);function zp(n,e){k(e,!0);const t=ce(),r=b(()=>t.stateLayoutDerived.normalBackgroundLayout({scale:.5})),o=b(()=>t.stateGame.gameType==="baseGame"||t.stateGame.gameType==="superSpinGame"),i=b(()=>t.stateGame.gameType==="freeGame");var l=Wp(),u=w(l),d=b(()=>t.stateLayoutDerived.canvasSizes());Ve(u,q(()=>f(d),{backgroundColor:0,zIndex:-3}));var h=x(u,2);He(h,{get show(){return f(o)},duration:Oe,zIndex:-2,children:(s,a)=>{var c=Gp(),m=w(c);ke(m,q({key:"foregroundAnimation"},()=>f(r),{children:(v,y)=>{Me(v,{trackIndex:0,animationName:"idle",loop:!0})},$$slots:{default:!0}}));var _=x(m,2);ke(_,q({key:"foregroundAnimation"},()=>f(r),{children:(v,y)=>{Me(v,{trackIndex:0,animationName:"dust",loop:!0})},$$slots:{default:!0}})),g(s,c)},$$slots:{default:!0}});var p=x(h,2);He(p,{get show(){return f(i)},duration:Oe,zIndex:-1,children:(s,a)=>{var c=Fp(),m=w(c);ke(m,q({key:"foregroundFeatureAnimation"},()=>f(r),{children:(v,y)=>{Me(v,{trackIndex:0,animationName:"idle",loop:!0})},$$slots:{default:!0}}));var _=x(m,2);ke(_,q({key:"foregroundFeatureAnimation"},()=>f(r),{children:(v,y)=>{Me(v,{trackIndex:0,animationName:"dust",loop:!0})},$$slots:{default:!0}})),g(s,c)},$$slots:{default:!0}}),g(n,l),M()}function Gi(n,e){k(e,!0);const t=ce(),r=b(()=>t.stateLayoutDerived.canvasSizes().width*.5),o=b(()=>t.stateLayoutDerived.canvasSizes().height*.5),i=b(()=>t.stateLayoutDerived.canvasSizes().height*1.7);ke(n,{key:"transition",get x(){return f(r)},get y(){return f(o)},get height(){return f(i)},children:(l,u)=>{const d=b(()=>({complete:e.oncomplete}));Me(l,{trackIndex:0,animationName:"animation",get listener(){return f(d)}})},$$slots:{default:!0}}),M()}var Hp=L("<!> <!> <!>",1);function Nr(n,e){k(e,!0);const t=ce();var r=Hp(),o=w(r);Pe(o,{alignVertical:"bottom",children:(u,d)=>{const h=b(()=>Ne.lang()),p=b(()=>t.stateLayoutDerived.mainLayout().width*.5);Ge(u,{get key(){return`pressToContinueText_${f(h)??""}.png`},width:800,height:134,anchor:{x:.5,y:1},get x(){return f(p)},get y(){return t.stateLayoutDerived.mainLayout().height}})},$$slots:{default:!0}});var i=x(o,2);Co(i,{hotkey:"Space",onpress:()=>e.onpress()});var l=x(i,2);Kh(l,{onpress:()=>e.onpress()}),g(n,r),M()}var Up=L("<!> <!>",1),jp=L("<!> <!> <!>",1);function Kp(n,e){k(e,!0);const t=ce();let r=Z("start");var o=jp(),i=w(o);const l=b(()=>f(r)==="start");He(i,{get show(){return f(l)},children:(s,a)=>{Pe(s,{children:(c,m)=>{const _=b(()=>t.stateLayoutDerived.mainLayout().width*.5),v=b(()=>t.stateLayoutDerived.mainLayout().height*.5);G(c,{get x(){return f(_)},get y(){return f(v)},children:(y,S)=>{var A=Up(),P=w(A);ke(P,{key:"loader",width:300,children:(D,j)=>{Me(D,{trackIndex:0,animationName:"title_screen",loop:!0,timeScale:3})},$$slots:{default:!0}});var T=x(P,2);{var C=D=>{mf(D,{y:250,width:393.40000000000003,height:69.2,background:(H,U=Te)=>{Ge(H,q({key:"progressBarBackground.png"},U))},progress:(H,U=Te)=>{Ge(H,q({key:"progressBar.png"},U))},frame:(H,U=Te)=>{Ge(H,q({key:"progressBarFrame.png"},U))},$$slots:{background:!0,progress:!0,frame:!0}})};Q(T,D=>{t.stateApp.loaded||D(C)})}g(y,A)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}});var u=x(i,2);const d=b(()=>f(r)==="start"&&t.stateApp.loaded);He(u,{get show(){return f(d)},children:(s,a)=>{Nr(s,{onpress:()=>N(r,"transition")})},$$slots:{default:!0}});var h=x(u,2);const p=b(()=>f(r)==="transition");He(h,{get show(){return f(p)},children:(s,a)=>{Gi(s,{get oncomplete(){return e.onloaded}})},$$slots:{default:!0}}),g(n,o),M()}var Vp=L("<!> <!> <!>",1);function Yp(n,e){k(e,!0);const t=ce(),r={width:.59,height:.62},o={width:1.07,height:1},i=937/806,l=1.01;let u=Z(void 0),d=Z(!1);t.eventEmitter.subscribeOnMount({boardFrameGlowShow:()=>{N(u,"reelhouse_glow_start"),N(d,!1)},boardFrameGlowHide:()=>{f(u)&&N(u,"reelhouse_glow_exit")}});var h=Vp(),p=w(h);{var s=C=>{const D=b(()=>t.stateGameDerived.boardLayout().x*l),j=b(()=>t.stateGameDerived.boardLayout().y*l),F=b(()=>t.stateGameDerived.boardLayout().width*r.width),X=b(()=>t.stateGameDerived.boardLayout().height*r.height);ke(C,{zIndex:-1,key:"reelhouse",get x(){return f(D)},get y(){return f(j)},get width(){return f(F)},get height(){return f(X)},children:(H,U)=>{Me(H,{trackIndex:0,get animationName(){return f(u)},get loop(){return f(d)},listener:{complete:R=>{R.animation&&(R.animation.name==="reelhouse_glow_start"&&(N(u,"reelhouse_glow_idle"),N(d,!0)),R.animation.name==="reelhouse_glow_exit"&&(N(u,void 0),N(d,!1)))}}})},$$slots:{default:!0}})};Q(p,C=>{f(u)&&C(s)})}var a=x(p,2);const c=b(()=>t.stateGameDerived.boardLayout().x*l),m=b(()=>t.stateGameDerived.boardLayout().y*l),_=b(()=>t.stateGameDerived.boardLayout().width*i*o.width),v=b(()=>t.stateGameDerived.boardLayout().width*o.height);Ge(a,{key:"frame_bg.png",anchor:.5,get x(){return f(c)},get y(){return f(m)},get width(){return f(_)},get height(){return f(v)}});var y=x(a,2);const S=b(()=>t.stateGameDerived.boardLayout().x*l),A=b(()=>t.stateGameDerived.boardLayout().y*l),P=b(()=>t.stateGameDerived.boardLayout().width*i*o.width),T=b(()=>t.stateGameDerived.boardLayout().width*o.height);Ge(y,{key:"frame_edge.png",anchor:.5,get x(){return f(S)},get y(){return f(A)},get width(){return f(P)},get height(){return f(T)}}),g(n,h),M()}function wt(n,e){k(e,!0);const t=ce();G(n,{get x(){return t.stateGameDerived.boardLayout().x},get y(){return t.stateGameDerived.boardLayout().y},get pivot(){return t.stateGameDerived.boardLayout().pivot},children:(r,o)=>{var i=I(),l=w(i);$(l,()=>e.children),g(r,i)},$$slots:{default:!0}}),M()}var Xp=L("<!> <!>",1);function Fi(n,e){k(e,!0);const t=ce();var r=Xp(),o=w(r);{var i=d=>{Ve(d,{alpha:.5,backgroundColor:16777215,get width(){return t.stateGameDerived.boardLayout().width},get height(){return t.stateGameDerived.boardLayout().height}})};Q(o,d=>{e.debug&&d(i)})}var l=x(o,2);const u=b(()=>t.stateGameDerived.boardLayout().width+ie*2);Ve(l,{isMask:!0,x:-100,get width(){return f(u)},get height(){return t.stateGameDerived.boardLayout().height}}),g(n,r),M()}function Wi(n,e){k(e,!0);const t=b(()=>ie*e.symbolInfo.sizeRatios.height);ke(n,{get x(){return e.x},get y(){return e.y},get key(){return e.symbolInfo.assetKey},get height(){return f(t)},children:(r,o)=>{const i=b(()=>fe.timeScale());Me(r,{get loop(){return e.loop},trackIndex:0,get animationName(){return e.symbolInfo.animationName},get timeScale(){return f(i)},get listener(){return e.listener}})},$$slots:{default:!0}}),M()}function zi(n,e){k(e,!0);var t=I(),r=w(t);{var o=i=>{const l=b(()=>ie*e.symbolBackgroundInfo.sizeRatios.height);ke(i,{get x(){return e.x},get y(){return e.y},get key(){return e.symbolBackgroundInfo.assetKey},get height(){return f(l)},children:(u,d)=>{const h=b(()=>fe.timeScale());Me(u,{get loop(){return e.loop},trackIndex:0,get animationName(){return e.symbolBackgroundInfo.animationName},get timeScale(){return f(h)}})},$$slots:{default:!0}})};Q(r,i=>{e.symbolBackgroundInfo&&i(o)})}g(n,t),M()}var qp=L("<!> <!> <!>",1);function Jp(n,e){k(e,!0);var t=qp(),r=w(t);zi(r,{get x(){return e.x},get y(){return e.y},get symbolBackgroundInfo(){return e.symbolBackgroundInfo},get loop(){return e.loop}});var o=x(r,2);Wi(o,{get x(){return e.x},get y(){return e.y},get symbolInfo(){return e.symbolInfo},get listener(){return e.listener},get loop(){return e.loop}});var i=x(o,2);{var l=u=>{ke(u,{get x(){return e.x},get y(){return e.y},key:"anticipation",width:ie*.19,children:(d,h)=>{Me(d,{trackIndex:0,animationName:"payframe",loop:!0})},$$slots:{default:!0}})};Q(i,u=>{e.showWinFrame&&u(l)})}g(n,t),M()}function Zp(n,e){k(e,!0),Ee(()=>{var o;(o=e.oncomplete)==null||o.call(e)}),be(()=>{var o;e.symbolInfo,(o=e.oncomplete)==null||o.call(e)});const t=b(()=>ie*e.symbolInfo.sizeRatios.width),r=b(()=>ie*e.symbolInfo.sizeRatios.height);Ge(n,{get x(){return e.x},get y(){return e.y},anchor:.5,get key(){return e.symbolInfo.assetKey},get width(){return f(t)},get height(){return f(r)}}),M()}function Hi(n,e){k(e,!0);const t=ce(),r=b(()=>Rr({rawSymbol:e.rawSymbol,state:e.state})),o=b(()=>f(r).type==="sprite");var i=I(),l=w(i);{var u=h=>{Zp(h,{get symbolInfo(){return f(r)},get x(){return e.x},get y(){return e.y},get oncomplete(){return e.oncomplete}})},d=h=>{const p=b(()=>Ni({rawSymbol:e.rawSymbol,state:e.state})),s=b(()=>e.state==="win"&&!["S","M"].includes(e.rawSymbol.name)),a=b(()=>({complete:e.oncomplete,event:(c,m)=>{var _,v;((_=m.data)==null?void 0:_.name)==="wildExplode"&&((v=t.eventEmitter)==null||v.broadcast({type:"soundOnce",name:"sfx_wild_explode"}))}}));Jp(h,{get loop(){return e.loop},get symbolInfo(){return f(r)},get symbolBackgroundInfo(){return f(p)},get x(){return e.x},get y(){return e.y},get showWinFrame(){return f(s)},get listener(){return f(a)}})};Q(l,h=>{f(o)?h(u):h(d,!1)})}g(n,i),M()}function Ui(n,e){k(e,!0);const t=_u(),r=b(()=>t.animate&&e.animating||!t.animate&&!e.animating),o=0,i=ie*Sr.y,l=b(()=>e.y>=o&&e.y<=i);var u=I(),d=w(u);{var h=p=>{G(p,{get x(){return e.x},get y(){return e.y},children:(s,a)=>{var c=I(),m=w(c);$(m,()=>e.children),g(s,c)},$$slots:{default:!0}})};Q(d,p=>{f(r)&&f(l)&&p(h)})}g(n,u),M()}function Qp(n,e){k(e,!0);const t=b(()=>Rr({rawSymbol:e.reelSymbol.rawSymbol,state:e.reelSymbol.symbolState})),r=b(()=>rs(e.reelIndex)),o=b(()=>f(t).type==="spine"&&(e.reelSymbol.symbolState==="land"||e.reelSymbol.symbolState==="win"));Ui(n,{get x(){return f(r)},get y(){return e.reelSymbol.symbolY.current},get animating(){return f(o)},children:(i,l)=>{Hi(i,{get state(){return e.reelSymbol.symbolState},get rawSymbol(){return e.reelSymbol.rawSymbol},oncomplete:()=>{e.reelSymbol.symbolState==="win"&&e.reelSymbol.oncomplete(),e.reelSymbol.symbolState==="land"&&(e.reelSymbol.symbolState="static")}})},$$slots:{default:!0}}),M()}function ra(n,e){k(e,!1);const t=ce();Ie();var r=I(),o=w(r);ct(o,1,()=>t.stateGame.board,gt,(i,l,u)=>{var d=I(),h=w(d);ct(h,1,()=>f(l).reelState.symbols,gt,(p,s)=>{Qp(p,{reelIndex:u,get reelSymbol(){return f(s)}})}),g(i,d)}),g(n,r),M()}var e_=L("<!> <!>",1),t_=L("<!> <!>",1);function n_(n,e){k(e,!0);const t=ce();let r=Z(!0);t.eventEmitter.subscribeOnMount({stopButtonClick:()=>t.stateGameDerived.enhancedBoard.stop(),boardSettle:({board:u})=>t.stateGameDerived.enhancedBoard.settle(u),boardShow:()=>N(r,!0),boardHide:()=>N(r,!1),boardWithAnimateSymbols:async({symbolPositions:u})=>{const d=()=>u.map(async h=>{const p=t.stateGame.board[h.reel].reelState.symbols[h.row];p.symbolState="win",await Be(s=>p.oncomplete=s),p.symbolState="postWinStatic"});await Promise.all(d())},boardWithMovingMultiplierTexts:()=>{t.stateGame.board.forEach(u=>{u.reelState.symbols.forEach(d=>{d.rawSymbol.name==="M"&&(d.rawSymbol={...d.rawSymbol,name:"M_TAKEN"})})})}}),t.stateGameDerived.enhancedBoard.readyToSpinEffect();var o=I(),i=w(o);{var l=u=>{var d=t_(),h=w(d);cr(h,{animate:!1,children:(s,a)=>{wt(s,{children:(c,m)=>{var _=e_(),v=w(_);Fi(v,{});var y=x(v,2);ra(y,{}),g(c,_)},$$slots:{default:!0}})},$$slots:{default:!0}});var p=x(h,2);cr(p,{animate:!0,children:(s,a)=>{wt(s,{children:(c,m)=>{ra(c,{})},$$slots:{default:!0}})},$$slots:{default:!0}}),g(u,d)};Q(i,u=>{f(r)&&u(l)})}g(n,o),M()}function r_(n,e){k(e,!0);const t=ce();let r=Z("anticipation_intro");be(()=>{e.reel.reelState.motion==="stopped"&&N(r,"anticipation_out")});const o=b(()=>t.stateGameDerived.boardLayout().x-t.stateGameDerived.boardLayout().width*.5+(e.reel.reelIndex+Li)*ie),i=b(()=>t.stateGameDerived.boardLayout().y-ie*.06);ke(n,{key:"anticipation",width:ie*.56,get x(){return f(o)},get y(){return f(i)},children:(l,u)=>{const d=b(()=>f(r)==="anticipation_loop"),h=b(()=>fe.timeScale());Me(l,{trackIndex:0,get animationName(){return f(r)},get loop(){return f(d)},get timeScale(){return f(h)},listener:{complete:()=>{f(r)==="anticipation_intro"&&N(r,"anticipation_loop"),f(r)==="anticipation_out"&&e.oncomplete()}}})},$$slots:{default:!0}}),M()}var o_=L("<!> <!>",1);function s_(n,e){k(e,!0);const t=ce(),r=b(()=>t.stateGame.board.some(d=>d.reelState.anticipating));var o=o_(),i=w(o);{var l=d=>{No(d,{onmount:()=>(t.eventEmitter.broadcast({type:"soundLoop",name:"sfx_anticipation"}),t.eventEmitter.broadcast({type:"soundFade",name:"sfx_anticipation",from:0,to:1,duration:Oe}),()=>{t.eventEmitter.broadcast({type:"soundStop",name:"sfx_anticipation"})})})};Q(i,d=>{f(r)&&d(l)})}var u=x(i,2);ct(u,17,()=>t.stateGame.board,gt,(d,h,p)=>{var s=I(),a=w(s);{var c=m=>{r_(m,{get reel(){return f(h)},oncomplete:()=>f(h).reelState.anticipating=!1})};Q(a,m=>{f(h).reelState.anticipating&&m(c)})}g(d,s)}),g(n,o),M()}function a_(n,e){k(e,!0);const t=ce(),r=new $e(0),o=new $e(1);let i=Z(!0),l=Z(e.win.mult>1);Ee(async()=>{await ut(Oe/fe.timeScale()),N(l,!1)}),Ee(async()=>{f(l)&&(await ut(Oe),t.eventEmitter.broadcast({type:"soundOnce",name:"sfx_multiplier_combine_a"}),await o.set(.1,{duration:200/fe.timeScale()}),await o.set(1,{duration:200/fe.timeScale()}))}),Ee(async()=>{await r.set(-100,{duration:Oe*2/fe.timeScale()}),N(i,!1)}),He(n,{get show(){return f(i)},oncomplete:()=>{f(i)||e.win.oncomplete()},children:(u,d)=>{const h=b(()=>ie*(e.win.reel+.5)),p=b(()=>ie*(e.win.row-.5)+r.current),s=b(()=>f(l)?`${jt(e.win.win)} X ${e.win.mult}`:jt(e.win.result));dt(u,{get x(){return f(h)},get y(){return f(p)},get scale(){return o.current},get text(){return f(s)},anchor:.5,style:{fontFamily:"gold",fontSize:ie*.5}})},$$slots:{default:!0}}),M()}function i_(n,e){k(e,!0);const t=ce();let r=Z(ne([]));t.eventEmitter.subscribeOnMount({showClusterWinAmounts:async o=>{N(r,ne(o.wins.map(l=>({...l,oncomplete:()=>{}}))));const i=()=>f(r).map(async l=>{await Be(u=>l.oncomplete=u)});await Promise.all(i()),N(r,ne([]))}}),wt(n,{children:(o,i)=>{var l=I(),u=w(l);ct(u,17,()=>f(r),gt,(d,h)=>{a_(d,{get win(){return f(h)}})}),g(o,l)},$$slots:{default:!0}}),M()}function l_(n,e){k(e,!0);const t=b(()=>Rr({rawSymbol:e.tumbleSymbol.rawSymbol,state:e.tumbleSymbol.symbolState})),r=b(()=>rs(e.reelIndex)),o=b(()=>f(t).type==="spine");Ui(n,{get x(){return f(r)},get y(){return e.tumbleSymbol.symbolY.current},get animating(){return f(o)},children:(i,l)=>{Hi(i,{get state(){return e.tumbleSymbol.symbolState},get rawSymbol(){return e.tumbleSymbol.rawSymbol},get oncomplete(){return e.tumbleSymbol.oncomplete}})},$$slots:{default:!0}}),M()}function oa(n,e){k(e,!1);const t=ce();Ie();var r=I(),o=w(r);ct(o,1,()=>t.stateGameDerived.tumbleBoardCombined(),gt,(i,l,u)=>{var d=I(),h=w(d);ct(h,1,()=>f(l),gt,(p,s)=>{l_(p,{reelIndex:u,get tumbleSymbol(){return f(s)}})}),g(i,d)}),g(n,r),M()}var u_=L("<!> <!>",1),c_=L("<!> <!>",1);function d_(n,e){k(e,!0);const t=ce();let r=Z(!1);const o=({initY:p,rawSymbol:s})=>{const a=new $e(p);return ne({symbolY:a,rawSymbol:s,symbolState:"static",oncomplete:()=>{}})},i=({addingBoard:p})=>t.stateGameDerived.boardRaw().map((s,a)=>{const c=p[a]??[];return c.map((_,v)=>{const y=ir(v-1-c.length);return o({initY:y,rawSymbol:_})})}),l=()=>t.stateGameDerived.boardRaw().map(p=>p.map((a,c)=>{const m=ir(c-1);return o({initY:m,rawSymbol:a})}));t.eventEmitter.subscribeOnMount({tumbleBoardShow:()=>N(r,!0),tumbleBoardHide:()=>N(r,!1),tumbleBoardInit:({addingBoard:p})=>{t.stateGame.tumbleBoardAdding=i({addingBoard:p}),t.stateGame.tumbleBoardBase=l()},tumbleBoardReset:()=>{t.stateGame.tumbleBoardAdding=[],t.stateGame.tumbleBoardBase=[]},tumbleBoardExplode:async({explodingPositions:p})=>{const s=()=>p.map(async a=>{const c=t.stateGame.tumbleBoardBase[a.reel][a.row];c.symbolState="explosion",await Be(m=>c.oncomplete=m)});await Promise.all(s())},tumbleBoardRemoveExploded:()=>{t.stateGame.tumbleBoardBase.forEach((p,s)=>{t.stateGame.tumbleBoardBase[s]=p.filter(a=>a.symbolState!=="explosion")})},tumbleBoardSlideDown:async()=>{const p=()=>Ut.flatten(t.stateGameDerived.tumbleBoardCombined().map(s=>s.map(async(a,c)=>{const m=ir(c-1);m!==a.symbolY.current&&(await a.symbolY.set(m,{duration:200,easing:Ba}),c>0&&c<s.length-1&&(a.symbolState="land",t.stateGameDerived.onSymbolLand({rawSymbol:a.rawSymbol}),await Be(v=>{a.oncomplete=()=>{a.symbolState="static",v()}})))})));await Promise.all(p())}});var u=I(),d=w(u);{var h=p=>{var s=c_(),a=w(s);cr(a,{animate:!1,children:(m,_)=>{wt(m,{children:(v,y)=>{var S=u_(),A=w(S);Fi(A,{});var P=x(A,2);oa(P,{}),g(v,S)},$$slots:{default:!0}})},$$slots:{default:!0}});var c=x(a,2);cr(c,{animate:!0,children:(m,_)=>{wt(m,{children:(v,y)=>{oa(v,{})},$$slots:{default:!0}})},$$slots:{default:!0}}),g(p,s)};Q(d,p=>{f(r)&&p(h)})}g(n,u),M()}function f_(n,e){k(e,!0);const t=ce(),r=b(()=>({x:t.stateGameDerived.boardLayout().width*.5,y:-100*.8*.58})),o=b(()=>({x:t.stateGameDerived.boardLayout().width*(t.stateGame.gameType==="baseGame"?.5:.37),y:-100*.8*.68})),i=b(()=>t.stateLayoutDerived.isStacked()?f(o):f(r)),l=b(()=>t.stateLayoutDerived.isStacked()?1.28:1);He(n,{get show(){return e.show},children:(u,d)=>{wt(u,{children:(h,p)=>{G(h,q(()=>f(i),{get scale(){return f(l)},children:(s,a)=>{var c=I(),m=w(c);$(m,()=>e.children),g(s,c)},$$slots:{default:!0}}))},$$slots:{default:!0}})},$$slots:{default:!0}}),M()}var h_=L("<!> <!>",1),m_=L("<!> <!> <!>",1);function p_(n,e){k(e,!0);const t="Frame_TumbleWin.png",r=532/143,o=ie*.28,i={width:o*r,height:o},l="Frame_Tumble.png",u=1442/374,d=ie*.8,h={width:d*u,height:d};var p=m_(),s=w(p);Ge(s,q({anchor:.5,key:l},h));var a=x(s,2);G(a,{y:-28.000000000000004*1.2,children:(m,_)=>{var v=h_(),y=w(v);Ge(y,q({anchor:.5,key:t},i));var S=x(y,2);dt(S,{anchor:.5,y:-28.000000000000004*.025,text:"TUMBLE WIN",style:{fontFamily:"gold",fontSize:o*.45}}),g(m,v)},$$slots:{default:!0}});var c=x(a,2);$(c,()=>e.children,()=>({frameSizes:h})),g(n,p),M()}var __=L("<!> <!>",1);function v_(n,e){k(e,!0);const t=new $e(0),r=b(()=>e.animate?"explosion":"idle"),o=async()=>{await t.set(e.amount),e.oncomplete()};be(()=>{f(r)==="idle"&&o()}),ke(n,{key:"tumble_win",get width(){return e.width},children:(i,l)=>{var u=__(),d=w(u);Me(d,{trackIndex:0,get animationName(){return f(r)},listener:{complete:()=>{f(r)==="explosion"&&e.oncomplete()},event:(p,s)=>{var a;((a=s.data)==null?void 0:a.name)==="update_text"&&t.set(e.amount)}}});var h=x(d,2);bt(h,{slotName:"slot_win",children:(p,s)=>{const a=b(()=>jt(t.current));_r(p,{anchor:.5,style:{fontFamily:"gold",fontSize:.65*ie},get text(){return f(a)},get maxWidth(){return e.width}})},$$slots:{default:!0}}),g(i,u)},$$slots:{default:!0}}),M()}function y_(n,e){k(e,!0);const t=ce();let r=Z(!1),o=Z(0),i=Z(!1),l=Z(()=>{});t.eventEmitter.subscribeOnMount({tumbleWinAmountShow:()=>N(r,!0),tumbleWinAmountHide:()=>N(r,!1),tumbleWinAmountReset:()=>{N(o,0),N(i,!1),N(l,()=>{})},tumbleWinAmountUpdate:async u=>{f(o)!==u.amount&&(N(o,ne(u.amount)),N(i,ne(u.animate)),await Be(d=>N(l,ne(d))))}}),f_(n,{get show(){return f(r)},children:(u,d)=>{p_(u,{children:(p,s)=>{let a=()=>s==null?void 0:s().frameSizes;v_(p,{get amount(){return f(o)},get animate(){return f(i)},get oncomplete(){return f(l)},get width(){return a().width}})},$$slots:{default:!0}})},$$slots:{default:!0}}),M()}var g_=L("<!> <!>",1),b_=L("<!> <!>",1);function w_(n,e){k(e,!0);const t=ie*.641,r=ce(),o=b(()=>r.stateLayoutDerived.isStacked()?1.28:1),i=b(()=>({x:r.stateGameDerived.boardLayout().width-t*1.3,y:-100*.47})),l=b(()=>({x:r.stateGameDerived.boardLayout().width-t*1.5,y:-100*.55})),u=b(()=>r.stateLayoutDerived.isStacked()?f(l):f(i));let d=Z(!1),h=Z("static"),p=Z(1),s=new $e(1),a=Z(()=>{});r.eventEmitter.subscribeOnMount({globalMultiplierShow:()=>N(d,!0),globalMultiplierHide:()=>N(d,!1),globalMultiplierUpdate:async c=>{c.multiplier===1&&f(p)!==1&&(N(h,"reset"),await ut(300),r.eventEmitter.broadcast({type:"soundOnce",name:"sfx_multiplier_reset"}),s.set(c.multiplier)),c.multiplier>f(p)&&(r.eventEmitter.broadcast({type:"soundOnce",name:"sfx_multiplier_update"}),N(h,"increment")),f(h)!=="static"&&(N(p,ne(c.multiplier)),await Be(m=>N(a,ne(m))),N(h,"static"),s.set(f(p),{duration:0}))}}),He(n,{get show(){return f(d)},children:(c,m)=>{wt(c,{children:(_,v)=>{G(_,q(()=>f(u),{get scale(){return f(o)},children:(y,S)=>{ke(y,{key:"globalMultiplier",width:t,children:(A,P)=>{var T=b_(),C=w(T);const D=b(()=>fe.timeScale());Me(C,{trackIndex:0,get animationName(){return f(h)},get timeScale(){return f(D)},listener:{complete:()=>{f(a)()}}});var j=x(C,2);lf(j,{children:(F,X)=>{var H=g_(),U=w(H);bt(U,{slotName:"slot_multi",children:(B,E)=>{const O=b(()=>`${Math.round(s.current)}×`);dt(B,{anchor:.5,get text(){return f(O)},style:{fontFamily:"gold",fontSize:ie*5.2}})},$$slots:{default:!0}});var R=x(U,2);bt(R,{slotName:"slot_multi_next",children:(B,E)=>{const O=b(()=>`${f(p)}×`);dt(B,{anchor:.5,get text(){return f(O)},style:{fontFamily:"gold",fontSize:ie*5.2}})},$$slots:{default:!0}}),g(F,H)},$$slots:{default:!0}}),g(A,T)},$$slots:{default:!0}})},$$slots:{default:!0}}))},$$slots:{default:!0}})},$$slots:{default:!0}}),M()}var S_=L("<!> <!>",1);function x_(n,e){k(e,!0);const t=b(()=>Rr({rawSymbol:e.multiplierSymbol.rawSymbol,state:e.multiplierSymbol.symbolState})),r=b(()=>Ni({rawSymbol:e.multiplierSymbol.rawSymbol,state:e.multiplierSymbol.symbolState}));var o=S_(),i=w(o);zi(i,{get symbolBackgroundInfo(){return f(r)},get x(){return e.multiplierSymbol.initX},get y(){return e.multiplierSymbol.initY}});var l=x(i,2);const u=b(()=>({complete:e.multiplierSymbol.oncomplete}));Wi(l,{get symbolInfo(){return f(t)},get x(){return e.multiplierSymbol.symbolX.current},get y(){return e.multiplierSymbol.symbolY.current},get listener(){return f(u)}}),g(n,o),M()}function A_(n,e){k(e,!1);const t=ce();Ie();var r=I(),o=w(r);ct(o,1,()=>t.stateGame.multiplierBoard,gt,(i,l,u)=>{var d=I(),h=w(d);ct(h,1,()=>f(l),gt,(p,s)=>{var a=I(),c=w(a);{var m=_=>{x_(_,{reelIndex:u,get multiplierSymbol(){return f(s)}})};Q(c,_=>{f(s)&&_(m)})}g(p,a)}),g(i,d)}),g(n,r),M()}function T_(n,e){k(e,!0);const t=ce();let r=Z(!1);const o=({rawSymbol:h,reelIndex:p,symbolIndex:s,reelLength:a})=>{if(h.name==="M"&&s>0&&s<a-1){const c=rs(p),m=ir(s-1),_=new $e(c),v=new $e(m);return ne({initX:c,initY:m,symbolX:_,symbolY:v,rawSymbol:h,symbolState:"win",oncomplete:()=>{}})}},i=()=>t.stateGameDerived.boardRaw().map((h,p)=>h.map((s,a)=>o({rawSymbol:s,reelIndex:p,symbolIndex:a,reelLength:h.length})));t.eventEmitter.subscribeOnMount({multiplierBoardShow:()=>N(r,!0),multiplierBoardHide:()=>N(r,!1),multiplierBoardInit:()=>{t.stateGame.multiplierBoard=i()},multiplierBoardReset:()=>{t.stateGame.multiplierBoard=[]},multiplierBoardAnimate:async()=>{const h=()=>Ut.flatten(t.stateGame.multiplierBoard.map(p=>p.filter(Boolean).map(async s=>{await Be(a=>s.oncomplete=a)})));await Promise.all(h())},multiplierBoardMove:async()=>{const h=()=>Ut.flatten(t.stateGame.multiplierBoard.map(p=>p.filter(Boolean).map(async s=>{const a={x:t.stateGameDerived.boardLayout().width*.5,y:t.stateGameDerived.boardLayout().height*.5},c={duration:500,easing:Ru},m=()=>s.symbolX.set(a.x,c),_=()=>s.symbolY.set(a.y,c);await Promise.all([m(),_()])})));await Promise.all(h())}});var l=I(),u=w(l);{var d=h=>{wt(h,{children:(p,s)=>{A_(p,{})},$$slots:{default:!0}})};Q(u,h=>{f(r)&&h(d)})}g(n,l),M()}var P_=L("<!> <!> <!>",1);function E_(n,e){k(e,!0);const t=s=>{const a=b(()=>`${f(l)} X`);dt(s,{scale:3,anchor:.5,get text(){return f(a)},style:{fontFamily:"gold",fontSize:ie,letterSpacing:-5}})},r=ce();let o=Z(!1),i=Z("static"),l=Z(0),u=Z(()=>{});r.eventEmitter.subscribeOnMount({multiplierTotalShow:()=>N(o,!0),multiplierTotalHide:()=>N(o,!1),multiplierTotalUpdate:s=>N(l,ne(s.totalMultiplier)),multiplierTotalAnimate:async()=>{N(i,"explosion"),await Be(s=>N(u,ne(s)))}});var d=I(),h=w(d);{var p=s=>{wt(s,{children:(a,c)=>{const m=b(()=>r.stateGameDerived.boardLayout().width*.5),_=b(()=>r.stateGameDerived.boardLayout().height*.5),v=b(()=>r.stateGameDerived.boardLayout().width*4);ke(a,{get x(){return f(m)},get y(){return f(_)},key:"tumble_multiplier",get width(){return f(v)},children:(y,S)=>{var A=P_(),P=w(A);const T=b(()=>fe.timeScale()),C=b(()=>({complete:f(u)}));Me(P,{trackIndex:0,get animationName(){return f(i)},get timeScale(){return f(T)},get listener(){return f(C)}});var D=x(P,2);bt(D,{slotName:"tumblemultiplier",children:(F,X)=>{t(F)},$$slots:{default:!0}});var j=x(D,2);bt(j,{slotName:"tumblemultiplier_add",children:(F,X)=>{t(F)},$$slots:{default:!0}}),g(y,A)},$$slots:{default:!0}})},$$slots:{default:!0}})};Q(h,s=>{f(o)&&s(p)})}g(n,d),M()}const I_={alpha:{start:1,end:1},scale:{start:.3,end:.4,minimumScaleMultiplier:1},color:{start:"#ffffff",end:"#ffffff"},speed:{start:700,end:800,minimumSpeedMultiplier:1},acceleration:{x:0,y:600},maxSpeed:0,startRotation:{min:255,max:285},noRotation:!1,rotationSpeed:{min:-90,max:90},lifetime:{min:6,max:6},blendMode:"normal",frequency:.4,emitterLifetime:-1,maxParticles:100,pos:{x:0,y:0},addAtBack:!1,spawnType:"rect",spawnRect:{x:-100,y:0,w:200,h:0}},L_={zero:null,standard:null,small:null,nice:null,substantial:{speedOption:{list:[{value:300,time:0},{value:400,time:0}]},frequency:.2,emitterLifetime:-1,spawnOption:{type:"rect",spawnRect:{x:-150,y:0,w:300,h:0}}},big:{speedOption:{list:[{value:650,time:0},{value:700,time:0}]},frequency:.18,emitterLifetime:-1,spawnOption:{type:"rect",spawnRect:{x:-150,y:0,w:300,h:0}}},superwin:{speedOption:{list:[{value:750,time:0},{value:800,time:0}]},frequency:.15,emitterLifetime:-1,spawnOption:{type:"rect",spawnRect:{x:-200,y:0,w:400,h:0}}},mega:{speedOption:{list:[{value:850,time:0},{value:900,time:0}]},frequency:.12,emitterLifetime:-1,spawnOption:{type:"rect",spawnRect:{x:-200,y:0,w:400,h:0}}},epic:{speedOption:{list:[{value:950,time:0},{value:1050,time:0}]},frequency:.11,emitterLifetime:-1,spawnOption:{type:"rect",spawnRect:{x:-250,y:0,w:500,h:0}}},max:{speedOption:{list:[{value:1100,time:0},{value:1200,time:0}]},frequency:.1,emitterLifetime:-1,spawnOption:{type:"rect",spawnRect:{x:-250,y:0,w:500,h:0}}}};function ji(n,e){k(e,!0);const t=ce(),r=b(()=>e!=null&&e.levelAlias?L_[e.levelAlias]:null),o=b(()=>({...I_,...f(r)}));var i=I(),l=w(i);{var u=d=>{Pe(d,{children:(h,p)=>{G(h,{get x(){return t.stateGameDerived.boardLayout().x},get y(){return t.stateGameDerived.boardLayout().y},children:(s,a)=>{uf(s,{get config(){return f(o)},key:"coins",get emit(){return e.emit}})},$$slots:{default:!0}})},$$slots:{default:!0}})};Q(l,d=>{f(o)&&d(u)})}g(n,i),M()}var k_=L("<!> <!>",1);function M_(n,e){k(e,!0);const t=ce();let r=Z("intro");ke(n,{get width(){return t.stateGameDerived.boardLayout().width},key:"bigwin",children:(o,i)=>{var l=k_(),u=w(l);const d=b(()=>f(r)==="idle");Me(u,{trackIndex:0,get animationName(){return e.animationMap[f(r)]},get loop(){return f(d)},listener:{complete:()=>{f(r)==="intro"&&N(r,"idle"),f(r)}}});var h=x(u,2);bt(h,{slotName:"slot_win_count",children:(p,s)=>{var a=I(),c=w(a);$(c,()=>e.children),g(p,a)},$$slots:{default:!0}}),g(o,l)},$$slots:{default:!0}}),M()}var B_=L("<!> <!> <!> <!> <!>",1);function $_(n,e){k(e,!0);const t=ce();let r=Z(!1),o=Z(0),i=Z(()=>{}),l=()=>{};t.eventEmitter.subscribeOnMount({winShow:()=>N(r,!0),winHide:()=>N(r,!1),winUpdate:async d=>{N(o,ne(d.amount)),await Be(h=>N(i,ne(h)))}});const u=b(()=>t.stateGameDerived.getWinLevelDataByBookEventAmount(f(o)));He(n,{get show(){return f(r)},children:(d,h)=>{var p=I(),s=w(p);{var a=c=>{const m=b(()=>f(u).type==="big"),_=b(()=>f(u).presentDuration);ei(c,{get amount(){return f(o)},get duration(){return f(_)},oncomplete:()=>l(),children:(y,S)=>{let A=()=>S==null?void 0:S().countUpAmount,P=()=>S==null?void 0:S().startCountUp,T=()=>S==null?void 0:S().finishCountUp,C=()=>S==null?void 0:S().countUpCompleted;var D=B_(),j=w(D);{var F=W=>{Or(W,{backgroundColor:0,backgroundAlpha:.5})};Q(j,W=>{f(m)&&W(F)})}var X=x(j,2);No(X,{onmount:async()=>{await P()(),await ut(300),f(i)()}});var H=x(X,2);Pe(H,{children:(W,J)=>{G(W,{get x(){return t.stateGameDerived.boardLayout().x},get y(){return t.stateGameDerived.boardLayout().y},children:(pe,re)=>{var de=I(),Ce=w(de);{var ot=st=>{M_(st,{get animationMap(){return f(u).animation},children:(Tt,De)=>{const pt=b(()=>jt(A()));_r(Tt,{anchor:.5,maxWidth:2130,get text(){return f(pt)},style:{fontFamily:"gold",fontSize:ie*3.6,align:"center",fontWeight:"bold",letterSpacing:0}})},$$slots:{default:!0}})},Ze=st=>{const Tt=b(()=>t.stateLayoutDerived.canvasSizes().width/t.stateLayoutDerived.mainLayout().scale),De=b(()=>jt(A()));_r(st,{anchor:.5,get maxWidth(){return f(Tt)},get text(){return f(De)},style:{fontFamily:"gold",fontSize:ie,align:"center",fontWeight:"bold",letterSpacing:0}})};Q(Ce,st=>{f(u).animation?st(ot):st(Ze,!1)})}g(pe,de)},$$slots:{default:!0}})},$$slots:{default:!0}});var U=x(H,2);const R=b(()=>!C()),B=b(()=>{var W;return(W=f(u))==null?void 0:W.alias});ji(U,{get emit(){return f(R)},get levelAlias(){return f(B)}});var E=x(U,2);{var O=W=>{Nr(W,{onpress:()=>C()?f(i)():T()()})};Q(E,W=>{f(m)&&W(O)})}g(y,D)},$$slots:{default:!0}})};Q(s,c=>{f(u)&&c(a)})}g(d,p)},$$slots:{default:!0}}),M()}var D_=L("<!> <!>",1);function Ki(n,e){k(e,!0);const t=ce(),r=920/720,o=ie*5,i={width:o,height:o/r},l={width:ie*5,height:ie*5};let u=Z("intro");Pe(n,{children:(d,h)=>{const p=b(()=>tt({anchor:.5,sizes:i}));G(d,{get x(){return t.stateGameDerived.boardLayout().x},get y(){return t.stateGameDerived.boardLayout().y},get pivot(){return f(p)},children:(s,a)=>{const c=b(()=>l.width*.5),m=b(()=>l.height*.4);ke(s,{key:"fsIntro",get width(){return l.width},get x(){return f(c)},get y(){return f(m)},children:(_,v)=>{var y=D_(),S=w(y);const A=b(()=>f(u)==="idle");Me(S,{trackIndex:0,get animationName(){return f(u)},get loop(){return f(A)},listener:{complete:()=>N(u,"idle")}});var P=x(S,2);bt(P,{slotName:"slot_text_placeholder",children:(T,C)=>{var D=I(),j=w(D);$(j,()=>e.children,()=>({sizes:i})),g(T,D)},$$slots:{default:!0}}),g(_,y)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),M()}var O_=L("<!> <!>",1),C_=L("<!> <!> <!>",1),R_=L("<!> <!> <!>",1);function N_(n,e){k(e,!0);const t=ce(),r={width:ie*1.7};let o=Z(!1),i=Z("intro"),l=Z(0),u=Z(()=>{});t.eventEmitter.subscribeOnMount({freeSpinIntroShow:()=>N(o,!0),freeSpinIntroHide:()=>N(o,!1),freeSpinIntroUpdate:async d=>{d.extraSpins&&t.eventEmitter.broadcast({type:"soundOnce",name:"sfx_fs_respins"}),N(l,ne(d.extraSpins??d.totFS)),await Be(h=>N(u,ne(h)))}}),He(n,{get show(){return f(o)},children:(d,h)=>{var p=R_(),s=w(p);Or(s,{backgroundColor:0,backgroundAlpha:.5});var a=x(s,2);Ki(a,{children:(_,v)=>{let y=()=>v==null?void 0:v().sizes;var S=C_(),A=w(S);const P=b(()=>Ne.lang());Ge(A,{y:-240,anchor:.5,width:1100,height:343.20000000000005,get key(){return`freespins_${f(P)??""}.png`}});var T=x(A,2);const C=b(()=>y().height*.1);ke(T,{key:"fsIntroNumber",get width(){return r.width},get y(){return f(C)},children:(j,F)=>{var X=O_(),H=w(X);const U=b(()=>f(i)==="idle");Me(H,{trackIndex:0,get animationName(){return f(i)},get loop(){return f(U)},listener:{complete:()=>N(i,"idle")}});var R=x(H,2);bt(R,{slotName:"slot_number",children:(B,E)=>{dt(B,{anchor:{x:.5,y:.5},get text(){return f(l)},style:{fontFamily:"gold",fontSize:ie,fontWeight:"bold"}})},$$slots:{default:!0}}),g(j,X)},$$slots:{default:!0}});var D=x(T,2);Ge(D,{y:ie*3.5,anchor:.5,width:402.6,height:92.4,key:"freespins.png"}),g(_,S)},$$slots:{default:!0}});var c=x(a,2);Nr(c,{onpress:()=>f(u)()}),g(d,p)},$$slots:{default:!0}}),M()}var G_=L("<!> <!>",1),F_=L("<!> <!>",1);function W_(n,e){k(e,!0);const t=ce(),r="Frame_FSCounter.png",o="Frame_Tumble.png",i=824/622,l=1442/374,u=t.stateLayoutDerived.isStacked()?o:r,d=b(()=>ie*(t.stateLayoutDerived.isStacked()?5.3:2)),h=b(()=>({width:f(d),height:f(d)/(t.stateLayoutDerived.isStacked()?l:i)})),p=b(()=>t.stateLayoutDerived.layoutType()==="tablet"?.7:1),s=b(()=>({x:t.stateGameDerived.boardLayout().x-t.stateGameDerived.boardLayout().width*.5-f(h).width-ie*.7,y:t.stateGameDerived.boardLayout().y-t.stateGameDerived.boardLayout().height*.5})),a=b(()=>({x:t.stateGameDerived.boardLayout().x-f(h).width*.5*f(p),y:t.stateGameDerived.boardLayout().y+t.stateGameDerived.boardLayout().height*.5+f(h).height*.75})),c=b(()=>({x:t.stateGameDerived.boardLayout().x-f(h).width*.5,y:t.stateGameDerived.boardLayout().y+t.stateGameDerived.boardLayout().height*.5+f(h).height*1.5})),m=b(()=>t.stateLayoutDerived.isStacked()?t.stateLayoutDerived.layoutType()==="tablet"?f(a):f(c):f(s)),_=ie*(t.stateLayoutDerived.isStacked()?.4:.275),v=.25*ie;let y=Z(!1),S=Z(0),A=Z(0),P=Z(ne({width:0,height:0})),T=Z(ne({width:0,height:0}));const C=b(()=>t.stateLayoutDerived.isStacked()?{width:f(P).width+f(T).width+v,height:f(P).height}:{width:f(P).width,height:f(P).height+f(T).height}),D=b(()=>t.stateLayoutDerived.isStacked()?{x:f(P).width+v+f(T).width/2,y:0}:{x:f(P).width/2,y:f(P).height});t.eventEmitter.subscribeOnMount({freeSpinCounterShow:()=>N(y,!0),freeSpinCounterHide:()=>N(y,!1),freeSpinCounterUpdate:j=>{j.current!==void 0&&N(S,ne(j.current)),j.total!==void 0&&N(A,ne(j.total))}}),Pe(n,{children:(j,F)=>{He(j,q({get show(){return f(y)}},()=>f(m),{get scale(){return f(p)},children:(X,H)=>{var U=F_(),R=w(U);Ge(R,q({key:u},()=>f(h)));var B=x(R,2);const E=b(()=>f(h).width*.5),O=b(()=>f(h).height*(t.stateLayoutDerived.isStacked()?.46:.48)),W=b(()=>tt({sizes:f(C),anchor:{x:.5,y:.5}}));G(B,{get x(){return f(E)},get y(){return f(O)},get pivot(){return f(W)},children:(J,pe)=>{var re=G_(),de=w(re);dt(de,{text:"FREE SPIN",style:{fontFamily:"gold",fontSize:_,wordWrap:!1},onresize:Ze=>N(P,ne(Ze))});var Ce=x(de,2);const ot=b(()=>`${f(S)} OF ${f(A)}`);dt(Ce,q({get text(){return f(ot)}},()=>f(D),{anchor:{x:.5,y:0},style:{fontFamily:"gold",fontSize:_},onresize:Ze=>N(T,ne(Ze))})),g(J,re)},$$slots:{default:!0}}),g(X,U)},$$slots:{default:!0}}))},$$slots:{default:!0}}),M()}var z_=L("<!> <!>",1),H_=L("<!> <!> <!>",1),U_=L("<!> <!> <!> <!> <!>",1);function j_(n,e){k(e,!0);const t=ce(),r={width:ie*1.7};let o=Z(!1),i=Z("intro"),l=Z(0),u=Z(()=>{}),d=()=>{};t.eventEmitter.subscribeOnMount({freeSpinOutroShow:()=>N(o,!0),freeSpinOutroHide:async()=>N(o,!1),freeSpinOutroCountUp:async p=>{N(l,ne(p.amount)),await Be(s=>N(u,ne(s)))}});const h=b(()=>t.stateGameDerived.getWinLevelDataByBookEventAmount(f(l)));He(n,{get show(){return f(o)},children:(p,s)=>{var a=I(),c=w(a);{var m=_=>{const v=b(()=>f(h).presentDuration),y=b(()=>f(h).type==="big"),S=b(()=>f(y)?.1:-.08);ei(_,{get amount(){return f(l)},get duration(){return f(v)},oncomplete:()=>d(),children:(P,T)=>{let C=()=>T==null?void 0:T().countUpAmount,D=()=>T==null?void 0:T().startCountUp,j=()=>T==null?void 0:T().finishCountUp,F=()=>T==null?void 0:T().countUpCompleted;var X=U_(),H=w(X);No(H,{onmount:()=>D()()});var U=x(H,2);Or(U,{backgroundColor:0,backgroundAlpha:.5});var R=x(U,2);Ki(R,{children:(pe,re)=>{let de=()=>re==null?void 0:re().sizes;var Ce=H_(),ot=w(Ce);{var Ze=Pt=>{const On=b(()=>Ne.lang());Ge(Pt,{y:-240,anchor:.5,width:1100,height:343.20000000000005,get key(){return`freespins_${f(On)??""}.png`}})},st=Pt=>{const On=b(()=>Ne.lang());Ge(Pt,{y:-270,anchor:.5,width:2250,height:360,get key(){return`winsmall_${f(On)??""}.png`}})};Q(ot,Pt=>{f(y)?Pt(Ze):Pt(st,!1)})}var Tt=x(ot,2);const De=b(()=>ie*(f(y)?3.3:3)),pt=b(()=>177*(f(y)?2.2:3)),xe=b(()=>42*(f(y)?2.2:3));Ge(Tt,{get y(){return f(De)},anchor:.5,get width(){return f(pt)},get height(){return f(xe)},key:"totalwin.png"});var Ue=x(Tt,2);const Vi=b(()=>de().height*f(S));ke(Ue,{key:"fsOutroNumber",get width(){return r.width},get y(){return f(Vi)},children:(Pt,On)=>{var as=z_(),is=w(as);const Yi=b(()=>f(i)==="idle");Me(is,{trackIndex:0,get animationName(){return f(i)},get loop(){return f(Yi)},listener:{complete:()=>N(i,"idle")}});var Xi=x(is,2);bt(Xi,{slotName:"slot_number",children:(qi,ev)=>{const Ji=b(()=>jt(C()));_r(qi,{anchor:.5,style:{fontFamily:"gold",fontSize:1.5*ie},get text(){return f(Ji)},get maxWidth(){return de().width}})},$$slots:{default:!0}}),g(Pt,as)},$$slots:{default:!0}}),g(pe,Ce)},$$slots:{default:!0}});var B=x(R,2);const E=b(()=>!F()),O=b(()=>{var J;return(J=f(h))==null?void 0:J.alias});ji(B,{get emit(){return f(E)},get levelAlias(){return f(O)}});var W=x(B,2);Nr(W,{onpress:()=>F()?f(u)():j()()}),g(P,X)},$$slots:{default:!0}})};Q(c,_=>{f(h)&&_(m)})}g(p,a)},$$slots:{default:!0}}),M()}function K_(n,e){k(e,!0);const t=ce();let r=Z(!1),o=Z(()=>{});t.eventEmitter.subscribeOnMount({transition:async()=>{N(r,!0),await Be(d=>N(o,ne(d)))}});var i=I(),l=w(i);{var u=d=>{Gi(d,{oncomplete:()=>{f(o)(),N(r,!1)}})};Q(l,d=>{f(r)&&d(u)})}g(n,i),M()}var sa=Fe(()=>_e),V_=L("<!> <!> <!> <!>",1),Y_=L("<!> <!>",1),X_=L("<!> <!>",1),q_=L("<!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!>",1),J_=L("<!> <!> <!> <!> <!> <!>",1),Z_=L("<!> <!>",1);function Q_(n,e){k(e,!1);const t=bl(ce());Ee(()=>ms(t,f(t).stateLayout.showLoadingScreen=!0)),f(t).eventEmitter.subscribeOnMount({buyBonusConfirm:()=>{sa(sa().modal={name:"buyBonusConfirm"})}}),Ie();var r=Z_(),o=w(r);tf(o,{children:(l,u)=>{var d=J_(),h=w(d);Tp(h,{});var p=x(h,2);hu(p,{});var s=x(p,2);Cp(s,{});var a=x(s,2);df(a,{});var c=x(a,2);zp(c,{});var m=x(c,2);{var _=y=>{Kp(y,{onloaded:()=>ms(t,f(t).stateLayout.showLoadingScreen=!1)})},v=y=>{var S=q_(),A=w(S);Rp(A,{});var P=x(A,2);Np(P,{});var T=x(P,2);Pe(T,{children:(O,W)=>{Yp(O,{})},$$slots:{default:!0}});var C=x(T,2);Pe(C,{children:(O,W)=>{var J=V_(),pe=w(J);n_(pe,{});var re=x(pe,2);s_(re,{});var de=x(re,2);y_(de,{});var Ce=x(de,2);w_(Ce,{}),g(O,J)},$$slots:{default:!0}});var D=x(C,2);Pe(D,{children:(O,W)=>{var J=Y_(),pe=w(J);d_(pe,{});var re=x(pe,2);i_(re,{}),g(O,J)},$$slots:{default:!0}});var j=x(D,2);Pe(j,{children:(O,W)=>{var J=X_(),pe=w(J);T_(pe,{});var re=x(pe,2);E_(re,{}),g(O,J)},$$slots:{default:!0}});var F=x(j,2);Km(F,{gameName:J=>{Ym(J,{name:"LINES GAME"})},logo:J=>{ze(J,{anchor:{x:1,y:0},text:"ADD YOUR LOGO",style:{fontFamily:"proxima-nova",fontSize:pr*1.5,fontWeight:"600",lineHeight:pr*2,fill:16777215}})},$$slots:{gameName:!0,logo:!0}});var X=x(F,2);$_(X,{});var H=x(X,2);N_(H,{});var U=x(H,2);{var R=O=>{W_(O,{})};Q(U,O=>{["desktop","landscape"].includes(f(t).stateLayoutDerived.layoutType())&&O(R)})}var B=x(U,2);j_(B,{});var E=x(B,2);K_(E,{}),g(y,S)};Q(m,y=>{f(t).stateLayout.showLoadingScreen?y(_):y(v,!1)})}g(l,d)},$$slots:{default:!0}});var i=x(o,2);kd(i,{version:u=>{Bd(u,{version:"2.0.5"})},$$slots:{version:!0}}),g(n,r),M()}function mv(n,e){k(e,!1),gp(),Ie(),Q_(n,{}),M()}export{Ha as A,Fa as C,Fd as R,Od as S,Ua as V,mv as _,Dd as u};
