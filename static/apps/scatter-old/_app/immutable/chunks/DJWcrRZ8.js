const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./CiDfa875.js","./8BC7R5ay.js","./BJQIRh4O.js","./CXdbV3RU.js","./DP_IGs4f.js","./QVJ9TQJ4.js","./CP6rSdK5.js","../assets/particle-emitter.BA2FXTRa.css","./C2GHuDhf.js","./BJQ3xz6G.js","./Dz-GRpN7.js"])))=>i.map(i=>d[i]);
var Qo=n=>{throw TypeError(n)};var Or=(n,e,t)=>e.has(n)||Qo("Cannot "+t);var ye=(n,e,t)=>(Or(n,e,"read from private field"),t?t.call(n):e.get(n)),Ke=(n,e,t)=>e.has(n)?Qo("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),an=(n,e,t,r)=>(Or(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),$n=(n,e,t)=>(Or(n,e,"access private method"),t);import{l as Oi,c as E,a as g,t as L,s as ue,o as Ao,b as je}from"./BJQIRh4O.js";import"./QVJ9TQJ4.js";import{R as Ys,Q as Ci,I as Ri,l as it,m as Xs,ar as qs,as as Ni,at as Js,n as Zs,q as Qs,o as To,v as qt,U as Gi,W as Cr,ac as Wi,ae as Fi,i as f,$ as ge,T as zi,V as es,X as Rr,al as Hi,Y as ea,au as ta,ap as na,D as Ui,K as Dt,av as Nr,y as Ki,O as ts,aw as Po,ax as ji,ay as Io,az as ns,aA as Vi,ao as Yi,aB as Xi,aC as qi,aD as Ji,aj as Zi,w as Qi,g as Eo,x as xr,j as el,A as N,aE as tl,H as nl,F as Ie,p as k,aF as Pn,a as B,aG as Kt,aH as jt,f as w,c as te,r as ee,t as ae,k as b,aa as rs,a8 as os,s as x,G as Z,aI as lt,d as be,aJ as Te,aK as rl,aL as ss}from"./CXdbV3RU.js";import{i as Ee}from"./CWfjYAS7.js";import{p as vn,r as me,i as Q,a as ne,_ as as,s as q}from"./DP_IGs4f.js";import{ai as St,aj as Lo,g as V,ak as fe,k as D,al as ol,am as sl,an as Vt,ao as al,ap as il,s as In,j as _e,aq as xt,ar as ll,as as ul,l as cl,h as Mt,at as dl,au as ra,av as fl,aw as is,ax as On,ay as ls,az as se,b as ut,aA as us,aB as hl,aC as ml,aD as pl,t as _l,aE as vl,aF as yl,aG as gl,aH as bl,aI as wl,aJ as _n,e as ko,E as yn,a as oa,C as Ar,aa as ar,ab as ir,a8 as Gr,D as so,aK as Sl,aL as xl,aM as sa,aN as Al,aO as Tl,w as Pl,aP as Il,aQ as aa,aR as El,aS as Ll,aT as kl,aU as Bl,a0 as Ml,L as cs,aV as Dl,aW as $l,aX as Ol,aY as ia,aZ as Cl,a_ as we,d as Ne,a$ as Rl,A as Nl,b0 as Gl,b1 as Wl,b2 as Me,_ as zt,b3 as Fl,b4 as ln,b5 as Wr,b6 as zl}from"./8BC7R5ay.js";import{b as la,c as ua}from"./Dt4I5jb8.js";const Hl=[];function Tr(n,e=!1){return rr(n,new Map,"",Hl)}function rr(n,e,t,r,o=null){if(typeof n=="object"&&n!==null){var i=e.get(n);if(i!==void 0)return i;if(n instanceof Map)return new Map(n);if(n instanceof Set)return new Set(n);if(Ys(n)){var l=Array(n.length);e.set(n,l),o!==null&&e.set(o,l);for(var u=0;u<n.length;u+=1){var d=n[u];u in n&&(l[u]=rr(d,e,t,r))}return l}if(Ci(n)===Ri){l={},e.set(n,l),o!==null&&e.set(o,l);for(var h in n)l[h]=rr(n[h],e,t,r);return l}if(n instanceof Date)return structuredClone(n);if(typeof n.toJSON=="function")return rr(n.toJSON(),e,t,r,n)}if(n instanceof EventTarget)return n;try{return structuredClone(n)}catch{return n}}function Ul(n,e,t){it&&Xs();var r=n,o=Gi,i,l=qs()?Ni:Js;Zs(()=>{l(o,o=e())&&(i&&Qs(i),i=To(()=>t(r)))}),it&&(r=qt)}function gt(n,e){return e}function Kl(n,e,t,r){for(var o=[],i=e.length,l=0;l<i;l++)Vi(e[l].e,o,!0);var u=i>0&&o.length===0&&t!==null;if(u){var d=t.parentNode;Yi(d),d.append(t),r.clear(),Lt(n,e[0].prev,e[i-1].next)}Xi(o,()=>{for(var h=0;h<i;h++){var p=e[h];u||(r.delete(p.k),Lt(n,p.prev,p.next)),qi(p.e,!u)}})}function ct(n,e,t,r,o,i=null){var l=n,u={flags:e,items:new Map,first:null},d=(e&ta)!==0;if(d){var h=n;l=it?Cr(Wi(h)):h.appendChild(Fi())}it&&Xs();var p=null,s=!1,a=ge(()=>{var c=t();return Ys(c)?c:c==null?[]:na(c)});Zs(()=>{var c=f(a),m=c.length;if(s&&m===0)return;s=m===0;let _=!1;if(it){var v=l.data===zi;v!==(m===0)&&(l=es(),Cr(l),Rr(!1),_=!0)}if(it){for(var y=null,S,A=0;A<m;A++){if(qt.nodeType===8&&qt.data===Hi){l=qt,_=!0,Rr(!1);break}var P=c[A],T=r(P,A);S=ca(qt,u,y,null,P,T,A,o,e,t),u.items.set(T,S),y=S}m>0&&Cr(es())}it||jl(c,u,l,o,e,r,t),i!==null&&(m===0?p?ea(p):p=To(()=>i(l)):p!==null&&Qs(p,()=>{p=null})),_&&Rr(!0),f(a)}),it&&(l=qt)}function jl(n,e,t,r,o,i,l){var M,I,$,F;var u=(o&ji)!==0,d=(o&(Io|Po))!==0,h=n.length,p=e.items,s=e.first,a=s,c,m=null,_,v=[],y=[],S,A,P,T;if(u)for(T=0;T<h;T+=1)S=n[T],A=i(S,T),P=p.get(A),P!==void 0&&((M=P.a)==null||M.measure(),(_??(_=new Set)).add(P));for(T=0;T<h;T+=1){if(S=n[T],A=i(S,T),P=p.get(A),P===void 0){var C=a?a.e.nodes_start:t;m=ca(C,e,m,m===null?e.first:m.next,S,A,T,r,o,l),p.set(A,m),v=[],y=[],a=m.next;continue}if(d&&Vl(P,S,T,o),(P.e.f&Nr)!==0&&(ea(P.e),u&&((I=P.a)==null||I.unfix(),(_??(_=new Set)).delete(P))),P!==a){if(c!==void 0&&c.has(P)){if(v.length<y.length){var O=y[0],K;m=O.prev;var W=v[0],X=v[v.length-1];for(K=0;K<v.length;K+=1)ds(v[K],O,t);for(K=0;K<y.length;K+=1)c.delete(y[K]);Lt(e,W.prev,X.next),Lt(e,m,W),Lt(e,X,O),a=O,m=X,T-=1,v=[],y=[]}else c.delete(P),ds(P,a,t),Lt(e,P.prev,P.next),Lt(e,P,m===null?e.first:m.next),Lt(e,m,P),m=P;continue}for(v=[],y=[];a!==null&&a.k!==A;)(a.e.f&Nr)===0&&(c??(c=new Set)).add(a),y.push(a),a=a.next;if(a===null)continue;P=a}v.push(P),m=P,a=P.next}if(a!==null||c!==void 0){for(var H=c===void 0?[]:na(c);a!==null;)(a.e.f&Nr)===0&&H.push(a),a=a.next;var U=H.length;if(U>0){var R=(o&ta)!==0&&h===0?t:null;if(u){for(T=0;T<U;T+=1)($=H[T].a)==null||$.measure();for(T=0;T<U;T+=1)(F=H[T].a)==null||F.fix()}Kl(e,H,R,p)}}u&&Ki(()=>{var J;if(_!==void 0)for(P of _)(J=P.a)==null||J.apply()}),ts.first=e.first&&e.first.e,ts.last=m&&m.e}function Vl(n,e,t,r){(r&Io)!==0&&ns(n.v,e),(r&Po)!==0?ns(n.i,t):n.i=t}function ca(n,e,t,r,o,i,l,u,d,h){var p=(d&Io)!==0,s=(d&Ji)===0,a=p?s?Ui(o):Dt(o):o,c=(d&Po)===0?l:Dt(l),m={i:c,v:a,k:i,a:null,e:null,prev:t,next:r};try{return m.e=To(()=>u(n,a,c,h),it),m.e.prev=t&&t.e,m.e.next=r&&r.e,t===null?e.first=m:(t.next=m,t.e.next=m.e),r!==null&&(r.prev=m,r.e.prev=m.e),m}finally{}}function ds(n,e,t){for(var r=n.next?n.next.e.nodes_start:t,o=e?e.e.nodes_start:t,i=n.e.nodes_start;i!==r;){var l=Zi(i);o.before(i),i=l}}function Lt(n,e,t){e===null?n.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}function da(n,e,t){Qi(()=>{var r=Eo(()=>e(n,t==null?void 0:t())||{});if(t&&(r!=null&&r.update)){var o=!1,i={};xr(()=>{var l=t();el(l),o&&Js(i,l)&&(i=l,r.update(l))}),o=!0}if(r!=null&&r.destroy)return()=>r.destroy()})}function Yl(n,e,t=e){var r=qs();Oi(n,"input",o=>{var i=o?n.defaultValue:n.value;if(i=Fr(n)?zr(i):i,t(i),r&&i!==(i=e())){var l=n.selectionStart,u=n.selectionEnd;n.value=i??"",u!==null&&(n.selectionStart=l,n.selectionEnd=Math.min(u,n.value.length))}}),(it&&n.defaultValue!==n.value||Eo(e)==null&&n.value)&&t(Fr(n)?zr(n.value):n.value),xr(()=>{var o=e();Fr(n)&&o===zr(n.value)||n.type==="date"&&!o&&!n.value||o!==n.value&&(n.value=o??"")})}function Fr(n){var e=n.type;return e==="number"||e==="range"}function zr(n){return n===""?null:+n}function We(n){var e=Dt(0);return function(){return arguments.length===1?(N(e,f(e)+1),arguments[0]):(f(e),n())}}function Xl(n){N(n,n.v+1)}function ql(n){let e=0,t=Dt(0),r;return()=>{tl()&&(f(t),xr(()=>(e===0&&(r=Eo(()=>n(()=>Xl(t)))),e+=1,()=>{nl().then(()=>{e-=1,e===0&&(r==null||r(),r=void 0)})})))}}function Jl(){const n=new Set,e=u=>(n.add(u),()=>n.delete(u)),t=u=>e(d=>{const h=u==null?void 0:u[d.type];if(h)return h(d)});return{eventEmitter:{subscribeOnMount:u=>{Ie(()=>t(u))},broadcast:u=>{n.forEach(d=>{d(u)})},broadcastAsync:u=>{const d=()=>Array.from(n).map(h=>h(u));return Promise.all(d())}}}}function Zl(n,e){k(e,!1);const t=St(),r=["Space","ArrowUp","ArrowDown"],o=["input","textarea","select"],i=d=>{var h,p;return!o.includes((p=(h=d==null?void 0:d.target)==null?void 0:h.tagName)==null?void 0:p.toLowerCase())};function l(d){if(i(d)){const p=d.key===" "?"Space":d.key;r.includes(p)&&d.preventDefault(),p&&t.eventEmitter.broadcast({type:"hotKey",key:p,action:"keyDown"})}}function u(d){if(i(d)){const p=d.key===" "?"Space":d.key;r.includes(p)&&d.preventDefault(),p&&t.eventEmitter.broadcast({type:"hotKey",key:p,action:"keyUp"})}}Ie(()=>{window.addEventListener("keydown",l),window.addEventListener("keyup",u)}),Pn(()=>{window.removeEventListener("keydown",l),window.removeEventListener("keyup",u)}),Ee(),B()}function Ql(n,e){k(e,!1);const t=()=>{V.autoSpinsCounter=0,V.isSpaceHold=!0,fe.updateIsTurbo(!0,{persistent:!0})},r=()=>{V.isSpaceHold=!1,fe.updateIsTurbo(!1,{persistent:!0})};Ee(),Lo(n,{hotkey:"Space",onhold:t,onholdend:r}),B()}function Bo(n,e){k(e,!0),Ie(()=>e.onmount()),B()}const fa="@@board",eu=n=>{Kt(fa,n)},tu=()=>jt(fa);function lr(n,e){k(e,!0),eu({animate:e.animate});var t=E(),r=w(t);D(r,()=>e.children),g(n,t),B()}var nu=L("<button><!></button>");function $t(n,e){const t=vn(e,"disabled",3,!1),r=me(e,["$$slots","$$events","$$legacy","debug","disabled","onclick","children"]);var o=nu();let i;var l=te(o);D(l,()=>e.children),ee(o),ae(()=>i=ol(o,i,{class:"button",disabled:t(),onclick:e.onclick,...r,[sl]:{debug:e.debug,disabled:t()}},"svelte-vbgtis")),g(n,o)}var ru=L('<div class="wrap svelte-15ij6hr"><div class="content-wrap svelte-15ij6hr"><div></div></div></div>');function Pr(n,e){k(e,!0);var t=ru(),r=te(t),o=te(r);let i;ct(o,22,()=>e.options,l=>l,(l,u,d)=>{$t(l,{onclick:()=>{e.onchange(u)},children:(h,p)=>{var s=E(),a=w(s);D(a,()=>e.option,()=>({option:u,index:f(d)})),g(h,s)},$$slots:{default:!0}})}),ee(o),ee(r),ee(t),ae(()=>i=Vt(o,1,"grid svelte-15ij6hr",null,i,{miniSize:e.miniSize})),g(n,t),B()}function ou(n,e){k(e,!0);const t=b(()=>e.options.findIndex(h=>h===e.value)),r=b(()=>f(t)===0),o=b(()=>f(t)===e.options.length-1),i=()=>e.onchange(e.options[f(t)-1]),l=()=>e.onchange(e.options[f(t)+1]);var u=E(),d=w(u);D(d,()=>e.children,()=>({disabledDown:f(r),disabledUp:f(o),toggleDown:i,toggleUp:l})),g(n,u),B()}var fs=!1,en,bn,wr,Sr,ha;const Xo=class Xo extends Date{constructor(...t){super(...t);Ke(this,Sr);Ke(this,en,Dt(super.getTime()));Ke(this,bn,new Map);Ke(this,wr,rs);fs||$n(this,Sr,ha).call(this)}};en=new WeakMap,bn=new WeakMap,wr=new WeakMap,Sr=new WeakSet,ha=function(){fs=!0;var t=Xo.prototype,r=Date.prototype,o=Object.getOwnPropertyNames(r);for(const i of o)(i.startsWith("get")||i.startsWith("to")||i==="valueOf")&&(t[i]=function(...l){if(l.length>0)return f(ye(this,en)),r[i].apply(this,l);var u=ye(this,bn).get(i);if(u===void 0){const d=rs;os(ye(this,wr)),u=b(()=>(f(ye(this,en)),r[i].apply(this,l))),ye(this,bn).set(i,u),os(d)}return f(u)}),i.startsWith("set")&&(t[i]=function(...l){var u=r[i].apply(this,l);return N(ye(this,en),r.getTime.call(this)),u})};let ao=Xo;var wn,Sn;class ma{constructor(e,t){Ke(this,wn);Ke(this,Sn);an(this,wn,e),an(this,Sn,ql(t))}get current(){return ye(this,Sn).call(this),ye(this,wn).call(this)}}wn=new WeakMap,Sn=new WeakMap;function hs(n){return Object.prototype.toString.call(n)==="[object Date]"}function su(n){return n}function pa(n){return--n*n*((1.70158+1)*n+1.70158)+1}function io(n){return n<.5?4*n*n*n:.5*Math.pow(2*n-2,3)+1}function au(n){return n<.5?8*Math.pow(n,4):-8*Math.pow(n-1,4)+1}function lo(n,e){if(n===e||n!==n)return()=>n;const t=typeof n;if(t!==typeof e||Array.isArray(n)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(n)){const r=e.map((o,i)=>lo(n[i],o));return o=>r.map(i=>i(o))}if(t==="object"){if(!n||!e)throw new Error("Object cannot be null");if(hs(n)&&hs(e)){const i=n.getTime(),u=e.getTime()-i;return d=>new Date(i+d*u)}const r=Object.keys(e),o={};return r.forEach(i=>{o[i]=lo(n[i],e[i])}),i=>{const l={};return r.forEach(u=>{l[u]=o[u](i)}),l}}if(t==="number"){const r=e-n;return o=>n+o*r}return()=>e}var yt,tn,xn,Wt;const qo=class qo{constructor(e,t={}){Ke(this,yt,Dt(void 0));Ke(this,tn,Dt(void 0));Ke(this,xn);Ke(this,Wt,null);ye(this,yt).v=ye(this,tn).v=e,an(this,xn,t)}static of(e,t){const r=new qo(e(),t);return xr(()=>{r.set(e())}),r}set(e,t){var s;N(ye(this,tn),e);let{delay:r=0,duration:o=400,easing:i=su,interpolate:l=lo}={...ye(this,xn),...t};if(o===0)return(s=ye(this,Wt))==null||s.abort(),N(ye(this,yt),e),Promise.resolve();const u=al.now()+r;let d,h=!1,p=ye(this,Wt);return an(this,Wt,il(a=>{if(a<u)return!0;if(!h){h=!0;const m=ye(this,yt).v;d=l(m,e),typeof o=="function"&&(o=o(m,e)),p==null||p.abort()}const c=a-u;return c>o?(N(ye(this,yt),e),!1):(N(ye(this,yt),d(i(c/o))),!0)})),ye(this,Wt).promise}get current(){return f(ye(this,yt))}get target(){return f(ye(this,tn))}set target(e){this.set(e)}};yt=new WeakMap,tn=new WeakMap,xn=new WeakMap,Wt=new WeakMap;let De=qo;const Oe=1e3,At={modal:50,dialog:100};var iu=L('<div class="ui-popup-standard-content-wrap svelte-1byxkez"><!></div>');function nt(n,e){k(e,!0);var t=iu(),r=te(t);D(r,()=>e.children),ee(t),ae(()=>In(t,"style",`--maxWidth: ${e.maxWidth??""}; --zIndex: 100`)),g(n,t),B()}var Cn=We(()=>_e),lu=L("<span> </span> <p> </p>",1),uu=L("<p> </p>"),cu=L("<span>unknown error</span>"),du=L('<span>Sorry, something went wrong.</span> <div class="scrollY error-text svelte-fzvoja"><!></div>',1);function fu(n,e){k(e,!1),Ee();var t=E(),r=w(t);{var o=i=>{xt(i,{get zIndex(){return At.modal},persistent:!0,onclose:()=>Cn(Cn().modal=null),children:(l,u)=>{nt(l,{maxWidth:"100%",children:(d,h)=>{var p=du();const s=ge(()=>{var v;return(v=Cn().modal)==null?void 0:v.error});var a=x(w(p),2),c=te(a);{var m=v=>{var y=E(),S=w(y);{var A=T=>{var C=lu(),O=w(C),K=te(O,!0);ee(O);var W=x(O,2),X=te(W,!0);ee(W),ae((H,U)=>{ue(K,H),ue(X,U)},[()=>JSON.stringify(f(s).error||"unknown"),()=>JSON.stringify(f(s).message||"unknown")],ge),g(T,C)},P=T=>{var C=uu(),O=te(C,!0);ee(C),ae(()=>ue(O,f(s))),g(T,C)};Q(S,T=>{var C,O;(C=f(s))!=null&&C.error&&((O=f(s))!=null&&O.message)?T(A):T(P,!1)})}g(v,y)},_=v=>{var y=cu();g(v,y)};Q(c,v=>{f(s)?v(m):v(_,!1)})}ee(a),g(d,p)},$$slots:{default:!0}})},$$slots:{default:!0}})};Q(r,i=>{var l;((l=Cn().modal)==null?void 0:l.name)==="error"&&i(o)})}g(n,t),B()}var hu=L('<div class="rectangle svelte-1xcebtp"></div>');function Qe(n,e){const t=vn(e,"background",3,"black"),r=vn(e,"border",3,"none");var o=hu();ae(()=>In(o,"style",`
	--width-value: ${e.width??""};
	--height-value: ${e.height??""};
	--background-value: ${t()??""};
	--border-value: ${r()??""};
`)),g(n,o)}var mu=L('<div class="ui-modal-title-wrap svelte-16q8wi8"><!></div>');function En(n,e){k(e,!0);var t=mu(),r=te(t);D(r,()=>e.children),ee(t),g(n,t),B()}var pu=L("<div><!></div>");function Je(n,e){k(e,!0);let t=Z(null);var r=pu();let o;var i=te(r);D(i,()=>e.children,()=>({element:f(t)})),ee(r),la(r,l=>N(t,l),()=>f(t)),ae(()=>o=Vt(r,1,`content ${e.type??""}`,"svelte-l3vzfy",o,{scrollX:!e.noScroll&&e.type==="row",scrollY:!e.noScroll&&e.type==="column"})),g(n,r),B()}var _u=L('<div class="ui-modal-button-wrap svelte-5vvei4"><div><!></div></div>');function Mo(n,e){k(e,!0);var t=_u(),r=te(t),o=te(r);D(o,()=>e.children),ee(r),ee(t),ae(()=>Vt(r,1,ll(e.type),"svelte-5vvei4")),g(n,t),B()}var vu=L('<div class="base-button-content svelte-1gyd1e8"><!></div>');function et(n,e){k(e,!0);var t=vu(),r=te(t);D(r,()=>e.children),ee(t),g(n,t),B()}const ms={XGC:"GC",XSC:"SC"},_a=n=>n/ul,va=n=>{const e=_a(n);return V.wageredBetAmount*e},yu=n=>Number.parseFloat(`${n}`),Ln=n=>V.currency in ms?`${ms[V.currency]} ${yu(n).toFixed(2)}`:cl.number(n,{minimumFractionDigits:2,maximumFractionDigits:2,style:"currency",currency:V.currency}),Ht=n=>{const e=va(n);return Ln(e)};var Rn=We(()=>V),gu=L('<span style="font-size: 2rem;">-</span>'),bu=L("<!> <!>",1),wu=L('<span style="font-size: 2rem;">+</span>'),Su=L("<!> <!>",1),xu=L('<div class="toggle-wrap svelte-vim83m"><!> <span class="amount"> </span> <!></div>');function ya(n,e){k(e,!1);const{eventEmitter:t}=St(),r="2.5rem";Ee(),ou(n,{get value(){return Rn().betAmount},get options(){return Mt.betAmountOptions},onchange:i=>{Rn(Rn().betAmount=i),t.broadcast({type:"soundPressGeneral"})},children:(i,l)=>{let u=()=>l==null?void 0:l().disabledDown,d=()=>l==null?void 0:l().disabledUp,h=()=>l==null?void 0:l().toggleDown,p=()=>l==null?void 0:l().toggleUp;var s=xu(),a=te(s);$t(a,{"data-test":"down-button",get disabled(){return u()},get onclick(){return h()},children:(v,y)=>{var S=bu(),A=w(S);Qe(A,{width:r,height:r});var P=x(A,2);et(P,{children:(T,C)=>{var O=gu();g(T,O)},$$slots:{default:!0}}),g(v,S)},$$slots:{default:!0}});var c=x(a,2),m=te(c,!0);ee(c);var _=x(c,2);$t(_,{"data-test":"up-button",get disabled(){return d()},get onclick(){return p()},children:(v,y)=>{var S=Su(),A=w(S);Qe(A,{width:r,height:r});var P=x(A,2);et(P,{children:(T,C)=>{var O=wu();g(T,O)},$$slots:{default:!0}}),g(v,S)},$$slots:{default:!0}}),ee(s),ae(v=>ue(m,v),[()=>Ln(Rn().betAmount)],ge),g(i,s)},$$slots:{default:!0}}),B()}const Au=new ma(()=>window.innerWidth,n=>Ao(window,"resize",n)),Tu=new ma(()=>window.innerHeight,n=>Ao(window,"resize",n));var An,Tn,uo,Vs;const Pu=new(Vs=class{constructor(){Ke(this,Tn);Ke(this,An,Dt(window.devicePixelRatio));$n(this,Tn,uo).call(this)}get current(){return f(ye(this,An)),window.devicePixelRatio}},An=new WeakMap,Tn=new WeakSet,uo=function(){const e=Ao(window.matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`),"change",()=>{N(ye(this,An),window.devicePixelRatio),e(),$n(this,Tn,uo).call(this)})},Vs),ps={wideSquare:1.3,narrowSquare:.8},Nn={smallMobile:375,mobile:480,tablet:820,largeTablet:1024},_s=n=>n.width/(n.height||1),Iu={desktop:{width:1920,height:1080},tablet:{width:1920,height:1920},landscape:{width:1920,height:1080},portrait:{width:1080,height:1920}},Eu=n=>{const e=()=>({width:Au.current??1,height:Tu.current??1}),t=()=>_s(e()),r=()=>t()>=ps.wideSquare?"longWidth":t()<=ps.narrowSquare?"longHeight":"almostSquare",o=()=>{const _=Math.min(e().width,e().height);return _<=Nn.smallMobile?"smallMobile":_<=Nn.mobile?"mobile":_<=Nn.tablet?"tablet":_<=Nn.largeTablet?"largeTablet":"desktop"},i=()=>r()==="almostSquare"?"tablet":r()==="longHeight"?"portrait":o()==="mobile"||o()==="smallMobile"?"landscape":"desktop",l=()=>["portrait","almostSquare"].includes(i()),u=_=>()=>{const v=e().width*.5,y=e().height*.5,S=_[i()],A=e().width/S.width,P=e().height/S.height,T=Math.min(A,P);return{x:v,y,scale:T,width:S.width,height:S.height,anchor:.5}},d=u(n.mainSizesMap),h=u(Iu),p=({scale:_,ratio:v})=>_s(e())<v?{x:e().width/2,y:e().height/2,height:e().height*_}:{x:e().width/2,y:e().height/2,width:e().width*_},s=({scale:_})=>p({scale:_,ratio:n.backgroundRatio.normal}),a=({scale:_})=>p({scale:_,ratio:n.backgroundRatio.portrait});return{stateLayout:ne({showLoadingScreen:!0}),stateLayoutDerived:{canvasSizes:e,canvasRatio:t,canvasRatioType:r,canvasSizeType:o,layoutType:i,isStacked:l,mainLayout:d,mainLayoutStandard:h,normalBackgroundLayout:s,portraitBackgroundLayout:a}}},ga="@@layout";function Lu(n){Kt(ga,n)}function ht(){return jt(ga)}const kt=n=>typeof n=="string",ku=n=>typeof n=="function",vs=new Map,ba="en";function Do(n){return[...Array.isArray(n)?n:[n],ba]}function $o(n,e,t){const r=Do(n);t||(t="default");let o;if(typeof t=="string")switch(o={day:"numeric",month:"short",year:"numeric"},t){case"full":o.weekday="long";case"long":o.month="long";break;case"short":o.month="numeric";break}else o=t;return ur(()=>cr("date",r,t),()=>new Intl.DateTimeFormat(r,o)).format(kt(e)?new Date(e):e)}function Bu(n,e,t){let r;if(t||(t="default"),typeof t=="string")switch(r={second:"numeric",minute:"numeric",hour:"numeric"},t){case"full":case"long":r.timeZoneName="short";break;case"short":delete r.second}else r=t;return $o(n,e,r)}function co(n,e,t){const r=Do(n);return ur(()=>cr("number",r,t),()=>new Intl.NumberFormat(r,t)).format(e)}function ys(n,e,t,{offset:r=0,...o}){const i=Do(n),l=e?ur(()=>cr("plural-ordinal",i),()=>new Intl.PluralRules(i,{type:"ordinal"})):ur(()=>cr("plural-cardinal",i),()=>new Intl.PluralRules(i,{type:"cardinal"}));return o[t]??o[l.select(t-r)]??o.other}function ur(n,e){const t=n();let r=vs.get(t);return r||(r=e(),vs.set(t,r)),r}function cr(n,e,t){const r=e.join("-");return`${n}-${r}-${JSON.stringify(t)}`}const wa=/\\u[a-fA-F0-9]{4}|\\x[a-fA-F0-9]{2}/,Sa="%__lingui_octothorpe__%",Mu=(n,e,t={})=>{const r=e||n,o=l=>typeof l=="object"?l:t[l],i=(l,u)=>{const d=Object.keys(t).length?o("number"):void 0,h=co(r,l,d);return u.replace(new RegExp(Sa,"g"),h)};return{plural:(l,u)=>{const{offset:d=0}=u,h=ys(r,!1,l,u);return i(l-d,h)},selectordinal:(l,u)=>{const{offset:d=0}=u,h=ys(r,!0,l,u);return i(l-d,h)},select:Du,number:(l,u)=>co(r,l,o(u)||{style:u}),date:(l,u)=>$o(r,l,o(u)||u),time:(l,u)=>Bu(r,l,o(u)||u)}},Du=(n,e)=>e[n]??e.other;function $u(n,e,t){return(r={},o)=>{const i=Mu(e,t,o),l=(d,h=!1)=>Array.isArray(d)?d.reduce((p,s)=>{if(s==="#"&&h)return p+Sa;if(kt(s))return p+s;const[a,c,m]=s;let _={};c==="plural"||c==="selectordinal"||c==="select"?Object.entries(m).forEach(([y,S])=>{_[y]=l(S,c==="plural"||c==="selectordinal")}):_=m;let v;if(c){const y=i[c];v=y(r[a],_)}else v=r[a];return v==null?p:p+v},""):d,u=l(n);return kt(u)&&wa.test(u)?dl.unraw(u):kt(u)?u:u?String(u):""}}var Ou=Object.defineProperty,Cu=(n,e,t)=>e in n?Ou(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Ru=(n,e,t)=>(Cu(n,e+"",t),t);class Nu{constructor(){Ru(this,"_events",{})}on(e,t){var r;return(r=this._events)[e]??(r[e]=[]),this._events[e].push(t),()=>this.removeListener(e,t)}removeListener(e,t){const r=this._getListeners(e);if(!r)return;const o=r.indexOf(t);~o&&r.splice(o,1)}emit(e,...t){const r=this._getListeners(e);r&&r.map(o=>o.apply(this,t))}_getListeners(e){const t=this._events[e];return Array.isArray(t)?t:!1}}var Gu=Object.defineProperty,Wu=(n,e,t)=>e in n?Gu(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Rt=(n,e,t)=>(Wu(n,typeof e!="symbol"?e+"":e,t),t);class Fu extends Nu{constructor(e){super(),Rt(this,"_locale",""),Rt(this,"_locales"),Rt(this,"_localeData",{}),Rt(this,"_messages",{}),Rt(this,"_missing"),Rt(this,"_messageCompiler"),Rt(this,"t",this._.bind(this)),e.missing!=null&&(this._missing=e.missing),e.messages!=null&&this.load(e.messages),e.localeData!=null&&this.loadLocaleData(e.localeData),(typeof e.locale=="string"||e.locales)&&this.activate(e.locale??ba,e.locales)}get locale(){return this._locale}get locales(){return this._locales}get messages(){return this._messages[this._locale]??{}}get localeData(){return this._localeData[this._locale]??{}}_loadLocaleData(e,t){const r=this._localeData[e];r?Object.assign(r,t):this._localeData[e]=t}setMessagesCompiler(e){return this._messageCompiler=e,this}loadLocaleData(e,t){typeof e=="string"?this._loadLocaleData(e,t):Object.keys(e).forEach(r=>this._loadLocaleData(r,e[r])),this.emit("change")}_load(e,t){const r=this._messages[e];r?Object.assign(r,t):this._messages[e]=t}load(e,t){typeof e=="string"&&typeof t=="object"?this._load(e,t):Object.entries(e).forEach(([r,o])=>this._load(r,o)),this.emit("change")}loadAndActivate({locale:e,locales:t,messages:r}){this._locale=e,this._locales=t||void 0,this._messages[this._locale]=r,this.emit("change")}activate(e,t){this._locale=e,this._locales=t,this.emit("change")}_(e,t,r){if(!this.locale)throw new Error("Lingui: Attempted to call a translation function without setting a locale.\nMake sure to call `i18n.activate(locale)` before using Lingui functions.\nThis issue may also occur due to a race condition in your initialization logic.");let o=r==null?void 0:r.message;e||(e=""),kt(e)||(t=e.values||t,o=e.message,e=e.id);const i=this.messages[e],l=i===void 0,u=this._missing;if(u&&l)return ku(u)?u(this._locale,e):u;l&&this.emit("missing",{id:e,locale:this._locale});let d=i||o||e;return kt(d)&&(this._messageCompiler?d=this._messageCompiler(d):console.warn(`Uncompiled message detected! Message:

> ${d}

That means you use raw catalog or your catalog doesn't have a translation for the message and fallback was used.
ICU features such as interpolation and plurals will not work properly for that message. 

Please compile your catalog first. 
`)),kt(d)&&wa.test(d)?JSON.parse(`"${d}"`):kt(d)?d:$u(d,this._locale,this._locales)(t,r==null?void 0:r.formats)}date(e,t){return $o(this._locales||this._locale,e,t)}number(e,t){return co(this._locales||this._locale,e,t)}}function zu(n={}){return new Fu(n)}const j=zu(),Se={bet:()=>j._(j.t("BET")),max:()=>j._(j.t("MAX")),betMenu:()=>j._(j.t("BET MENU")),selectYourBet:()=>j._(j.t("SELECT YOUR BET")),confirm:()=>j._(j.t("CONFIRM")),masterVolume:()=>j._(j.t("MASTER VOLUME")),musicVolume:()=>j._(j.t("MUSIC VOLUME")),soundEffectVolume:()=>j._(j.t("SOUND EFFECT VOLUME")),autoSpins:()=>j._(j.t("AUTO SPINS")),numberOfRounds:()=>j._(j.t("NUMBER OF ROUNDS")),advanced:()=>j._(j.t("ADVANCED")),singleWinLimit:()=>j._(j.t("SINGLE WIN LIMIT")),lossLimit:()=>j._(j.t("LOSS LIMIT")),startAutoplay:()=>j._(j.t("START AUTOPLAY")),notification:()=>j._(j.t("NOTIFICATION")),autoSpinsStopInfo:()=>j._(j.t("AUTO PLAY HAS STOPPED DUE TO")),insufficientFunds:()=>j._(j.t("INSUFFICIENT FUNDS TO PLACE THIS BET. PLEASE ADD FUNDS TO YOUR ACCOUNT OR LOWER THE BET LEVEL.")),lossLimitReached:()=>j._(j.t("LOSS LIMIT REACHED")),singleWinLimitReached:()=>j._(j.t("SINGLE WIN LIMIT REACHED")),settings:()=>j._(j.t("SETTINGS"))};var Hu=L('<span style="font-size: 1rem;"> </span>'),Uu=L("<!> <!>",1);function Ku(n,e){k(e,!0);const{stateLayoutDerived:t}=ht(),r=b(()=>t.layoutType()==="landscape"?15:18),o=b(()=>[...Mt.betMenuOptions.slice(0,f(r)-1),...Mt.betMenuOptions.slice(-1)].filter((u,d,h)=>h.indexOf(u)===d)),i=u=>u===f(o)[f(o).length-1],l=u=>Math.abs(u)>999999?`${(Math.abs(u)/1e6).toFixed(2)}M`:Math.abs(u)>999?`${(Math.abs(u)/1e3).toFixed(2)}K`:Math.abs(u).toFixed(2);Pr(n,{get value(){return V.betAmount},get options(){return f(o)},onchange:d=>V.betAmount=d,option:(d,h)=>{let p=()=>h==null?void 0:h().option;var s=Uu(),a=w(s);const c=b(()=>p()===V.betAmount?"2px white solid":"2px black solid");Qe(a,{width:"100%",height:"2rem",get border(){return f(c)}});var m=x(a,2);et(m,{children:(_,v)=>{var y=Hu(),S=te(y,!0);ee(y),ae(A=>ue(S,A),[()=>i(p())?Se.max():l(p())]),g(_,y)},$$slots:{default:!0}}),g(d,s)},$$slots:{option:!0}}),B()}var un=We(()=>_e),ju=L("<span> </span> <!> <!>",1),Vu=L('<span style="font-size: 1rem;"> </span>'),Yu=L("<!> <!>",1),Xu=L("<!> <!> <!>",1);function qu(n,e){k(e,!1);const t=()=>{un(un().modal=null)};Ee();var r=E(),o=w(r);{var i=l=>{xt(l,{get zIndex(){return At.modal},onclose:()=>un(un().modal=null),children:(u,d)=>{nt(u,{maxWidth:"100%",children:(h,p)=>{var s=Xu(),a=w(s);En(a,{children:(_,v)=>{lt();var y=je();ae(S=>ue(y,S),[()=>Se.betMenu()],ge),g(_,y)},$$slots:{default:!0}});var c=x(a,2);Je(c,{type:"column",children:(_,v)=>{var y=ju(),S=w(y),A=te(S,!0);ee(S);var P=x(S,2);ya(P,{});var T=x(P,2);Ku(T,{}),ae(C=>ue(A,C),[()=>Se.selectYourBet()],ge),g(_,y)},$$slots:{default:!0}});var m=x(c,2);Mo(m,{type:"full-width",children:(_,v)=>{$t(_,{"data-test":"confirm-button",onclick:t,children:(y,S)=>{var A=Yu(),P=w(A);Qe(P,{width:"100%",height:"3rem"});var T=x(P,2);et(T,{children:(C,O)=>{var K=Vu(),W=te(K,!0);ee(K),ae(X=>ue(W,X),[()=>Se.confirm()],ge),g(C,K)},$$slots:{default:!0}}),g(y,A)},$$slots:{default:!0}})},$$slots:{default:!0}}),g(h,s)},$$slots:{default:!0}})},$$slots:{default:!0}})};Q(o,l=>{var u;((u=un().modal)==null?void 0:u.name)==="betAmountMenu"&&l(i)})}g(n,r),B()}var Ju=L('<div class="bonus-card-wrap svelte-2dvnuw"><div class="info svelte-2dvnuw"><!> <!> <!></div> <!></div>');function Zu(n,e){k(e,!0);var t=Ju(),r=te(t),o=te(r);D(o,()=>e.title);var i=x(o,2);D(i,()=>e.description);var l=x(i,2);D(l,()=>e.price),ee(r);var u=x(r,2);D(u,()=>e.button),ee(t),g(n,t),B()}var Qu=L('<div class="title svelte-xtzxkt"> </div>'),ec=L('<div class="description svelte-xtzxkt"> </div>'),tc=L('<div class="price svelte-xtzxkt"> </div>'),nc=L('<span style="font-size: 1rem;"> </span>'),rc=L("<!> <!>",1);function gs(n,e){k(e,!0);const{eventEmitter:t}=St();var r=E(),o=w(r);ct(o,17,()=>e.list,gt,(i,l)=>{var u=E(),d=w(u);{var h=p=>{Zu(p,{title:_=>{var v=Qu(),y=te(v,!0);ee(v),ae(()=>ue(y,f(l).text.title)),g(_,v)},description:_=>{var v=E(),y=w(v);{var S=A=>{var P=ec(),T=te(P,!0);ee(P),ae(()=>ue(T,f(l).text.description)),g(A,P)};Q(y,A=>{var P,T;(T=(P=f(l))==null?void 0:P.text)!=null&&T.description&&A(S)})}g(_,v)},price:_=>{var v=tc(),y=te(v,!0);ee(v),ae(S=>ue(y,S),[()=>`${Ln(V.betAmount*f(l).costMultiplier)}`]),g(_,v)},button:_=>{const v=b(()=>V.betAmount<=0||V.balanceAmount<V.betAmount*f(l).costMultiplier);$t(_,{onclick:()=>{ra.selectedBetModeKey=f(l).mode,t.broadcast({type:"buyBonusConfirm"}),t.broadcast({type:"soundPressGeneral"})},get disabled(){return f(v)},children:(y,S)=>{var A=rc(),P=w(A);Qe(P,{width:"100%",height:"2rem",border:"2px solid white;"});var T=x(P,2);et(T,{children:(C,O)=>{var K=nc(),W=te(K,!0);ee(K),ae(()=>ue(W,f(l).text.button)),g(C,K)},$$slots:{default:!0}}),g(y,A)},$$slots:{default:!0}})},$$slots:{title:!0,description:!0,price:!0,button:!0}})};Q(d,p=>{f(l).type!=="default"&&p(h)})}g(i,u)}),g(n,r),B()}var oc=L('<div class="bonuses-wrap svelte-8r195e"><!> <!></div>'),sc=L("<!> <!>",1);function bs(n,e){k(e,!0),nt(n,{maxWidth:"100%",children:(t,r)=>{var o=sc(),i=w(o);D(i,()=>e.betAmount);var l=x(i,2);Je(l,{type:"column",children:(u,d)=>{var h=oc(),p=te(h);D(p,()=>e.bonusCardsActivate);var s=x(p,2);D(s,()=>e.bonusCardsBuy),ee(h),g(u,h)},$$slots:{default:!0}}),g(t,o)},$$slots:{default:!0}}),B()}function Qt(n,e){const t=new fl.ResizeObserver(([r])=>{e(r.contentRect)});return t.observe(n),{destroy(){t.disconnect()}}}var ac=L("<div><!></div>"),ic=L('<div class="badge-amount-wrap-scaled svelte-rmrbdn"><!></div>'),lc=L('<div><div class="bonuses svelte-rmrbdn"><!> <!></div> <!></div> <!>',1);function uc(n,e){k(e,!0);const{stateLayoutDerived:t}=ht();let r=Z(ne({width:0,height:0,left:0,top:0}));const o=b(()=>t.canvasSizes().width/(240*(e.maxListLength||1))),i=b(()=>{var d;return(t.canvasSizes().height-250)/(((d=f(r))==null?void 0:d.height)||0)}),l=b(()=>Math.min(f(i),f(o))),u=b(()=>f(l)<1);nt(n,{maxWidth:"100%",children:(d,h)=>{var p=lc(),s=w(p);let a;var c=te(s),m=te(c);Je(m,{type:"row",noScroll:!0,children:(P,T)=>{var C=E(),O=w(C);D(O,()=>e.bonusCardsActivate),g(P,C)},$$slots:{default:!0}});var _=x(m,2);Je(_,{type:"row",noScroll:!0,children:(P,T)=>{var C=E(),O=w(C);D(O,()=>e.bonusCardsBuy),g(P,C)},$$slots:{default:!0}}),ee(c),da(c,(P,T)=>Qt==null?void 0:Qt(P,T),()=>P=>N(r,ne(P)));var v=x(c,2);{var y=P=>{var T=ac(),C=te(T);D(C,()=>e.betAmount),ee(T),g(P,T)};Q(v,P=>{f(u)||P(y)})}ee(s);var S=x(s,2);{var A=P=>{var T=ic(),C=te(T);D(C,()=>e.betAmount),ee(T),g(P,T)};Q(S,P=>{f(u)&&P(A)})}ae(P=>{a=Vt(s,1,"wrap svelte-rmrbdn",null,a,{scaled:f(u)}),In(c,"style",`transform: scale(${P??""});`)},[()=>Math.min(f(l),1)]),g(d,p)},$$slots:{default:!0}}),B()}var cc=L('<div class="bonuses-wrap svelte-8l82fa"><div class="bonuses svelte-8l82fa"><!> <!></div></div> <div class="badge-amount-wrap svelte-8l82fa"><!></div>',1);function dc(n,e){k(e,!0);const{stateLayoutDerived:t}=ht();let r=Z(ne({width:0,height:0,left:0,top:0}));const o=b(()=>t.canvasSizes().height/(270*2)),i=b(()=>{var u;return(t.canvasSizes().width-250)/(((u=f(r))==null?void 0:u.width)||0)}),l=b(()=>Math.min(f(o),f(i)));nt(n,{maxWidth:"100%",children:(u,d)=>{var h=cc(),p=w(h),s=te(p),a=te(s);Je(a,{type:"row",noScroll:!0,children:(v,y)=>{var S=E(),A=w(S);D(A,()=>e.bonusCardsActivate),g(v,S)},$$slots:{default:!0}});var c=x(a,2);Je(c,{type:"row",noScroll:!0,children:(v,y)=>{var S=E(),A=w(S);D(A,()=>e.bonusCardsBuy),g(v,S)},$$slots:{default:!0}}),ee(s),ee(p),da(p,(v,y)=>Qt==null?void 0:Qt(v,y),()=>v=>N(r,ne(v)));var m=x(p,2),_=te(m);D(_,()=>e.betAmount),ee(m),ae(v=>In(s,"style",`transform: scale(${v??""});`),[()=>Math.min(f(l),1)]),g(u,h)},$$slots:{default:!0}}),B()}function fc(n,e){k(e,!0);const{stateLayoutDerived:t}=ht(),r=b(()=>is.betModeMetaList().filter(p=>p.type==="activate")),o=b(()=>is.betModeMetaList().filter(p=>p.type==="buy")),i={desktop:bs,tablet:bs,portrait:uc,landscape:dc},l=b(()=>i[t.layoutType()]);var u=E(),d=w(u);{var h=p=>{xt(p,{get zIndex(){return At.modal},onclose:()=>_e.modal=null,children:(s,a)=>{var c=E(),m=w(c);const _=b(()=>Math.max(f(r).length,f(o).length));ua(m,()=>f(l),(v,y)=>{y(v,{get maxListLength(){return f(_)},betAmount:T=>{ya(T,{})},bonusCardsActivate:T=>{gs(T,{get list(){return f(r)}})},bonusCardsBuy:T=>{gs(T,{get list(){return f(o)}})},$$slots:{betAmount:!0,bonusCardsActivate:!0,bonusCardsBuy:!0}})}),g(s,c)},$$slots:{default:!0}})};Q(d,p=>{var s;((s=_e.modal)==null?void 0:s.name)==="buyBonus"&&p(h)})}g(n,u),B()}var ws=We(()=>V),cn=We(()=>_e),Gn=We(()=>se),hc=L('<span style="font-size: 1rem;"> </span>'),mc=L("<!> <!>",1),pc=L("<!> <!> <!>",1);function _c(n,e){k(e,!1);const{eventEmitter:t}=St(),r=()=>{ws(ws().activeBetModeKey=ra.selectedBetModeKey),On.selectedBetModeData().type==="buy"&&t.broadcast({type:"bet"}),On.selectedBetModeData().type==="activate"&&(Gn(Gn().autoSpinsLossLimitText=ls),Gn(Gn().autoSpinsSingleWinLimitText=ls))};Ee();var o=E(),i=w(o);{var l=u=>{xt(u,{get zIndex(){return At.dialog},onclose:()=>cn(cn().modal={name:"buyBonus"}),children:(d,h)=>{nt(d,{maxWidth:"500px",children:(p,s)=>{var a=pc(),c=w(a);En(c,{children:(v,y)=>{lt();var S=je();ae(A=>ue(S,A),[()=>On.selectedBetModeData().text.title],ge),g(v,S)},$$slots:{default:!0}});var m=x(c,2);Je(m,{type:"column",children:(v,y)=>{lt();var S=je();ae(A=>ue(S,A),[()=>On.selectedBetModeData().text.dialog],ge),g(v,S)},$$slots:{default:!0}});var _=x(m,2);Mo(_,{type:"max-width",children:(v,y)=>{$t(v,{"data-test":"confirm-button",onclick:()=>{r(),t.broadcast({type:"soundPressGeneral"}),cn(cn().modal=null)},children:(S,A)=>{var P=mc(),T=w(P);Qe(T,{width:"100%",height:"3rem"});var C=x(T,2);et(C,{children:(O,K)=>{var W=hc(),X=te(W,!0);ee(W),ae(H=>ue(X,H),[()=>Se.confirm()],ge),g(O,W)},$$slots:{default:!0}}),g(S,P)},$$slots:{default:!0}})},$$slots:{default:!0}}),g(p,a)},$$slots:{default:!0}})},$$slots:{default:!0}})};Q(i,u=>{var d;((d=cn().modal)==null?void 0:d.name)==="buyBonusConfirm"&&u(l)})}g(n,o),B()}const vc=async({element:n,duration:e})=>{n&&(await ut(e+20),n.scroll({top:n.scrollHeight,behavior:"smooth"}))};var yc=L('<span style="font-size: 1rem;" data-test="round-options"> </span>'),gc=L("<!> <!>",1);function bc(n,e){k(e,!0);const{stateLayoutDerived:t}=ht(),r=us.filter(i=>i!=="1000"),o=b(()=>t.layoutType()==="landscape"?r:us);Pr(n,{get value(){return se.autoSpinsText},get options(){return f(o)},onchange:l=>se.autoSpinsText=l,option:(l,u)=>{let d=()=>u==null?void 0:u().option;var h=gc(),p=w(h);const s=b(()=>d()===se.autoSpinsText?"2px white solid":"2px black solid");Qe(p,{width:"100%",height:"2rem",get border(){return f(s)}});var a=x(p,2);et(a,{children:(c,m)=>{var _=yc();let v;var y=te(_,!0);ee(_),ae(()=>{v=Vt(_,1,"svelte-eq8ntj",null,v,{infinity:d()==="∞"}),ue(y,d())}),g(c,_)},$$slots:{default:!0}}),g(l,h)},$$slots:{option:!0}}),B()}var Wn=We(()=>se),wc=L('<span style="font-size: 1rem;"> </span>'),Sc=L("<!> <!>",1),xc=L('<span class="title svelte-hzlrh9"> </span> <!>',1);function Ac(n,e){k(e,!1),Ee();var t=xc(),r=w(t),o=te(r,!0);ee(r);var i=x(r,2);Pr(i,{miniSize:!0,get value(){return Wn().autoSpinsLossLimitText},options:hl,onchange:u=>Wn(Wn().autoSpinsLossLimitText=u),option:(u,d)=>{let h=()=>d==null?void 0:d().option;var p=Sc(),s=w(p);const a=ge(()=>h()===Wn().autoSpinsLossLimitText?"2px white solid":"2px black solid");Qe(s,{width:"100%",height:"2rem",get border(){return f(a)}});var c=x(s,2);et(c,{children:(m,_)=>{var v=wc();let y;var S=te(v,!0);ee(v),ae(()=>{y=Vt(v,1,"option-wrap svelte-hzlrh9",null,y,{infinity:h()==="∞"}),In(v,"data-test",`loss-limit-${h()??""}`),ue(S,h())}),g(m,v)},$$slots:{default:!0}}),g(u,p)},$$slots:{option:!0}}),ae(l=>ue(o,l),[()=>Se.lossLimit()],ge),g(n,t),B()}var Fn=We(()=>se),Tc=L('<span style="font-size: 1rem;" data-test="single-win-limit-options"> </span>'),Pc=L("<!> <!>",1),Ic=L('<span class="title svelte-127mkoc"> </span> <!>',1);function Ec(n,e){k(e,!1),Ee();var t=Ic(),r=w(t),o=te(r,!0);ee(r);var i=x(r,2);Pr(i,{miniSize:!0,get value(){return Fn().autoSpinsSingleWinLimitText},options:ml,onchange:u=>Fn(Fn().autoSpinsSingleWinLimitText=u),option:(u,d)=>{let h=()=>d==null?void 0:d().option;var p=Pc(),s=w(p);const a=ge(()=>h()===Fn().autoSpinsSingleWinLimitText?"2px white solid":"2px black solid");Qe(s,{width:"100%",height:"2rem",get border(){return f(a)}});var c=x(s,2);et(c,{children:(m,_)=>{var v=Tc();let y;var S=te(v,!0);ee(v),ae(()=>{y=Vt(v,1,"option-wrap svelte-127mkoc",null,y,{infinity:h()==="∞"}),ue(S,h())}),g(m,v)},$$slots:{default:!0}}),g(u,p)},$$slots:{option:!0}}),ae(l=>ue(o,l),[()=>Se.singleWinLimit()],ge),g(n,t),B()}var Lc=L("<span> </span>"),kc=L('<div style="border: 2px solid white; border-radius: 10px;"><!> <!></div>'),Bc=L("<!> <!>",1);function Mc(n,e){k(e,!0);const{eventEmitter:t}=St(),r=100;let o=Z(!1);be(()=>{f(o)&&e.ontoggle(r)});var i=Bc(),l=w(i);const u=b(()=>fe.activeBetMode().type==="activate");pl(l,{get open(){return f(o)},get disabled(){return f(u)},onchange:p=>{N(o,ne(p)),t.broadcast({type:"soundPressGeneral"})},children:(p,s)=>{var a=Lc(),c=te(a,!0);ee(a),ae(m=>ue(c,m),[()=>Se.advanced()]),g(p,a)},$$slots:{default:!0}});var d=x(l,2);{var h=p=>{var s=kc(),a=te(s);Ac(a,{});var c=x(a,2);Ec(c,{}),ee(s),_l(3,s,()=>vl,()=>({duration:r})),g(p,s)};Q(d,p=>{f(o)&&p(h)})}g(n,i),B()}var at=We(()=>V),Ss=We(()=>_e),Dc=L('<span style="font-size: 1rem;"> </span>'),$c=L("<!> <!>",1);function Oc(n,e){k(e,!1);const{eventEmitter:t}=St(),r=()=>{at(at().autoSpinsCounter=yl[se.autoSpinsText]),at(at().autoSpinsLossLimitAmount=at().betAmount*gl[se.autoSpinsLossLimitText]),at(at().autoSpinsSingleWinLimitAmount=at().betAmount*bl[se.autoSpinsSingleWinLimitText]),fe.activeBetMode().type==="buy"&&at(at().activeBetModeKey="BASE"),t.broadcast({type:"soundPressGeneral"}),t.broadcast({type:"autoBet"}),Ss(Ss().modal=null)};Ee();const o=ge(()=>!fe.isBetCostAvailable());$t(n,{get disabled(){return f(o)},onclick:r,children:(i,l)=>{var u=$c(),d=w(u);Qe(d,{width:"100%",height:"3rem"});var h=x(d,2);et(h,{children:(p,s)=>{var a=Dc(),c=te(a,!0);ee(a),ae(m=>ue(c,m),[()=>Se.startAutoplay()],ge),g(p,a)},$$slots:{default:!0}}),g(i,u)},$$slots:{default:!0}}),B()}var Hr=We(()=>_e),Cc=L('<div class="subtitle" data-test="number-of-rounds"> </div> <!> <!>',1),Rc=L("<!> <!> <!>",1);function Nc(n,e){k(e,!1),Ee();var t=E(),r=w(t);{var o=i=>{xt(i,{get zIndex(){return At.modal},onclose:()=>Hr(Hr().modal=null),children:(l,u)=>{nt(l,{maxWidth:"100%",children:(d,h)=>{var p=Rc(),s=w(p);En(s,{children:(m,_)=>{lt();var v=je();ae(y=>ue(v,y),[()=>Se.autoSpins()],ge),g(m,v)},$$slots:{default:!0}});var a=x(s,2);Je(a,{type:"column",children:(_,v)=>{let y=()=>v==null?void 0:v().element;var S=Cc(),A=w(S),P=te(A,!0);ee(A);var T=x(A,2);bc(T,{});var C=x(T,2);Mc(C,{ontoggle:O=>{y()&&vc({element:y(),duration:O})}}),ae(O=>ue(P,O),[()=>Se.numberOfRounds()],ge),g(_,S)},$$slots:{default:!0}});var c=x(a,2);Mo(c,{type:"full-width",children:(m,_)=>{Oc(m,{})},$$slots:{default:!0}}),g(d,p)},$$slots:{default:!0}})},$$slots:{default:!0}})};Q(r,i=>{var l;((l=Hr().modal)==null?void 0:l.name)==="autoSpin"&&i(o)})}g(n,t),B()}var Gc=L('<span class="text svelte-1kl734d" data-test="auto-spin-stop-info"> </span> <div class="scrollY info-text svelte-1kl734d" data-test="auto-spin-stop-content"> </div>',1),Wc=L("<!> <!>",1);function Fc(n,e){k(e,!0);const t=b(()=>({lossLimitReached:Se.lossLimitReached(),singleWinLimitReached:Se.singleWinLimitReached(),insufficientFunds:Se.insufficientFunds()}));var r=E(),o=w(r);{var i=l=>{xt(l,{get zIndex(){return At.modal},onclose:()=>_e.modal=null,children:(u,d)=>{nt(u,{maxWidth:"100%",children:(h,p)=>{var s=Wc(),a=w(s);En(a,{children:(m,_)=>{lt();var v=je();ae(y=>ue(v,y),[()=>Se.notification()]),g(m,v)},$$slots:{default:!0}});var c=x(a,2);Je(c,{type:"column",children:(m,_)=>{var v=Gc(),y=w(v),S=te(y,!0);ee(y);var A=x(y,2),P=te(A,!0);ee(A),ae(T=>{ue(S,T),ue(P,f(t)[_e.modal.message])},[()=>Se.autoSpinsStopInfo()]),g(m,v)},$$slots:{default:!0}}),g(h,s)},$$slots:{default:!0}})},$$slots:{default:!0}})};Q(o,l=>{var u;((u=_e.modal)==null?void 0:u.name)==="autoSpinMessage"&&l(i)})}g(n,r),B()}var zc=L("<span>ADD YOUR PAY TABLE</span> <!>",1);function Hc(n,e){k(e,!0);var t=E(),r=w(t);{var o=i=>{xt(i,{get zIndex(){return At.modal},onclose:()=>_e.modal=null,children:(l,u)=>{nt(l,{maxWidth:"100%",children:(d,h)=>{Je(d,{type:"column",children:(p,s)=>{var a=zc(),c=x(w(a),2);D(c,()=>e.children),g(p,a)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})};Q(r,i=>{var l;((l=_e.modal)==null?void 0:l.name)==="payTable"&&i(o)})}g(n,t),B()}var Uc=L("<span>ADD YOUR GAME RULES</span> <!>",1);function Kc(n,e){k(e,!0);var t=E(),r=w(t);{var o=i=>{xt(i,{get zIndex(){return At.modal},onclose:()=>_e.modal=null,children:(l,u)=>{nt(l,{maxWidth:"100%",children:(d,h)=>{Je(d,{type:"column",children:(p,s)=>{var a=Uc(),c=x(w(a),2);D(c,()=>e.children),g(p,a)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})};Q(r,i=>{var l;((l=_e.modal)==null?void 0:l.name)==="gameRules"&&i(o)})}g(n,t),B()}var jc=L("<span> </span>"),Vc=L("<!> <!>",1),Yc=L('<div class="col svelte-99wdan"><span><!></span> <div class="row svelte-99wdan"><div class="button-wrap svelte-99wdan"><!></div> <input type="range" min="0" max="100" class="range svelte-99wdan"> <div class="value svelte-99wdan"><span> </span></div></div></div>');function Ur(n,e){k(e,!0);let t=vn(e,"value",15);const{eventEmitter:r}=St();var o=Yc(),i=te(o),l=te(i);D(l,()=>e.children),ee(i);var u=x(i,2),d=te(u),h=te(d);$t(h,{onclick:()=>{r.broadcast({type:"soundPressGeneral"}),t()===0?t(50):t(0)},children:(m,_)=>{var v=Vc(),y=w(v);Qe(y,{width:"3rem",height:"3rem"});var S=x(y,2);et(S,{children:(A,P)=>{var T=jc(),C=te(T,!0);ee(T),ae(()=>ue(C,t()>0?"ON":"OFF")),g(A,T)},$$slots:{default:!0}}),g(m,v)},$$slots:{default:!0}}),ee(d);var p=x(d,2);wl(p);var s=x(p,2),a=te(s),c=te(a,!0);ee(a),ee(s),ee(u),ee(o),ae(()=>ue(c,t())),Yl(p,t),g(n,o),B()}var Kr=We(()=>_e),_t=We(()=>_n),Xc=L('<wrap class="wrap svelte-g8mexk"><!> <!> <!></wrap>'),qc=L("<!> <!>",1);function Jc(n,e){k(e,!1),Ee();var t=E(),r=w(t);{var o=i=>{xt(i,{get zIndex(){return At.modal},onclose:()=>Kr(Kr().modal=null),children:(l,u)=>{nt(l,{maxWidth:"100%",children:(d,h)=>{var p=qc(),s=w(p);En(s,{children:(c,m)=>{lt();var _=je();ae(v=>ue(_,v),[()=>Se.settings()],ge),g(c,_)},$$slots:{default:!0}});var a=x(s,2);Je(a,{type:"column",children:(c,m)=>{var _=Xc(),v=te(_);Ur(v,{get value(){return _t().volumeValueMaster},set value(A){_t(_t().volumeValueMaster=A)},children:(A,P)=>{lt();var T=je();ae(C=>ue(T,C),[()=>Se.masterVolume()],ge),g(A,T)},$$slots:{default:!0},$$legacy:!0});var y=x(v,2);Ur(y,{get value(){return _t().volumeValueMusic},set value(A){_t(_t().volumeValueMusic=A)},children:(A,P)=>{lt();var T=je();ae(C=>ue(T,C),[()=>Se.musicVolume()],ge),g(A,T)},$$slots:{default:!0},$$legacy:!0});var S=x(y,2);Ur(S,{get value(){return _t().volumeValueSoundEffect},set value(A){_t(_t().volumeValueSoundEffect=A)},children:(A,P)=>{lt();var T=je();ae(C=>ue(T,C),[()=>Se.soundEffectVolume()],ge),g(A,T)},$$slots:{default:!0},$$legacy:!0}),ee(_),g(c,_)},$$slots:{default:!0}}),g(d,p)},$$slots:{default:!0}})},$$slots:{default:!0}})};Q(r,i=>{var l;((l=Kr().modal)==null?void 0:l.name)==="settings"&&i(o)})}g(n,t),B()}var Zc=L("<!> <!> <!> <!> <!> <!> <!> <!> <!>",1);function Qc(n,e){k(e,!0);var t=Zc(),r=w(t);fu(r,{});var o=x(r,2);qu(o,{});var i=x(o,2);fc(i,{});var l=x(i,2);_c(l,{});var u=x(l,2);Nc(u,{});var d=x(u,2);Fc(d,{});var h=x(d,2);Hc(h,{children:(a,c)=>{var m=E(),_=w(m);D(_,()=>e.version),g(a,m)},$$slots:{default:!0}});var p=x(h,2);Kc(p,{children:(a,c)=>{var m=E(),_=w(m);D(_,()=>e.version),g(a,m)},$$slots:{default:!0}});var s=x(p,2);Jc(s,{}),g(n,t),B()}let ed=!1;function td(n,e){k(e,!0),lt();var t=je();ae(()=>ue(t,`
${e.version??""}`)),g(n,t),B()}const fo=[];ko.handleByNamedList(yn.Environment,fo);async function nd(n){if(!n)for(let e=0;e<fo.length;e++){const t=fo[e];if(t.value.test()){await t.value.load();return}}}let dn;function rd(){if(typeof dn=="boolean")return dn;try{dn=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{dn=!1}return dn}var xa=(n=>(n[n.NONE=0]="NONE",n[n.COLOR=16384]="COLOR",n[n.STENCIL=1024]="STENCIL",n[n.DEPTH=256]="DEPTH",n[n.COLOR_DEPTH=16640]="COLOR_DEPTH",n[n.COLOR_STENCIL=17408]="COLOR_STENCIL",n[n.DEPTH_STENCIL=1280]="DEPTH_STENCIL",n[n.ALL=17664]="ALL",n))(xa||{});class od{constructor(e){this.items=[],this._name=e}emit(e,t,r,o,i,l,u,d){const{name:h,items:p}=this;for(let s=0,a=p.length;s<a;s++)p[s][h](e,t,r,o,i,l,u,d);return this}add(e){return e[this._name]&&(this.remove(e),this.items.push(e)),this}remove(e){const t=this.items.indexOf(e);return t!==-1&&this.items.splice(t,1),this}contains(e){return this.items.indexOf(e)!==-1}removeAll(){return this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}const sd=["init","destroy","contextChange","resolutionChange","resetState","renderEnd","renderStart","render","update","postrender","prerender"],Aa=class Ta extends oa{constructor(e){super(),this.runners=Object.create(null),this.renderPipes=Object.create(null),this._initOptions={},this._systemsHash=Object.create(null),this.type=e.type,this.name=e.name,this.config=e;const t=[...sd,...this.config.runners??[]];this._addRunners(...t),this._unsafeEvalCheck()}async init(e={}){const t=e.skipExtensionImports===!0?!0:e.manageImports===!1;await nd(t),this._addSystems(this.config.systems),this._addPipes(this.config.renderPipes,this.config.renderPipeAdaptors);for(const r in this._systemsHash)e={...this._systemsHash[r].constructor.defaultOptions,...e};e={...Ta.defaultOptions,...e},this._roundPixels=e.roundPixels?1:0;for(let r=0;r<this.runners.init.items.length;r++)await this.runners.init.items[r].init(e);this._initOptions=e}render(e,t){let r=e;if(r instanceof Ar&&(r={container:r},t&&(ar(ir,"passing a second argument is deprecated, please use render options instead"),r.target=t.renderTexture)),r.target||(r.target=this.view.renderTarget),r.target===this.view.renderTarget&&(this._lastObjectRendered=r.container,r.clearColor??(r.clearColor=this.background.colorRgba),r.clear??(r.clear=this.background.clearBeforeRender)),r.clearColor){const o=Array.isArray(r.clearColor)&&r.clearColor.length===4;r.clearColor=o?r.clearColor:Gr.shared.setValue(r.clearColor).toArray()}r.transform||(r.container.updateLocalTransform(),r.transform=r.container.localTransform),r.container.enableRenderGroup(),this.runners.prerender.emit(r),this.runners.renderStart.emit(r),this.runners.render.emit(r),this.runners.renderEnd.emit(r),this.runners.postrender.emit(r)}resize(e,t,r){const o=this.view.resolution;this.view.resize(e,t,r),this.emit("resize",this.view.screen.width,this.view.screen.height,this.view.resolution),r!==void 0&&r!==o&&this.runners.resolutionChange.emit(r)}clear(e={}){const t=this;e.target||(e.target=t.renderTarget.renderTarget),e.clearColor||(e.clearColor=this.background.colorRgba),e.clear??(e.clear=xa.ALL);const{clear:r,clearColor:o,target:i}=e;Gr.shared.setValue(o??this.background.colorRgba),t.renderTarget.clear(i,r,Gr.shared.toArray())}get resolution(){return this.view.resolution}set resolution(e){this.view.resolution=e,this.runners.resolutionChange.emit(e)}get width(){return this.view.texture.frame.width}get height(){return this.view.texture.frame.height}get canvas(){return this.view.canvas}get lastObjectRendered(){return this._lastObjectRendered}get renderingToScreen(){return this.renderTarget.renderingToScreen}get screen(){return this.view.screen}_addRunners(...e){e.forEach(t=>{this.runners[t]=new od(t)})}_addSystems(e){let t;for(t in e){const r=e[t];this._addSystem(r.value,r.name)}}_addSystem(e,t){const r=new e(this);if(this[t])throw new Error(`Whoops! The name "${t}" is already in use`);this[t]=r,this._systemsHash[t]=r;for(const o in this.runners)this.runners[o].add(r);return this}_addPipes(e,t){const r=t.reduce((o,i)=>(o[i.name]=i.value,o),{});e.forEach(o=>{const i=o.value,l=o.name,u=r[l];this.renderPipes[l]=new i(this,u?new u:null)})}destroy(e=!1){this.runners.destroy.items.reverse(),this.runners.destroy.emit(e),Object.values(this.runners).forEach(t=>{t.destroy()}),this._systemsHash=null,this.renderPipes=null}generateTexture(e){return this.textureGenerator.generateTexture(e)}get roundPixels(){return!!this._roundPixels}_unsafeEvalCheck(){if(!rd())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}resetState(){this.runners.resetState.emit()}};Aa.defaultOptions={resolution:1,failIfMajorPerformanceCaveat:!1,roundPixels:!1};let Pa=Aa,zn;function ad(n){return zn!==void 0||(zn=(()=>{var t;const e={stencil:!0,failIfMajorPerformanceCaveat:n??Pa.defaultOptions.failIfMajorPerformanceCaveat};try{if(!so.get().getWebGLRenderingContext())return!1;let o=so.get().createCanvas().getContext("webgl",e);const i=!!((t=o==null?void 0:o.getContextAttributes())!=null&&t.stencil);if(o){const l=o.getExtension("WEBGL_lose_context");l&&l.loseContext()}return o=null,i}catch{return!1}})()),zn}let Hn;async function id(n={}){return Hn!==void 0||(Hn=await(async()=>{const e=so.get().getNavigator().gpu;if(!e)return!1;try{return await(await e.requestAdapter(n)).requestDevice(),!0}catch{return!1}})()),Hn}const xs=["webgl","webgpu","canvas"];async function ld(n){let e=[];n.preference?(e.push(n.preference),xs.forEach(i=>{i!==n.preference&&e.push(i)})):e=xs.slice();let t,r={};for(let i=0;i<e.length;i++){const l=e[i];if(l==="webgpu"&&await id()){const{WebGPURenderer:u}=await as(async()=>{const{WebGPURenderer:d}=await import("./CiDfa875.js");return{WebGPURenderer:d}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]),import.meta.url);t=u,r={...n,...n.webgpu};break}else if(l==="webgl"&&ad(n.failIfMajorPerformanceCaveat??Pa.defaultOptions.failIfMajorPerformanceCaveat)){const{WebGLRenderer:u}=await as(async()=>{const{WebGLRenderer:d}=await import("./Dz-GRpN7.js");return{WebGLRenderer:d}},__vite__mapDeps([10,1,2,3,4,5,6,7,8,9]),import.meta.url);t=u,r={...n,...n.webgl};break}else if(l==="canvas")throw r={...n},new Error("CanvasRenderer is not yet implemented")}if(delete r.webgpu,delete r.webgl,!t)throw new Error("No available renderer for the current environment");const o=new t;return await o.init(r),o}const Ia="8.8.1";class Ea{static init(){var e;(e=globalThis.__PIXI_APP_INIT__)==null||e.call(globalThis,this,Ia)}static destroy(){}}Ea.extension=yn.Application;class ud{constructor(e){this._renderer=e}init(){var e;(e=globalThis.__PIXI_RENDERER_INIT__)==null||e.call(globalThis,this._renderer,Ia)}destroy(){this._renderer=null}}ud.extension={type:[yn.WebGLSystem,yn.WebGPUSystem],name:"initHook",priority:-10};const La=class ho{constructor(...e){this.stage=new Ar,e[0]!==void 0&&ar(ir,"Application constructor options are deprecated, please use Application.init() instead.")}async init(e){e={...e},this.renderer=await ld(e),ho._plugins.forEach(t=>{t.init.call(this,e)})}render(){this.renderer.render({container:this.stage})}get canvas(){return this.renderer.canvas}get view(){return ar(ir,"Application.view is deprecated, please use Application.canvas instead."),this.renderer.canvas}get screen(){return this.renderer.screen}destroy(e=!1,t=!1){const r=ho._plugins.slice(0);r.reverse(),r.forEach(o=>{o.destroy.call(this)}),this.stage.destroy(t),this.stage=null,this.renderer.destroy(e),this.renderer=null}};La._plugins=[];let ka=La;ko.handleByList(yn.Application,ka._plugins);ko.add(Ea);class Ba extends Sl{constructor(e,t){const{text:r,resolution:o,style:i,anchor:l,width:u,height:d,roundPixels:h,...p}=e;super({...p}),this.batched=!0,this._resolution=null,this._autoResolution=!0,this._didTextUpdate=!0,this._styleClass=t,this.text=r??"",this.style=i,this.resolution=o??null,this.allowChildren=!1,this._anchor=new xl({_onUpdate:()=>{this.onViewUpdate()}}),l&&(this.anchor=l),this.roundPixels=h??!1,u!==void 0&&(this.width=u),d!==void 0&&(this.height=d)}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}set text(e){e=e.toString(),this._text!==e&&(this._text=e,this.onViewUpdate())}get text(){return this._text}set resolution(e){this._autoResolution=e===null,this._resolution=e,this.onViewUpdate()}get resolution(){return this._resolution}get style(){return this._style}set style(e){var t;e||(e={}),(t=this._style)==null||t.off("update",this.onViewUpdate,this),e instanceof this._styleClass?this._style=e:this._style=new this._styleClass(e),this._style.on("update",this.onViewUpdate,this),this.onViewUpdate()}get width(){return Math.abs(this.scale.x)*this.bounds.width}set width(e){this._setWidth(e,this.bounds.width)}get height(){return Math.abs(this.scale.y)*this.bounds.height}set height(e){this._setHeight(e,this.bounds.height)}getSize(e){return e||(e={}),e.width=Math.abs(this.scale.x)*this.bounds.width,e.height=Math.abs(this.scale.y)*this.bounds.height,e}setSize(e,t){typeof e=="object"?(t=e.height??e.width,e=e.width):t??(t=e),e!==void 0&&this._setWidth(e,this.bounds.width),t!==void 0&&this._setHeight(t,this.bounds.height)}containsPoint(e){const t=this.bounds.width,r=this.bounds.height,o=-t*this.anchor.x;let i=0;return e.x>=o&&e.x<=o+t&&(i=-r*this.anchor.y,e.y>=i&&e.y<=i+r)}onViewUpdate(){this.didViewUpdate||(this._didTextUpdate=!0),super.onViewUpdate()}_getKey(){return`${this.text}:${this._style.styleKey}:${this._resolution}`}destroy(e=!1){super.destroy(e),this.owner=null,this._bounds=null,this._anchor=null,(typeof e=="boolean"?e:e!=null&&e.style)&&this._style.destroy(e),this._style=null,this._text=null}}function Ma(n,e){let t=n[0]??{};return(typeof t=="string"||n[1])&&(ar(ir,`use new ${e}({ text: "hi!", style }) instead`),t={text:t,style:n[1]}),t}let cd=class extends Ba{constructor(...e){const t=Ma(e,"Text");super(t,sa),this.renderPipeId="text"}updateBounds(){const e=this._bounds,t=this._anchor,r=Al.measureText(this._text,this._style),{width:o,height:i}=r;e.minX=-t._x*o,e.maxX=e.minX+o,e.minY=-t._y*i,e.maxY=e.minY+i}},dd=class extends Ba{constructor(...e){var t;const r=Ma(e,"BitmapText");r.style??(r.style=r.style||{}),(t=r.style).fill??(t.fill=16777215),super(r,sa),this.renderPipeId="bitmapText"}updateBounds(){const e=this._bounds,t=this._anchor,r=Tl.measureText(this.text,this._style),o=r.scale,i=r.offsetY*o;let l=r.width*o,u=r.height*o;const d=this._style._stroke;d&&(l+=d.width,u+=d.width),e.minX=-t._x*l,e.maxX=e.minX+l,e.minY=-t._y*(u+i),e.maxY=e.minY+u}set resolution(e){e!==null&&Pl("[BitmapText] dynamically updating the resolution is not supported. Resolution should be managed by the BitmapFont.")}get resolution(){return this._resolution}};const Da="@@pixi_svelte";function fd(n){Kt(Da,n)}function rt(){return jt(Da)}const $a="@@pixi_parent";function Oo(n){const t={parent:n,addToParent:r=>{Ie(()=>(t.parent.addChild(r),t.parent.sortChildren(),()=>{r&&r.destroy()}))}};return Kt($a,t),t}function Yt(){return jt($a)}const Oa="@@pixi_spine";function hd(n){Kt(Oa,n)}function Co(){return jt(Oa)}const Ca="@@pixi_spine_event_emitter";function md(n){Kt(Ca,n)}function pd(){return jt(Ca)}const dr=16,_d=({point:n,defaultValue:e})=>{const t=e;return typeof n=="number"?[n,n]:[(n==null?void 0:n.x)||t,(n==null?void 0:n.y)||t]},tt=({anchor:n,sizes:e})=>{const{width:t,height:r}=e,[o,i]=_d({point:n,defaultValue:0});return{x:t*o,y:r*i}},vd=()=>new Promise(n=>{try{Il.load({typekit:{id:"aba0ebl"},active:()=>{n()},inactive:()=>{console.error("Web font load inactive"),n()}})}catch(e){console.error(e),n()}});function Ct({props:n,target:e,ignore:t}){be(()=>{let r=e instanceof Function?e():e;r&&Object.keys(n).filter(o=>t?!t.includes(o):!0).forEach(o=>{n[o]!==void 0&&(r[o]=n[o])})})}var yd=L("<div><!></div>");function gd(n,e){k(e,!0);const t=rt();let r,o=Z(!1);const i=async()=>{aa.reset(),await vd(),t.stateApp.pixiApplication=new ka,await t.stateApp.pixiApplication.init({autoDensity:!0,backgroundAlpha:0,hello:!0,multiView:!1,antialias:!0,clearBeforeRender:!0,preference:"webgpu",powerPreference:"high-performance",resolution:Pu.current,resizeTo:window}),r.appendChild(t.stateApp.pixiApplication.canvas),t.stateApp.pixiApplication.renderer.events.autoPreventDefault=!1,t.stateApp.pixiApplication.renderer.canvas.style.touchAction="auto"};Ie(async()=>{try{f(o)||await i(),N(o,!0)}catch(h){console.error(h)}}),Pn(()=>{t.stateApp.pixiApplication&&t.stateApp.pixiApplication.destroy()});var l=yd(),u=te(l);{var d=h=>{var p=E(),s=w(p);D(s,()=>e.children),g(h,p)};Q(u,h=>{f(o)&&h(d)})}ee(l),la(l,h=>r=h,()=>r),g(n,l),B()}function bd(n,e){var u;k(e,!0);const t=rt();let r=Oo(((u=t.stateApp.pixiApplication)==null?void 0:u.stage)??new PIXI.Container);var o=E(),i=w(o);{var l=d=>{var h=E(),p=w(h);D(p,()=>e.children),g(d,h)};Q(i,d=>{r.parent&&d(l)})}g(n,o),B()}const wd={spine:({key:n,rawAsset:e,src:t})=>{var r;const o=e[t.atlas],i=e[t.skeleton],l=new kl(o),u=i instanceof Uint8Array?new El(l):new Ll(l),d=(r=t==null?void 0:t.scale)!==null&&r!==void 0?r:1;u.scale=d;const h=u.readSkeletonData(i);return{[n]:h}},sprite:({key:n,rawAsset:e})=>({[n]:e}),sprites:({rawAsset:n})=>n.textures,spriteSheet:({key:n,rawAsset:e})=>({[n]:Object.values(e.textures)}),audio:({key:n,rawAsset:e})=>({[n]:e})},Sd=({key:n,type:e,rawAsset:t,src:r})=>{if(e==="font")return;const o=wd[e];if(!o)throw Error("No asset process method found, please check the type of the asset.");return o({key:n,rawAsset:t,src:r})};function xd(n,e){k(e,!0);const t=rt();let r=Z(!1);const o=b(()=>t.stateApp.assets?Object.keys(t.stateApp.assets).filter(a=>{var c;return!((c=t.stateApp.assets)!=null&&c[a].preload)}):[]),i=b(()=>t.stateApp.assets?Object.keys(t.stateApp.assets).filter(a=>{var c;return((c=t.stateApp.assets)==null?void 0:c[a].preload)===!0}):[]);let l=0;const u=a=>{if(f(r)&&a===1){l=l+1;const c=l/f(o).length;t.stateApp.loadingProgress=c*100}},d=async a=>(await Promise.all(a.map(async m=>{try{const{type:_,src:v}=t.stateApp.assets[m],y=_==="spine"?Object.values(v).filter(P=>typeof P=="string"):v,S=await aa.load(y,u);return Sd({key:m,rawAsset:S,type:_,src:v})}catch(_){console.error(_)}}))).reduce((m,_)=>({...m,..._}),{});be(()=>{f(r)||(async()=>{if(f(i).length>0){const a=await d(f(i));a&&(t.stateApp.loadedAssets=a)}N(r,!0)})()}),be(()=>{!t.stateApp.loaded&&f(r)&&(async()=>{if(f(o).length>0){const a=await d(f(o));a&&(t.stateApp.loadedAssets={...t.stateApp.loadedAssets,...a})}t.stateApp.loaded=!0})()});var h=E(),p=w(h);{var s=a=>{var c=E(),m=w(c);D(m,()=>e.children),g(a,c)};Q(p,a=>{f(r)&&a(s)})}g(n,h),B()}function Ad(n,e){k(e,!0);const t=rt();Ie(()=>t.stateApp.reset()),Pn(()=>t.stateApp.reset()),gd(n,{children:(r,o)=>{bd(r,{children:(i,l)=>{xd(i,{children:(u,d)=>{var h=E(),p=w(h);D(p,()=>e.children),g(u,h)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),B()}function ze(n,e){k(e,!0);const t=me(e,["$$slots","$$events","$$legacy"]),r=Yt(),o=new cd({text:e.text,style:e.style});Ct({props:t,target:o,ignore:["onresize"]}),be(()=>{var i;e==null||e.text,e==null||e.style,(i=e.onresize)==null||i.call(e,{width:o.width,height:o.height})}),Ie(()=>{var i;(i=e.onresize)==null||i.call(e,{width:o.width,height:o.height})}),r.addToParent(o),B()}function G(n,e){k(e,!0);const t=me(e,["$$slots","$$events","$$legacy"]),r=Yt(),o=new Ar;Ct({props:t,target:o,ignore:["children"]}),r.addToParent(o),Oo(o);var i=E(),l=w(i);D(l,()=>e.children),g(n,i),B()}function Td(n,e){k(e,!0);const t=me(e,["$$slots","$$events","$$legacy"]),r=Yt(),o=new Bl;Ct({props:t,target:o,ignore:["isMask","draw"]}),be(()=>{e.isMask!==void 0&&(r.parent.mask=e.isMask?o:null)}),be(()=>{e.draw&&(o.clear(),e.draw(o))}),r.addToParent(o),B()}function Ve(n,e){k(e,!0);const t=me(e,["$$slots","$$events","$$legacy","anchor","width","height","borderRadius","backgroundColor","backgroundAlpha","borderColor","borderWidth","borderAlpha"]),r=b(()=>tt({anchor:e.anchor,sizes:{width:e.width,height:e.height}}));Td(n,q(()=>t,{get pivot(){return f(r)},draw:o=>{o.roundRect(0,0,e.width,e.height,e.borderRadius??0),o.fill({color:e.backgroundColor??0,alpha:e.backgroundAlpha??1}),o.stroke({color:e.borderColor??0,width:e.borderWidth??0,alpha:e.borderAlpha??1})}})),B()}function Pd(n,e){k(e,!0);const t=me(e,["$$slots","$$events","$$legacy"]),r=Yt(),o=new Ml(e.texture);Ct({props:t,target:o,ignore:["isMask"]}),be(()=>{e.isMask!==void 0&&(r.parent.mask=e.isMask?o:null)}),r.addToParent(o),B()}var Id=L("<!> <!>",1);function Ge(n,e){k(e,!0);const t=me(e,["$$slots","$$events","$$legacy","debug","key"]),r=rt(),o=b(()=>{var h;return((h=r.stateApp.loadedAssets)==null?void 0:h[e.key])||cs.EMPTY});var i=Id(),l=w(i);{var u=h=>{var p=je();ae((s,a)=>ue(p,`${s??""}
	${a??""}`),[()=>console.error(`Sprite: key "${e.key}" is not found in the loadedAssets`),()=>console.log("loadedAssets",Tr(r.stateApp).loadedAssets)]),g(h,p)};Q(l,h=>{(f(o)===cs.EMPTY||e.debug)&&h(u)})}var d=x(l,2);Pd(d,q(()=>t,{get texture(){return f(o)}})),g(n,i),B()}function Ed(n,e){k(e,!0);const t=me(e,["$$slots","$$events","$$legacy"]),r=Yt(),o=new Dl(e.spineData);Ct({props:t,target:o,ignore:["children"]}),r.addToParent(o),hd(o);var i=E(),l=w(i);D(l,()=>e.children),g(n,i),B()}var Ld=L("<!> <!> <!>",1);function ke(n,e){k(e,!0);const t=me(e,["$$slots","$$events","$$legacy","debug","key","anchor","children","scale"]),r=rt(),o=b(()=>{var _;return(_=r.stateApp.loadedAssets)==null?void 0:_[e.key]}),i={x:1,y:1},l=b(()=>{var _,v;if(!f(o)||!((_=f(o))!=null&&_.width)||!((v=f(o))!=null&&v.height)||!e.width&&!e.height)return i;if(!e.width&&e.height){const y=e.height/f(o).height;return{x:y,y}}if(e.width&&!e.height){const y=e.width/f(o).width;return{x:y,y}}return e.width&&e.height?{x:e.width/f(o).width,y:e.height/f(o).height}:i}),u=b(()=>{var _,v;return typeof e.scale=="number"?{x:f(l).x*e.scale,y:f(l).y*e.scale}:{x:f(l).x*(((_=e.scale)==null?void 0:_.x)||1),y:f(l).y*(((v=e.scale)==null?void 0:v.y)||1)}}),d=b(()=>{var y,S;if(!f(o)||!((y=f(o))!=null&&y.width)||!((S=f(o))!=null&&S.height))return 0;const _=e.width||f(o).width,v=e.height||f(o).height;return tt({anchor:e.anchor,sizes:{width:_,height:v}})});var h=Ld(),p=w(h);{var s=_=>{var v=je();ae(y=>ue(v,y),[()=>console.error(`Spine: key "${e.key}" is not found in loadedAssets`)]),g(_,v)};Q(p,_=>{f(o)||_(s)})}var a=x(p,2);{var c=_=>{var v=je();ae(y=>ue(v,y),[()=>console.log("loadedAssets",Tr(r.stateApp).loadedAssets)]),g(_,v)};Q(a,_=>{(!f(o)||e.debug)&&_(c)})}var m=x(a,2);Ul(m,()=>f(o),_=>{Ed(_,q(()=>t,{get scale(){return f(u)},get pivot(){return f(d)},get spineData(){return f(o)},children:(v,y)=>{var S=E(),A=w(S);D(A,()=>e.children),g(v,S)},$$slots:{default:!0}}))}),g(n,h),B()}function kd(n,e){k(e,!0);const t=Co(),r=new oa;t.beforeUpdateWorldTransforms=()=>r.emit("beforeUpdateWorldTransforms"),t.afterUpdateWorldTransforms=()=>r.emit("afterUpdateWorldTransforms"),md(r);var o=E(),i=w(o);D(i,()=>e.children),g(n,o),B()}function Be(n,e){k(e,!0);const t=me(e,["$$slots","$$events","$$legacy"]),r=Co();let o=Z(ne(r.state.tracks[e.trackIndex]));be(()=>{var i,l,u,d,h,p;if(e.trackIndex!==((i=f(o))==null?void 0:i.trackIndex)||e.animationName!==((u=(l=f(o))==null?void 0:l.animation)==null?void 0:u.name)){f(o)&&r.state.setEmptyAnimation(f(o).trackIndex,0);try{N(o,ne(r.state.setAnimation(e.trackIndex,e.animationName,e.loop)))}catch(s){console.error(s);const a=(p=(h=(d=r==null?void 0:r.state)==null?void 0:d.data)==null?void 0:h.skeletonData)==null?void 0:p.animations;a&&console.log("Available animation names:",a.map(c=>c.name))}}}),Ct({props:t,target:()=>f(o),ignore:["trackIndex","animationName"]}),Pn(()=>{r.state.setEmptyAnimation(e.trackIndex,0)}),B()}function bt(n,e){k(e,!0);const t=Co(),r=new Ar,o=pd();let i=Z(!o);Ie(()=>{o&&o.on("beforeUpdateWorldTransforms",()=>{const h=t.skeleton.findSlot(e.slotName);h&&N(i,ne(!!(h!=null&&h.attachment)))}),t.addSlotObject(e.slotName,r)}),Oo(r);var l=E(),u=w(l);{var d=h=>{var p=E(),s=w(p);D(s,()=>e.children),g(h,p)};Q(u,h=>{f(i)&&h(d)})}g(n,l),B()}function dt(n,e){k(e,!0);const t=me(e,["$$slots","$$events","$$legacy"]),r=Yt(),o=new dd({text:e.text,style:e.style});Ct({props:t,target:o,ignore:["onresize"]}),be(()=>{var i;e==null||e.text,e==null||e.style,(i=e.onresize)==null||i.call(e,{width:o.width,height:o.height})}),Ie(()=>{var i;(i=e.onresize)==null||i.call(e,{width:o.width,height:o.height})}),r.addToParent(o),B()}function Bd(n,e){k(e,!0);const t=me(e,["$$slots","$$events","$$legacy"]),r=rt(),o=Yt(),i=b(()=>{var d;return(d=r.stateApp.loadedAssets)==null?void 0:d[e.key]}),l=b(()=>Ol(e.config,f(i))),u=new $l(o.parent,f(l));Ct({props:t,target:u,ignore:["emit"]}),be(()=>{e.emit&&u.init(f(l))}),r.stateApp.pixiApplication&&r.stateApp.pixiApplication.ticker.add(()=>{if(r.stateApp.pixiApplication){const d=r.stateApp.pixiApplication.ticker.deltaMS*(e.emitSpeed||.00234);u.update(d)}}),Pn(()=>{u.emit=!1,u.destroy()}),B()}function Md({assets:n}){const t=ne({reset:()=>{t.loaded=!1,t.loadingProgress=0,t.loadedAssets={},t.pixiApplication=void 0},assets:n,loaded:!1,loadingProgress:0,loadedAssets:{},pixiApplication:void 0});return{stateApp:t}}function Dd(n,e){k(e,!1);const t=rt();globalThis.__PIXI_APP__=t.stateApp.pixiApplication,Ee(),B()}function He(n,e){k(e,!0);const t=me(e,["$$slots","$$events","$$legacy","show","persistent","duration","oncomplete","children"]),r=new De(e.show?1:0,{duration:e.duration});be(()=>{r.set(e.show?1:0,{duration:e.duration}).then(()=>{var u;return(u=e.oncomplete)==null?void 0:u.call(e)})}),Ie(async()=>{var u;e.show&&(await r.set(0,{duration:0}),await r.set(1),(u=e.oncomplete)==null||u.call(e))});var o=E(),i=w(o);{var l=u=>{G(u,q(()=>t,{get alpha(){return r.current},children:(d,h)=>{var p=E(),s=w(p);D(s,()=>e.children),g(d,p)},$$slots:{default:!0}}))};Q(i,u=>{(r.current>0||e.persistent)&&u(l)})}g(n,o),B()}var $d=L("<!> <!>",1),Od=L("<!> <!> <!>",1);function Cd(n,e){k(e,!0);const t=rt(),r=b(()=>({width:e.width,height:e.height})),o=b(()=>tt({anchor:{x:.5,y:0},sizes:f(r)}));G(n,{get x(){return e.x},get y(){return e.y},get pivot(){return f(o)},children:(i,l)=>{var u=Od(),d=w(u);D(d,()=>e.background,()=>f(r));var h=x(d,2);G(h,{children:(s,a)=>{var c=$d(),m=w(c);D(m,()=>e.progress,()=>f(r));var _=x(m,2);const v=b(()=>e.width*(t.stateApp.loadingProgress/100));Ve(_,{isMask:!0,get height(){return e.height},get width(){return f(v)}}),g(s,c)},$$slots:{default:!0}});var p=x(h,2);D(p,()=>e.frame,()=>f(r)),g(i,u)},$$slots:{default:!0}}),B()}function Ra(n,e){k(e,!0);const t=new De(0),r=ia();let o=Z(!1);const i=()=>t.set(e.amount,{duration:e.duration}),l=()=>t.set(e.amount,{duration:0}),u=()=>r.interrupt(),d=async()=>{await r.add(i),l(),N(o,!0),e.oncomplete(),r.clear()};var h=E(),p=w(h);D(p,()=>e.children,()=>({countUpAmount:t.current,startCountUp:d,finishCountUp:u,countUpCompleted:f(o)})),g(n,h),B()}var Rd=L("<!> <!>",1);function fr(n,e){const t=me(e,["$$slots","$$events","$$legacy","maxWidth"]);let r=Z(ne({width:0,height:0}));const o=b(()=>e.maxWidth/(f(r).width||1));var i=Rd(),l=w(i);G(l,{visible:!1,children:(d,h)=>{dt(d,q(()=>t,{onresize:p=>N(r,ne(p))}))},$$slots:{default:!0}});var u=x(l,2);G(u,{children:(d,h)=>{const p=b(()=>Math.min(f(o),1));dt(d,q(()=>t,{get scale(){return f(p)}}))},$$slots:{default:!0}}),g(n,i)}var Nd=L("<!> <!>",1);function Ir(n,e){k(e,!0);const t=me(e,["$$slots","$$events","$$legacy","children","sizes","anchor","disabled","onpress","debug"]),r=b(()=>({x:e.sizes.width*.5,y:e.sizes.height*.5}));let o=Z(!1),i=Z(!1);be(()=>{e.disabled&&(N(o,!1),N(i,!1))});const l=b(()=>e.disabled?"not-allowed":"pointer"),u=b(()=>tt({sizes:e.sizes,anchor:e.anchor}));G(n,q(()=>t,{eventMode:"static",get cursor(){return f(l)},get pivot(){return f(u)},onpointerover:()=>{e.disabled||N(o,!0)},onpointerout:()=>{e.disabled||N(o,!1)},onpointerdown:()=>{e.disabled||N(i,!0)},onpointerup:()=>{e.disabled||(N(i,!1),e.onpress())},children:(d,h)=>{var p=Nd(),s=w(p);{var a=m=>{Ve(m,{get width(){return e.sizes.width},get height(){return e.sizes.height},alpha:.5,borderWidth:2,borderColor:16777215})};Q(s,m=>{e.debug&&m(a)})}var c=x(s,2);D(c,()=>e.children,()=>({center:f(r),hovered:f(o),pressed:f(i)})),g(d,p)},$$slots:{default:!0}})),B()}const hr=16777215,Er=0;function Gd(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}function Wd(){const n=Gd();if(n.__xstate__)return n.__xstate__}const Fd=n=>{if(typeof window>"u")return;const e=Wd();e&&e.register(n)};class As{constructor(e){this._process=e,this._active=!1,this._current=null,this._last=null}start(){this._active=!0,this.flush()}clear(){this._current&&(this._current.next=null,this._last=this._current)}enqueue(e){const t={value:e,next:null};if(this._current){this._last.next=t,this._last=t;return}this._current=t,this._last=t,this._active&&this.flush()}flush(){for(;this._current;){const e=this._current;this._process(e.value),this._current=e.next}this._last=null}}const Na=".",zd="",Ga="",Hd="#",Ud="*",Wa="xstate.init",mr="xstate.stop";function Kd(n,e){return{type:`xstate.after.${n}.${e}`}}function mo(n,e){return{type:`xstate.done.state.${n}`,output:e}}function jd(n,e){return{type:`xstate.done.actor.${n}`,output:e,actorId:n}}function Vd(n,e){return{type:`xstate.error.actor.${n}`,error:e,actorId:n}}function Fa(n){return{type:Wa,input:n}}function vt(n){setTimeout(()=>{throw n})}const Yd=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ro(n,e){const t=Ts(n),r=Ts(e);return typeof r=="string"?typeof t=="string"?r===t:!1:typeof t=="string"?t in r:Object.keys(t).every(o=>o in r?Ro(t[o],r[o]):!1)}function No(n){if(Ha(n))return n;const e=[];let t="";for(let r=0;r<n.length;r++){switch(n.charCodeAt(r)){case 92:t+=n[r+1],r++;continue;case 46:e.push(t),t="";continue}t+=n[r]}return e.push(t),e}function Ts(n){if(Lf(n))return n.value;if(typeof n!="string")return n;const e=No(n);return Xd(e)}function Xd(n){if(n.length===1)return n[0];const e={};let t=e;for(let r=0;r<n.length-1;r++)if(r===n.length-2)t[n[r]]=n[r+1];else{const o=t;t={},o[n[r]]=t}return e}function Ps(n,e){const t={},r=Object.keys(n);for(let o=0;o<r.length;o++){const i=r[o];t[i]=e(n[i],i,n,o)}return t}function za(n){return Ha(n)?n:[n]}function Bt(n){return n===void 0?[]:za(n)}function po(n,e,t,r){return typeof n=="function"?n({context:e,event:t,self:r}):n}function Ha(n){return Array.isArray(n)}function qd(n){return n.type.startsWith("xstate.error.actor")}function Jt(n){return za(n).map(e=>typeof e>"u"||typeof e=="string"?{target:e}:e)}function Ua(n){if(!(n===void 0||n===zd))return Bt(n)}function _o(n,e,t){var i,l,u;const r=typeof n=="object",o=r?n:void 0;return{next:(i=r?n.next:n)==null?void 0:i.bind(o),error:(l=r?n.error:e)==null?void 0:l.bind(o),complete:(u=r?n.complete:t)==null?void 0:u.bind(o)}}function Is(n,e){return`${e}.${n}`}function Go(n,e){const t=e.match(/^xstate\.invoke\.(\d+)\.(.*)/);if(!t)return n.implementations.actors[e];const[,r,o]=t,l=n.getStateNodeById(o).config.invoke;return(Array.isArray(l)?l[r]:l).src}function Es(n,e){return`${n.sessionId}.${e}`}let Jd=0;function Zd(n,e){const t=new Map,r=new Map,o=new WeakMap,i=new Set,l={},{clock:u,logger:d}=e,h={schedule:(a,c,m,_,v=Math.random().toString(36).slice(2))=>{const y={source:a,target:c,event:m,delay:_,id:v,startedAt:Date.now()},S=Es(a,v);s._snapshot._scheduledEvents[S]=y;const A=u.setTimeout(()=>{delete l[S],delete s._snapshot._scheduledEvents[S],s._relay(a,c,m)},_);l[S]=A},cancel:(a,c)=>{const m=Es(a,c),_=l[m];delete l[m],delete s._snapshot._scheduledEvents[m],_!==void 0&&u.clearTimeout(_)},cancelAll:a=>{for(const c in s._snapshot._scheduledEvents){const m=s._snapshot._scheduledEvents[c];m.source===a&&h.cancel(a,m.id)}}},p=a=>{if(!i.size)return;const c={...a,rootId:n.sessionId};i.forEach(m=>{var _;return(_=m.next)==null?void 0:_.call(m,c)})},s={_snapshot:{_scheduledEvents:((e==null?void 0:e.snapshot)&&e.snapshot.scheduler)??{}},_bookId:()=>`x:${Jd++}`,_register:(a,c)=>(t.set(a,c),a),_unregister:a=>{t.delete(a.sessionId);const c=o.get(a);c!==void 0&&(r.delete(c),o.delete(a))},get:a=>r.get(a),_set:(a,c)=>{const m=r.get(a);if(m&&m!==c)throw new Error(`Actor with system ID '${a}' already exists.`);r.set(a,c),o.set(c,a)},inspect:a=>{const c=_o(a);return i.add(c),{unsubscribe(){i.delete(c)}}},_sendInspectionEvent:p,_relay:(a,c,m)=>{s._sendInspectionEvent({type:"@xstate.event",sourceRef:a,actorRef:c,event:m}),c._send(m)},scheduler:h,getSnapshot:()=>({_scheduledEvents:{...s._snapshot._scheduledEvents}}),start:()=>{const a=s._snapshot._scheduledEvents;s._snapshot._scheduledEvents={};for(const c in a){const{source:m,target:_,event:v,delay:y,id:S}=a[c];h.schedule(m,_,v,y,S)}},_clock:u,_logger:d};return s}let jr=!1;const Wo=1;let Fe=function(n){return n[n.NotStarted=0]="NotStarted",n[n.Running=1]="Running",n[n.Stopped=2]="Stopped",n}({});const Qd={clock:{setTimeout:(n,e)=>setTimeout(n,e),clearTimeout:n=>clearTimeout(n)},logger:console.log.bind(console),devTools:!1};class ef{constructor(e,t){this.logic=e,this._snapshot=void 0,this.clock=void 0,this.options=void 0,this.id=void 0,this.mailbox=new As(this._process.bind(this)),this.observers=new Set,this.eventListeners=new Map,this.logger=void 0,this._processingStatus=Fe.NotStarted,this._parent=void 0,this._syncSnapshot=void 0,this.ref=void 0,this._actorScope=void 0,this._systemId=void 0,this.sessionId=void 0,this.system=void 0,this._doneEvent=void 0,this.src=void 0,this._deferred=[];const r={...Qd,...t},{clock:o,logger:i,parent:l,syncSnapshot:u,id:d,systemId:h,inspect:p}=r;this.system=l?l.system:Zd(this,{clock:o,logger:i}),p&&!l&&this.system.inspect(_o(p)),this.sessionId=this.system._bookId(),this.id=d??this.sessionId,this.logger=(t==null?void 0:t.logger)??this.system._logger,this.clock=(t==null?void 0:t.clock)??this.system._clock,this._parent=l,this._syncSnapshot=u,this.options=r,this.src=r.src??e,this.ref=this,this._actorScope={self:this,id:this.id,sessionId:this.sessionId,logger:this.logger,defer:s=>{this._deferred.push(s)},system:this.system,stopChild:s=>{if(s._parent!==this)throw new Error(`Cannot stop child actor ${s.id} of ${this.id} because it is not a child`);s._stop()},emit:s=>{const a=this.eventListeners.get(s.type),c=this.eventListeners.get("*");if(!a&&!c)return;const m=[...a?a.values():[],...c?c.values():[]];for(const _ of m)_(s)},actionExecutor:s=>{const a=()=>{if(this._actorScope.system._sendInspectionEvent({type:"@xstate.action",actorRef:this,action:{type:s.type,params:s.params}}),!s.exec)return;const c=jr;try{jr=!0,s.exec(s.info,s.params)}finally{jr=c}};this._processingStatus===Fe.Running?a():this._deferred.push(a)}},this.send=this.send.bind(this),this.system._sendInspectionEvent({type:"@xstate.actor",actorRef:this}),h&&(this._systemId=h,this.system._set(h,this)),this._initState((t==null?void 0:t.snapshot)??(t==null?void 0:t.state)),h&&this._snapshot.status!=="active"&&this.system._unregister(this)}_initState(e){var t;try{this._snapshot=e?this.logic.restoreSnapshot?this.logic.restoreSnapshot(e,this._actorScope):e:this.logic.getInitialSnapshot(this._actorScope,(t=this.options)==null?void 0:t.input)}catch(r){this._snapshot={status:"error",output:void 0,error:r}}}update(e,t){var o,i;this._snapshot=e;let r;for(;r=this._deferred.shift();)try{r()}catch(l){this._deferred.length=0,this._snapshot={...e,status:"error",error:l}}switch(this._snapshot.status){case"active":for(const l of this.observers)try{(o=l.next)==null||o.call(l,e)}catch(u){vt(u)}break;case"done":for(const l of this.observers)try{(i=l.next)==null||i.call(l,e)}catch(u){vt(u)}this._stopProcedure(),this._complete(),this._doneEvent=jd(this.id,this._snapshot.output),this._parent&&this.system._relay(this,this._parent,this._doneEvent);break;case"error":this._error(this._snapshot.error);break}this.system._sendInspectionEvent({type:"@xstate.snapshot",actorRef:this,event:t,snapshot:e})}subscribe(e,t,r){var i;const o=_o(e,t,r);if(this._processingStatus!==Fe.Stopped)this.observers.add(o);else switch(this._snapshot.status){case"done":try{(i=o.complete)==null||i.call(o)}catch(l){vt(l)}break;case"error":{const l=this._snapshot.error;if(!o.error)vt(l);else try{o.error(l)}catch(u){vt(u)}break}}return{unsubscribe:()=>{this.observers.delete(o)}}}on(e,t){let r=this.eventListeners.get(e);r||(r=new Set,this.eventListeners.set(e,r));const o=t.bind(void 0);return r.add(o),{unsubscribe:()=>{r.delete(o)}}}start(){if(this._processingStatus===Fe.Running)return this;this._syncSnapshot&&this.subscribe({next:r=>{r.status==="active"&&this.system._relay(this,this._parent,{type:`xstate.snapshot.${this.id}`,snapshot:r})},error:()=>{}}),this.system._register(this.sessionId,this),this._systemId&&this.system._set(this._systemId,this),this._processingStatus=Fe.Running;const e=Fa(this.options.input);switch(this.system._sendInspectionEvent({type:"@xstate.event",sourceRef:this._parent,actorRef:this,event:e}),this._snapshot.status){case"done":return this.update(this._snapshot,e),this;case"error":return this._error(this._snapshot.error),this}if(this._parent||this.system.start(),this.logic.start)try{this.logic.start(this._snapshot,this._actorScope)}catch(r){return this._snapshot={...this._snapshot,status:"error",error:r},this._error(r),this}return this.update(this._snapshot,e),this.options.devTools&&this.attachDevTools(),this.mailbox.start(),this}_process(e){let t,r;try{t=this.logic.transition(this._snapshot,e,this._actorScope)}catch(o){r={err:o}}if(r){const{err:o}=r;this._snapshot={...this._snapshot,status:"error",error:o},this._error(o);return}this.update(t,e),e.type===mr&&(this._stopProcedure(),this._complete())}_stop(){return this._processingStatus===Fe.Stopped?this:(this.mailbox.clear(),this._processingStatus===Fe.NotStarted?(this._processingStatus=Fe.Stopped,this):(this.mailbox.enqueue({type:mr}),this))}stop(){if(this._parent)throw new Error("A non-root actor cannot be stopped directly.");return this._stop()}_complete(){var e;for(const t of this.observers)try{(e=t.complete)==null||e.call(t)}catch(r){vt(r)}this.observers.clear()}_reportError(e){if(!this.observers.size){this._parent||vt(e);return}let t=!1;for(const r of this.observers){const o=r.error;t||(t=!o);try{o==null||o(e)}catch(i){vt(i)}}this.observers.clear(),t&&vt(e)}_error(e){this._stopProcedure(),this._reportError(e),this._parent&&this.system._relay(this,this._parent,Vd(this.id,e))}_stopProcedure(){return this._processingStatus!==Fe.Running?this:(this.system.scheduler.cancelAll(this),this.mailbox.clear(),this.mailbox=new As(this._process.bind(this)),this._processingStatus=Fe.Stopped,this.system._unregister(this),this)}_send(e){this._processingStatus!==Fe.Stopped&&this.mailbox.enqueue(e)}send(e){this.system._relay(void 0,this,e)}attachDevTools(){const{devTools:e}=this.options;e&&(typeof e=="function"?e:Fd)(this)}toJSON(){return{xstate$$type:Wo,id:this.id}}getPersistedSnapshot(e){return this.logic.getPersistedSnapshot(this._snapshot,e)}[Yd](){return this}getSnapshot(){return this._snapshot}}function gn(n,...[e]){return new ef(n,e)}function tf(n,e,t,r,{sendId:o}){const i=typeof o=="function"?o(t,r):o;return[e,{sendId:i},void 0]}function nf(n,e){n.defer(()=>{n.system.scheduler.cancel(n.self,e.sendId)})}function rf(n){function e(t,r){}return e.type="xstate.cancel",e.sendId=n,e.resolve=tf,e.execute=nf,e}function of(n,e,t,r,{id:o,systemId:i,src:l,input:u,syncSnapshot:d}){const h=typeof l=="string"?Go(e.machine,l):l,p=typeof o=="function"?o(t):o;let s,a;return h&&(a=typeof u=="function"?u({context:e.context,event:t.event,self:n.self}):u,s=gn(h,{id:p,src:l,parent:n.self,syncSnapshot:d,systemId:i,input:a})),[Ut(e,{children:{...e.children,[p]:s}}),{id:o,systemId:i,actorRef:s,src:l,input:a},void 0]}function sf(n,{actorRef:e}){e&&n.defer(()=>{e._processingStatus!==Fe.Stopped&&e.start()})}function af(...[n,{id:e,systemId:t,input:r,syncSnapshot:o=!1}={}]){function i(l,u){}return i.type="xstate.spawnChild",i.id=e,i.systemId=t,i.src=n,i.input=r,i.syncSnapshot=o,i.resolve=of,i.execute=sf,i}function lf(n,e,t,r,{actorRef:o}){const i=typeof o=="function"?o(t,r):o,l=typeof i=="string"?e.children[i]:i;let u=e.children;return l&&(u={...u},delete u[l.id]),[Ut(e,{children:u}),l,void 0]}function uf(n,e){if(e){if(n.system._unregister(e),e._processingStatus!==Fe.Running){n.stopChild(e);return}n.defer(()=>{n.stopChild(e)})}}function Ka(n){function e(t,r){}return e.type="xstate.stopChild",e.actorRef=n,e.resolve=lf,e.execute=uf,e}function Fo(n,e,t,r){const{machine:o}=r,i=typeof n=="function",l=i?n:o.implementations.guards[typeof n=="string"?n:n.type];if(!i&&!l)throw new Error(`Guard '${typeof n=="string"?n:n.type}' is not implemented.'.`);if(typeof l!="function")return Fo(l,e,t,r);const u={context:e,event:t},d=i||typeof n=="string"?void 0:"params"in n?typeof n.params=="function"?n.params({context:e,event:t}):n.params:void 0;return"check"in l?l.check(r,u,l):l(u,d)}const zo=n=>n.type==="atomic"||n.type==="final";function nn(n){return Object.values(n.states).filter(e=>e.type!=="history")}function kn(n,e){const t=[];if(e===n)return t;let r=n.parent;for(;r&&r!==e;)t.push(r),r=r.parent;return t}function pr(n){const e=new Set(n),t=Va(e);for(const r of e)if(r.type==="compound"&&(!t.get(r)||!t.get(r).length))Ls(r).forEach(o=>e.add(o));else if(r.type==="parallel"){for(const o of nn(r))if(o.type!=="history"&&!e.has(o)){const i=Ls(o);for(const l of i)e.add(l)}}for(const r of e){let o=r.parent;for(;o;)e.add(o),o=o.parent}return e}function ja(n,e){const t=e.get(n);if(!t)return{};if(n.type==="compound"){const o=t[0];if(o){if(zo(o))return o.key}else return{}}const r={};for(const o of t)r[o.key]=ja(o,e);return r}function Va(n){const e=new Map;for(const t of n)e.has(t)||e.set(t,[]),t.parent&&(e.has(t.parent)||e.set(t.parent,[]),e.get(t.parent).push(t));return e}function Ya(n,e){const t=pr(e);return ja(n,Va(t))}function Ho(n,e){return e.type==="compound"?nn(e).some(t=>t.type==="final"&&n.has(t)):e.type==="parallel"?nn(e).every(t=>Ho(n,t)):e.type==="final"}const Lr=n=>n[0]===Hd;function cf(n,e){return n.transitions.get(e)||[...n.transitions.keys()].filter(r=>{if(r===Ud)return!0;if(!r.endsWith(".*"))return!1;const o=r.split("."),i=e.split(".");for(let l=0;l<o.length;l++){const u=o[l],d=i[l];if(u==="*")return l===o.length-1;if(u!==d)return!1}return!0}).sort((r,o)=>o.length-r.length).flatMap(r=>n.transitions.get(r))}function df(n){const e=n.config.after;if(!e)return[];const t=o=>{const i=Kd(o,n.id),l=i.type;return n.entry.push(Nf(i,{id:l,delay:o})),n.exit.push(rf(l)),l};return Object.keys(e).flatMap(o=>{const i=e[o],l=typeof i=="string"?{target:i}:i,u=Number.isNaN(+o)?o:+o,d=t(u);return Bt(l).map(h=>({...h,event:d,delay:u}))}).map(o=>{const{delay:i}=o;return{...Nt(n,o.event,o),delay:i}})}function Nt(n,e,t){const r=Ua(t.target),o=t.reenter??!1,i=mf(n,r),l={...t,actions:Bt(t.actions),guard:t.guard,target:i,source:n,reenter:o,eventType:e,toJSON:()=>({...l,source:`#${n.id}`,target:i?i.map(u=>`#${u.id}`):void 0})};return l}function ff(n){const e=new Map;if(n.config.on)for(const t of Object.keys(n.config.on)){if(t===Ga)throw new Error('Null events ("") cannot be specified as a transition key. Use `always: { ... }` instead.');const r=n.config.on[t];e.set(t,Jt(r).map(o=>Nt(n,t,o)))}if(n.config.onDone){const t=`xstate.done.state.${n.id}`;e.set(t,Jt(n.config.onDone).map(r=>Nt(n,t,r)))}for(const t of n.invoke){if(t.onDone){const r=`xstate.done.actor.${t.id}`;e.set(r,Jt(t.onDone).map(o=>Nt(n,r,o)))}if(t.onError){const r=`xstate.error.actor.${t.id}`;e.set(r,Jt(t.onError).map(o=>Nt(n,r,o)))}if(t.onSnapshot){const r=`xstate.snapshot.${t.id}`;e.set(r,Jt(t.onSnapshot).map(o=>Nt(n,r,o)))}}for(const t of n.after){let r=e.get(t.eventType);r||(r=[],e.set(t.eventType,r)),r.push(t)}return e}function hf(n,e){const t=typeof e=="string"?n.states[e]:e?n.states[e.target]:void 0;if(!t&&e)throw new Error(`Initial state node "${e}" not found on parent state node #${n.id}`);const r={source:n,actions:!e||typeof e=="string"?[]:Bt(e.actions),eventType:null,reenter:!1,target:t?[t]:[],toJSON:()=>({...r,source:`#${n.id}`,target:t?[`#${t.id}`]:[]})};return r}function mf(n,e){if(e!==void 0)return e.map(t=>{if(typeof t!="string")return t;if(Lr(t))return n.machine.getStateNodeById(t);const r=t[0]===Na;if(r&&!n.parent)return _r(n,t.slice(1));const o=r?n.key+t:t;if(n.parent)try{return _r(n.parent,o)}catch(i){throw new Error(`Invalid transition definition for state node '${n.id}':
${i.message}`)}else throw new Error(`Invalid target: "${t}" is not a valid target from the root node. Did you mean ".${t}"?`)})}function Xa(n){const e=Ua(n.config.target);return e?{target:e.map(t=>typeof t=="string"?_r(n.parent,t):t)}:n.parent.initial}function Gt(n){return n.type==="history"}function Ls(n){const e=qa(n);for(const t of e)for(const r of kn(t,n))e.add(r);return e}function qa(n){const e=new Set;function t(r){if(!e.has(r)){if(e.add(r),r.type==="compound")t(r.initial.target[0]);else if(r.type==="parallel")for(const o of nn(r))t(o)}}return t(n),e}function rn(n,e){if(Lr(e))return n.machine.getStateNodeById(e);if(!n.states)throw new Error(`Unable to retrieve child state '${e}' from '${n.id}'; no child states exist.`);const t=n.states[e];if(!t)throw new Error(`Child state '${e}' does not exist on '${n.id}'`);return t}function _r(n,e){if(typeof e=="string"&&Lr(e))try{return n.machine.getStateNodeById(e)}catch{}const t=No(e).slice();let r=n;for(;t.length;){const o=t.shift();if(!o.length)break;r=rn(r,o)}return r}function vr(n,e){if(typeof e=="string"){const o=n.states[e];if(!o)throw new Error(`State '${e}' does not exist on '${n.id}'`);return[n,o]}const t=Object.keys(e),r=t.map(o=>rn(n,o)).filter(Boolean);return[n.machine.root,n].concat(r,t.reduce((o,i)=>{const l=rn(n,i);if(!l)return o;const u=vr(l,e[i]);return o.concat(u)},[]))}function pf(n,e,t,r){const i=rn(n,e).next(t,r);return!i||!i.length?n.next(t,r):i}function _f(n,e,t,r){const o=Object.keys(e),i=rn(n,o[0]),l=Uo(i,e[o[0]],t,r);return!l||!l.length?n.next(t,r):l}function vf(n,e,t,r){const o=[];for(const i of Object.keys(e)){const l=e[i];if(!l)continue;const u=rn(n,i),d=Uo(u,l,t,r);d&&o.push(...d)}return o.length?o:n.next(t,r)}function Uo(n,e,t,r){return typeof e=="string"?pf(n,e,t,r):Object.keys(e).length===1?_f(n,e,t,r):vf(n,e,t,r)}function yf(n){return Object.keys(n.states).map(e=>n.states[e]).filter(e=>e.type==="history")}function Ot(n,e){let t=n;for(;t.parent&&t.parent!==e;)t=t.parent;return t.parent===e}function gf(n,e){const t=new Set(n),r=new Set(e);for(const o of t)if(r.has(o))return!0;for(const o of r)if(t.has(o))return!0;return!1}function Ja(n,e,t){const r=new Set;for(const o of n){let i=!1;const l=new Set;for(const u of r)if(gf(vo([o],e,t),vo([u],e,t)))if(Ot(o.source,u.source))l.add(u);else{i=!0;break}if(!i){for(const u of l)r.delete(u);r.add(o)}}return Array.from(r)}function bf(n){const[e,...t]=n;for(const r of kn(e,void 0))if(t.every(o=>Ot(o,r)))return r}function Ko(n,e){if(!n.target)return[];const t=new Set;for(const r of n.target)if(Gt(r))if(e[r.id])for(const o of e[r.id])t.add(o);else for(const o of Ko(Xa(r),e))t.add(o);else t.add(r);return[...t]}function Za(n,e){const t=Ko(n,e);if(!t)return;if(!n.reenter&&t.every(o=>o===n.source||Ot(o,n.source)))return n.source;const r=bf(t.concat(n.source));if(r)return r;if(!n.reenter)return n.source.machine.root}function vo(n,e,t){var o;const r=new Set;for(const i of n)if((o=i.target)!=null&&o.length){const l=Za(i,t);i.reenter&&i.source===l&&r.add(l);for(const u of e)Ot(u,l)&&r.add(u)}return[...r]}function wf(n,e){if(n.length!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0}function yo(n,e,t,r,o,i){if(!n.length)return e;const l=new Set(e._nodes);let u=e.historyValue;const d=Ja(n,l,u);let h=e;o||([h,u]=Tf(h,r,t,d,l,u,i,t.actionExecutor)),h=on(h,r,t,d.flatMap(s=>s.actions),i,void 0),h=xf(h,r,t,d,l,i,u,o);const p=[...l];h.status==="done"&&(h=on(h,r,t,p.sort((s,a)=>a.order-s.order).flatMap(s=>s.exit),i,void 0));try{return u===e.historyValue&&wf(e._nodes,l)?h:Ut(h,{_nodes:p,historyValue:u})}catch(s){throw s}}function Sf(n,e,t,r,o){if(r.output===void 0)return;const i=mo(o.id,o.output!==void 0&&o.parent?po(o.output,n.context,e,t.self):void 0);return po(r.output,n.context,i,t.self)}function xf(n,e,t,r,o,i,l,u){let d=n;const h=new Set,p=new Set;Af(r,l,p,h),u&&p.add(n.machine.root);const s=new Set;for(const a of[...h].sort((c,m)=>c.order-m.order)){o.add(a);const c=[];c.push(...a.entry);for(const m of a.invoke)c.push(af(m.src,{...m,syncSnapshot:!!m.onSnapshot}));if(p.has(a)){const m=a.initial.actions;c.push(...m)}if(d=on(d,e,t,c,i,a.invoke.map(m=>m.id)),a.type==="final"){const m=a.parent;let _=(m==null?void 0:m.type)==="parallel"?m:m==null?void 0:m.parent,v=_||a;for((m==null?void 0:m.type)==="compound"&&i.push(mo(m.id,a.output!==void 0?po(a.output,d.context,e,t.self):void 0));(_==null?void 0:_.type)==="parallel"&&!s.has(_)&&Ho(o,_);)s.add(_),i.push(mo(_.id)),v=_,_=_.parent;if(_)continue;d=Ut(d,{status:"done",output:Sf(d,e,t,d.machine.root,v)})}}return d}function Af(n,e,t,r){for(const o of n){const i=Za(o,e);for(const u of o.target||[])!Gt(u)&&(o.source!==u||o.source!==i||o.reenter)&&(r.add(u),t.add(u)),Zt(u,e,t,r);const l=Ko(o,e);for(const u of l){const d=kn(u,i);(i==null?void 0:i.type)==="parallel"&&d.push(i),Qa(r,e,t,d,!o.source.parent&&o.reenter?void 0:i)}}}function Zt(n,e,t,r){var o;if(Gt(n))if(e[n.id]){const i=e[n.id];for(const l of i)r.add(l),Zt(l,e,t,r);for(const l of i)Vr(l,n.parent,r,e,t)}else{const i=Xa(n);for(const l of i.target)r.add(l),i===((o=n.parent)==null?void 0:o.initial)&&t.add(n.parent),Zt(l,e,t,r);for(const l of i.target)Vr(l,n.parent,r,e,t)}else if(n.type==="compound"){const[i]=n.initial.target;Gt(i)||(r.add(i),t.add(i)),Zt(i,e,t,r),Vr(i,n,r,e,t)}else if(n.type==="parallel")for(const i of nn(n).filter(l=>!Gt(l)))[...r].some(l=>Ot(l,i))||(Gt(i)||(r.add(i),t.add(i)),Zt(i,e,t,r))}function Qa(n,e,t,r,o){for(const i of r)if((!o||Ot(i,o))&&n.add(i),i.type==="parallel")for(const l of nn(i).filter(u=>!Gt(u)))[...n].some(u=>Ot(u,l))||(n.add(l),Zt(l,e,t,n))}function Vr(n,e,t,r,o){Qa(t,r,o,kn(n,e))}function Tf(n,e,t,r,o,i,l,u){let d=n;const h=vo(r,o,i);h.sort((s,a)=>a.order-s.order);let p;for(const s of h)for(const a of yf(s)){let c;a.history==="deep"?c=m=>zo(m)&&Ot(m,s):c=m=>m.parent===s,p??(p={...i}),p[a.id]=Array.from(o).filter(c)}for(const s of h)d=on(d,e,t,[...s.exit,...s.invoke.map(a=>Ka(a.id))],l,void 0),o.delete(s);return[d,p||i]}function Pf(n,e){return n.implementations.actions[e]}function ei(n,e,t,r,o,i){const{machine:l}=n;let u=n;for(const d of r){const h=typeof d=="function",p=h?d:Pf(l,typeof d=="string"?d:d.type),s={context:u.context,event:e,self:t.self,system:t.system},a=h||typeof d=="string"?void 0:"params"in d?typeof d.params=="function"?d.params({context:u.context,event:e}):d.params:void 0;if(!p||!("resolve"in p)){t.actionExecutor({type:typeof d=="string"?d:typeof d=="object"?d.type:d.name||"(anonymous)",info:s,params:a,exec:p});continue}const c=p,[m,_,v]=c.resolve(t,u,s,a,p,o);u=m,"retryResolve"in c&&(i==null||i.push([c,_])),"execute"in c&&t.actionExecutor({type:c.type,info:s,params:_,exec:c.execute.bind(null,t,_)}),v&&(u=ei(u,e,t,v,o,i))}return u}function on(n,e,t,r,o,i){const l=i?[]:void 0,u=ei(n,e,t,r,{internalQueue:o,deferredActorIds:i},l);return l==null||l.forEach(([d,h])=>{d.retryResolve(t,u,h)}),u}function Yr(n,e,t,r){let o=n;const i=[];function l(h,p,s){t.system._sendInspectionEvent({type:"@xstate.microstep",actorRef:t.self,event:p,snapshot:h,_transitions:s}),i.push(h)}if(e.type===mr)return o=Ut(ks(o,e,t),{status:"stopped"}),l(o,e,[]),{snapshot:o,microstates:i};let u=e;if(u.type!==Wa){const h=u,p=qd(h),s=Bs(h,o);if(p&&!s.length)return o=Ut(n,{status:"error",error:h.error}),l(o,h,[]),{snapshot:o,microstates:i};o=yo(s,n,t,u,!1,r),l(o,h,s)}let d=!0;for(;o.status==="active";){let h=d?If(o,u):[];const p=h.length?o:void 0;if(!h.length){if(!r.length)break;u=r.shift(),h=Bs(u,o)}o=yo(h,o,t,u,!1,r),d=o!==p,l(o,u,h)}return o.status!=="active"&&ks(o,u,t),{snapshot:o,microstates:i}}function ks(n,e,t){return on(n,e,t,Object.values(n.children).map(r=>Ka(r)),[],void 0)}function Bs(n,e){return e.machine.getTransitionData(e,n)}function If(n,e){const t=new Set,r=n._nodes.filter(zo);for(const o of r)e:for(const i of[o].concat(kn(o,void 0)))if(i.always){for(const l of i.always)if(l.guard===void 0||Fo(l.guard,n.context,e,n)){t.add(l);break e}}return Ja(Array.from(t),new Set(n._nodes),n.historyValue)}function Ef(n,e){const t=pr(vr(n,e));return Ya(n,[...t])}function Lf(n){return!!n&&typeof n=="object"&&"machine"in n&&"value"in n}const kf=function(e){return Ro(e,this.value)},Bf=function(e){return this.tags.has(e)},Mf=function(e){const t=this.machine.getTransitionData(this,e);return!!(t!=null&&t.length)&&t.some(r=>r.target!==void 0||r.actions.length)},Df=function(){const{_nodes:e,tags:t,machine:r,getMeta:o,toJSON:i,can:l,hasTag:u,matches:d,...h}=this;return{...h,tags:Array.from(t)}},$f=function(){return this._nodes.reduce((e,t)=>(t.meta!==void 0&&(e[t.id]=t.meta),e),{})};function or(n,e){return{status:n.status,output:n.output,error:n.error,machine:e,context:n.context,_nodes:n._nodes,value:Ya(e.root,n._nodes),tags:new Set(n._nodes.flatMap(t=>t.tags)),children:n.children,historyValue:n.historyValue||{},matches:kf,hasTag:Bf,can:Mf,getMeta:$f,toJSON:Df}}function Ut(n,e={}){return or({...n,...e},n.machine)}function Of(n,e){const{_nodes:t,tags:r,machine:o,children:i,context:l,can:u,hasTag:d,matches:h,getMeta:p,toJSON:s,...a}=n,c={};for(const _ in i){const v=i[_];c[_]={snapshot:v.getPersistedSnapshot(e),src:v.src,systemId:v._systemId,syncSnapshot:v._syncSnapshot}}return{...a,context:ti(l),children:c}}function ti(n){let e;for(const t in n){const r=n[t];if(r&&typeof r=="object")if("sessionId"in r&&"send"in r&&"ref"in r)e??(e=Array.isArray(n)?n.slice():{...n}),e[t]={xstate$$type:Wo,id:r.id};else{const o=ti(r);o!==r&&(e??(e=Array.isArray(n)?n.slice():{...n}),e[t]=o)}}return e??n}function Cf(n,e,t,r,{event:o,id:i,delay:l},{internalQueue:u}){const d=e.machine.implementations.delays;if(typeof o=="string")throw new Error(`Only event objects may be used with raise; use raise({ type: "${o}" }) instead`);const h=typeof o=="function"?o(t,r):o;let p;if(typeof l=="string"){const s=d&&d[l];p=typeof s=="function"?s(t,r):s}else p=typeof l=="function"?l(t,r):l;return typeof p!="number"&&u.push(h),[e,{event:h,id:i,delay:p},void 0]}function Rf(n,e){const{event:t,delay:r,id:o}=e;if(typeof r=="number"){n.defer(()=>{const i=n.self;n.system.scheduler.schedule(i,i,t,r,o)});return}}function Nf(n,e){function t(r,o){}return t.type="xstate.raise",t.event=n,t.id=e==null?void 0:e.id,t.delay=e==null?void 0:e.delay,t.resolve=Cf,t.execute=Rf,t}const Ms="xstate.promise.resolve",Ds="xstate.promise.reject",Un=new WeakMap;function Xe(n){return{config:n,transition:(t,r,o)=>{var i;if(t.status!=="active")return t;switch(r.type){case Ms:{const l=r.data;return{...t,status:"done",output:l,input:void 0}}case Ds:return{...t,status:"error",error:r.data,input:void 0};case mr:return(i=Un.get(o.self))==null||i.abort(),{...t,status:"stopped",input:void 0};default:return t}},start:(t,{self:r,system:o,emit:i})=>{if(t.status!=="active")return;const l=new AbortController;Un.set(r,l),Promise.resolve(n({input:t.input,system:o,self:r,signal:l.signal,emit:i})).then(d=>{r.getSnapshot().status==="active"&&(Un.delete(r),o._relay(r,r,{type:Ms,data:d}))},d=>{r.getSnapshot().status==="active"&&(Un.delete(r),o._relay(r,r,{type:Ds,data:d}))})},getInitialSnapshot:(t,r)=>({status:"active",output:void 0,error:void 0,input:r}),getPersistedSnapshot:t=>t,restoreSnapshot:t=>t}}function Gf(n,{machine:e,context:t},r,o){const i=(l,u)=>{if(typeof l=="string"){const d=Go(e,l);if(!d)throw new Error(`Actor logic '${l}' not implemented in machine '${e.id}'`);const h=gn(d,{id:u==null?void 0:u.id,parent:n.self,syncSnapshot:u==null?void 0:u.syncSnapshot,input:typeof(u==null?void 0:u.input)=="function"?u.input({context:t,event:r,self:n.self}):u==null?void 0:u.input,src:l,systemId:u==null?void 0:u.systemId});return o[h.id]=h,h}else return gn(l,{id:u==null?void 0:u.id,parent:n.self,syncSnapshot:u==null?void 0:u.syncSnapshot,input:u==null?void 0:u.input,src:l,systemId:u==null?void 0:u.systemId})};return(l,u)=>{const d=i(l,u);return o[d.id]=d,n.defer(()=>{d._processingStatus!==Fe.Stopped&&d.start()}),d}}function Wf(n,e,t,r,{assignment:o}){if(!e.context)throw new Error("Cannot assign to undefined `context`. Ensure that `context` is defined in the machine config.");const i={},l={context:e.context,event:t.event,spawn:Gf(n,e,t.event,i),self:n.self,system:n.system};let u={};if(typeof o=="function")u=o(l,r);else for(const h of Object.keys(o)){const p=o[h];u[h]=typeof p=="function"?p(l,r):p}const d=Object.assign({},e.context,u);return[Ut(e,{context:d,children:Object.keys(i).length?{...e.children,...i}:e.children}),void 0,void 0]}function kr(n){function e(t,r){}return e.type="xstate.assign",e.assignment=n,e.resolve=Wf,e}const $s=new WeakMap;function Xt(n,e,t){let r=$s.get(n);return r?e in r||(r[e]=t()):(r={[e]:t()},$s.set(n,r)),r[e]}const Ff={},fn=n=>typeof n=="string"?{type:n}:typeof n=="function"?"resolve"in n?{type:n.type}:{type:n.name}:n;class jo{constructor(e,t){if(this.config=e,this.key=void 0,this.id=void 0,this.type=void 0,this.path=void 0,this.states=void 0,this.history=void 0,this.entry=void 0,this.exit=void 0,this.parent=void 0,this.machine=void 0,this.meta=void 0,this.output=void 0,this.order=-1,this.description=void 0,this.tags=[],this.transitions=void 0,this.always=void 0,this.parent=t._parent,this.key=t._key,this.machine=t._machine,this.path=this.parent?this.parent.path.concat(this.key):[],this.id=this.config.id||[this.machine.id,...this.path].join(Na),this.type=this.config.type||(this.config.states&&Object.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.description=this.config.description,this.order=this.machine.idMap.size,this.machine.idMap.set(this.id,this),this.states=this.config.states?Ps(this.config.states,(r,o)=>new jo(r,{_parent:this,_key:o,_machine:this.machine})):Ff,this.type==="compound"&&!this.config.initial)throw new Error(`No initial state specified for compound state node "#${this.id}". Try adding { initial: "${Object.keys(this.states)[0]}" } to the state config.`);this.history=this.config.history===!0?"shallow":this.config.history||!1,this.entry=Bt(this.config.entry).slice(),this.exit=Bt(this.config.exit).slice(),this.meta=this.config.meta,this.output=this.type==="final"||!this.parent?this.config.output:void 0,this.tags=Bt(e.tags).slice()}_initialize(){this.transitions=ff(this),this.config.always&&(this.always=Jt(this.config.always).map(e=>Nt(this,Ga,e))),Object.keys(this.states).forEach(e=>{this.states[e]._initialize()})}get definition(){return{id:this.id,key:this.key,version:this.machine.version,type:this.type,initial:this.initial?{target:this.initial.target,source:this,actions:this.initial.actions.map(fn),eventType:null,reenter:!1,toJSON:()=>({target:this.initial.target.map(e=>`#${e.id}`),source:`#${this.id}`,actions:this.initial.actions.map(fn),eventType:null})}:void 0,history:this.history,states:Ps(this.states,e=>e.definition),on:this.on,transitions:[...this.transitions.values()].flat().map(e=>({...e,actions:e.actions.map(fn)})),entry:this.entry.map(fn),exit:this.exit.map(fn),meta:this.meta,order:this.order||-1,output:this.output,invoke:this.invoke,description:this.description,tags:this.tags}}toJSON(){return this.definition}get invoke(){return Xt(this,"invoke",()=>Bt(this.config.invoke).map((e,t)=>{const{src:r,systemId:o}=e,i=e.id??Is(this.id,t),l=typeof r=="string"?r:`xstate.invoke.${Is(this.id,t)}`;return{...e,src:l,id:i,systemId:o,toJSON(){const{onDone:u,onError:d,...h}=e;return{...h,type:"xstate.invoke",src:l,id:i}}}}))}get on(){return Xt(this,"on",()=>[...this.transitions].flatMap(([t,r])=>r.map(o=>[t,o])).reduce((t,[r,o])=>(t[r]=t[r]||[],t[r].push(o),t),{}))}get after(){return Xt(this,"delayedTransitions",()=>df(this))}get initial(){return Xt(this,"initial",()=>hf(this,this.config.initial))}next(e,t){const r=t.type,o=[];let i;const l=Xt(this,`candidates-${r}`,()=>cf(this,r));for(const u of l){const{guard:d}=u,h=e.context;let p=!1;try{p=!d||Fo(d,h,t,e)}catch(s){const a=typeof d=="string"?d:typeof d=="object"?d.type:void 0;throw new Error(`Unable to evaluate guard ${a?`'${a}' `:""}in transition for event '${r}' in state node '${this.id}':
${s.message}`)}if(p){o.push(...u.actions),i=u;break}}return i?[i]:void 0}get events(){return Xt(this,"events",()=>{const{states:e}=this,t=new Set(this.ownEvents);if(e)for(const r of Object.keys(e)){const o=e[r];if(o.states)for(const i of o.events)t.add(`${i}`)}return Array.from(t)})}get ownEvents(){const e=new Set([...this.transitions.keys()].filter(t=>this.transitions.get(t).some(r=>!(!r.target&&!r.actions.length&&!r.reenter))));return Array.from(e)}}const zf="#";class Vo{constructor(e,t){this.config=e,this.version=void 0,this.schemas=void 0,this.implementations=void 0,this.__xstatenode=!0,this.idMap=new Map,this.root=void 0,this.id=void 0,this.states=void 0,this.events=void 0,this.id=e.id||"(machine)",this.implementations={actors:(t==null?void 0:t.actors)??{},actions:(t==null?void 0:t.actions)??{},delays:(t==null?void 0:t.delays)??{},guards:(t==null?void 0:t.guards)??{}},this.version=this.config.version,this.schemas=this.config.schemas,this.transition=this.transition.bind(this),this.getInitialSnapshot=this.getInitialSnapshot.bind(this),this.getPersistedSnapshot=this.getPersistedSnapshot.bind(this),this.restoreSnapshot=this.restoreSnapshot.bind(this),this.start=this.start.bind(this),this.root=new jo(e,{_key:this.id,_machine:this}),this.root._initialize(),this.states=this.root.states,this.events=this.root.events}provide(e){const{actions:t,guards:r,actors:o,delays:i}=this.implementations;return new Vo(this.config,{actions:{...t,...e.actions},guards:{...r,...e.guards},actors:{...o,...e.actors},delays:{...i,...e.delays}})}resolveState(e){const t=Ef(this.root,e.value),r=pr(vr(this.root,t));return or({_nodes:[...r],context:e.context||{},children:{},status:Ho(r,this.root)?"done":e.status||"active",output:e.output,error:e.error,historyValue:e.historyValue},this)}transition(e,t,r){return Yr(e,t,r,[]).snapshot}microstep(e,t,r){return Yr(e,t,r,[]).microstates}getTransitionData(e,t){return Uo(this.root,e.value,e,t)||[]}getPreInitialState(e,t,r){const{context:o}=this.config,i=or({context:typeof o!="function"&&o?o:{},_nodes:[this.root],children:{},status:"active"},this);return typeof o=="function"?on(i,t,e,[kr(({spawn:u,event:d,self:h})=>o({spawn:u,input:d.input,self:h}))],r,void 0):i}getInitialSnapshot(e,t){const r=Fa(t),o=[],i=this.getPreInitialState(e,r,o),l=yo([{target:[...qa(this.root)],source:this.root,reenter:!0,actions:[],eventType:null,toJSON:null}],i,e,r,!0,o),{snapshot:u}=Yr(l,r,e,o);return u}start(e){Object.values(e.children).forEach(t=>{t.getSnapshot().status==="active"&&t.start()})}getStateNodeById(e){const t=No(e),r=t.slice(1),o=Lr(t[0])?t[0].slice(zf.length):t[0],i=this.idMap.get(o);if(!i)throw new Error(`Child state node '#${o}' does not exist on machine '${this.id}'`);return _r(i,r)}get definition(){return this.root.definition}toJSON(){return this.definition}getPersistedSnapshot(e,t){return Of(e,t)}restoreSnapshot(e,t){const r={},o=e.children;Object.keys(o).forEach(d=>{const h=o[d],p=h.snapshot,s=h.src,a=typeof s=="string"?Go(this,s):s;if(!a)return;const c=gn(a,{id:d,parent:t.self,syncSnapshot:h.syncSnapshot,snapshot:p,src:s,systemId:h.systemId});r[d]=c});const i=or({...e,children:r,_nodes:Array.from(pr(vr(this.root,e.value)))},this),l=new Set;function u(d,h){if(!l.has(d)){l.add(d);for(const p in d){const s=d[p];if(s&&typeof s=="object"){if("xstate$$type"in s&&s.xstate$$type===Wo){d[p]=h[s.id];continue}u(s,h)}}}}return u(i.context,r),i}}function Hf(n,e){return new Vo(n,e)}function Bn({schemas:n,actors:e,actions:t,guards:r,delays:o}){return{createMachine:i=>Hf({...i,schemas:n},{actors:e,actions:t,guards:r,delays:o})}}const Mn={bet:null,rawBet:null},go="rendering",bo="idle",ni="bet",ri="autoBet",oi="resumeBet",si="forceResult",Uf={on:{RENDERED:{target:"idle"}}},Kf={on:{FORCE_RESULT:{target:"forceResult"},RESUME_BET:{target:"resumeBet"},BET:{target:"bet"},AUTO_BET:{target:"autoBet"}}},jf={invoke:{id:"forceResult",src:"forceResult",onDone:"idle"}},Vf={invoke:{id:"resumeBet",src:"resumeBet",onDone:"idle"}},Yf={invoke:{id:"bet",src:"bet",onDone:"idle"}},Xf={invoke:{id:"autoBet",src:"autoBet",onDone:"idle"}},qf=n=>{const e=Bn({actors:{bet:n.bet,autoBet:n.autoBet,resumeBet:n.resumeBet,forceResult:n.forceResult}}).createMachine({context:Mn,initial:"rendering",states:{[go]:Uf,[bo]:Kf,[ni]:Yf,[ri]:Xf,[oi]:Vf,[si]:jf}});return gn(e)},Jf=async({onError:n})=>{var e,t,r;try{const o=await Gl({rgsUrl:Ne.rgsUrl(),gameID:Ne.gameID(),sessionID:Ne.sessionID(),currency:V.currency,mode:V.activeBetModeKey,amount:V.betAmount});if(o!=null&&o.error)throw o;if((e=o==null?void 0:o.round)!=null&&e.state&&((r=(t=o==null?void 0:o.round)==null?void 0:t.state)==null?void 0:r.length)>0)return V.wageredBetAmount=V.betAmount,o;throw{error:"Empty state in data.round",message:JSON.stringify({data:o})}}catch(o){throw n(),V.autoSpinsCounter=0,_e.modal={name:"error",error:o},console.error(o),o}},Os=async()=>{var n;try{const e=await Wl({gameID:Ne.gameID(),sessionID:Ne.sessionID(),rgsUrl:Ne.rgsUrl()});if(e!=null&&e.error)throw e;if(((n=e==null?void 0:e.balance)==null?void 0:n.amount)!==void 0)return e;throw{error:"Empty amount in data.balance",message:JSON.stringify({data:e})}}catch(e){we.force||(_e.modal={name:"error",error:e}),console.error(e)}},Kn=({balanceAmountFromApi:n})=>{V.balanceAmount=n/Nl};function Zf(n){const{onResumeGameActive:e,onResumeGameInactive:t,onNewGameStart:r,onNewGameError:o,onPlayGame:i,checkIsBonusGame:l}=n;let u=null;const d={noWin:{newGame:async()=>{},endGame:async()=>{}},singleRoundWin:{newGame:async()=>{const _=await Os();_!=null&&_.balance&&(u=_.balance.amount)},endGame:async()=>{u!==null&&(Kn({balanceAmountFromApi:u}),u=null)}},bonusWin:{newGame:async()=>{},endGame:async()=>{const _=await Os();_!=null&&_.balance&&(Kn({balanceAmountFromApi:_.balance.amount}),u=null)}}},h=({bet:_})=>{const v=l(_);return _.active===!0&&v?"bonusWin":_.payoutMultiplier&&_.payoutMultiplier>0?v?"bonusWin":"singleRoundWin":"noWin"},p=Xe(async()=>{await r();const _=await Jf({onError:o});if(_){_.balance&&Kn({balanceAmountFromApi:_.balance.amount});const v=_.round,y=h({bet:v});return await d[y].newGame(),{bet:v}}return{bet:null}}),s=Xe(async()=>{const _=V.lastBet;if(_&&_.active){V.lastBet=null;const y=h({bet:_});return await d[y].newGame(),{bet:e(_),rawBet:_}}throw _&&_.state&&_.state.length>0&&t(_),new Error("inactive Bet")}),a=Xe(async({input:_})=>{we.force&&we.forceType!=="pastBets"&&_.bet&&(we.pastBets=[...we.pastBets,_.bet]),_.bet&&await i(_.bet)}),c=Xe(async({input:_})=>{const v=_.rawBet||_.bet;if(v){const y=h({bet:v});await d[y].endGame()}}),m=Xe(async()=>{var _,v,y,S;await r();try{const O=await{api:async()=>await Cl({rgsUrl:Ne.rgsUrl(),gameID:Ne.gameID(),mode:we.forceBetModeKey.toUpperCase(),search:{bookID:we.forceSearch.bookID===void 0?void 0:Number(we.forceSearch.bookID),kind:we.forceSearch.kind==="Any"?void 0:Number(we.forceSearch.kind),symbol:we.forceSearch.symbol==="Any"?void 0:we.forceSearch.symbol,hasWild:we.forceSearch.hasWild==="Any"?void 0:we.forceSearch.hasWild==="True",wildMult:we.forceSearch.wildMult==="Any"?void 0:Number(we.forceSearch.wildMult),gameType:we.forceSearch.gameType==="Any"?void 0:we.forceSearch.gameType}}),json:()=>{const K=JSON.parse(we.forceJson);return{round:{mode:we.forceBetModeKey.toUpperCase(),payoutMultiplier:2,state:K.events},error:null,balance:null}},pastBets:()=>({round:Rl.selectedPastBet(),error:null,balance:null})}[we.forceType]();if(O!=null&&O.error)throw O;if((_=O==null?void 0:O.round)!=null&&_.state&&((y=(v=O==null?void 0:O.round)==null?void 0:v.state)==null?void 0:y.length)>0)return((S=O==null?void 0:O.balance)==null?void 0:S.amount)!==void 0&&Kn({balanceAmountFromApi:O.balance.amount}),V.wageredBetAmount=V.betAmount,O.round.mode&&(V.activeBetModeKey=O.round.mode),{bet:O.round,rawBet:null};throw{error:"Empty state in data.round",message:JSON.stringify({data:O})}}catch(A){throw o(),V.autoSpinsCounter=0,_e.modal={name:"error",error:A},console.error(A),A}});return{newGame:p,playGame:a,endGame:c,resumeGame:s,forceGame:m}}const Qf=Xe(async()=>{var n;if(V.isSpaceHold){if(((n=fe.activeBetMode())==null?void 0:n.type)==="buy"){V.activeBetModeKey="BASE";return}return}throw Error("end bet")}),eh=({newGame:n,playGame:e,endGame:t})=>Bn({actors:{newGame:n,playGame:e,endGame:t,checkSpaceHold:Qf}}).createMachine({context:Mn,id:"bet",initial:"fetching",states:{fetching:{invoke:{id:"newGame",src:"newGame",onDone:[{actions:kr(({context:o,event:i})=>i.output),target:"play"}],onError:[{target:"end"}]}},play:{invoke:{id:"playGame",src:"playGame",input:({context:o})=>({bet:o.bet}),onDone:[{target:"ending"}]}},ending:{invoke:{id:"endGame",src:"endGame",input:({context:o})=>({bet:o.bet,rawBet:o.rawBet}),onDone:[{target:"checkSpaceHold"}]}},checkSpaceHold:{invoke:{id:"checkSpaceHold",src:"checkSpaceHold",onDone:"fetching",onError:"end"}},end:{type:"final"}}});let ai=0;const th=Xe(async()=>{V.winBookEventAmount=0,V.autoSpinsLoss=0,ai=V.balanceAmount}),nh=Xe(async()=>{if(fe.isBetCostAvailable())return"continue";throw V.autoSpinsCounter=0,_e.modal={name:"autoSpinMessage",message:"insufficientFunds"},Error("End auto bet with insufficientFunds")}),rh=Xe(async()=>{if(V.autoSpinsLossLimitAmount===1/0)return"continue";const n=V.balanceAmount,e=Math.round((ai-n)*100)/100;if(V.autoSpinsLoss=e,V.autoSpinsLossLimitAmount>e)return"continue";throw V.autoSpinsCounter=0,_e.modal={name:"autoSpinMessage",message:"lossLimitReached"},Error("End auto bet with lossLimitReached")}),oh=Xe(async()=>{if(V.autoSpinsSingleWinLimitAmount===1/0||V.autoSpinsSingleWinLimitAmount>va(V.winBookEventAmount))return"continue";throw V.autoSpinsCounter=0,_e.modal={name:"autoSpinMessage",message:"singleWinLimitReached"},Error("End auto bet with singleWinLimitReached")}),sh=Xe(async()=>{if(V.autoSpinsCounter>0)return"continue";throw Error("End auto bet with autoSpinsCounter being 0")}),ah=Xe(async()=>{const n=V.autoSpinsCounter-1;V.autoSpinsCounter=n>0?n:0}),ih=({bet:n})=>Bn({actors:{init:th,checkInsufficientFunds:nh,checkLossLimit:rh,checkIfSingleWinLimit:oh,checkAutoSpinsCounter:sh,bet:n,updateAutoSpinsCounter:ah}}).createMachine({context:Mn,id:"autoBet",initial:"init",states:{init:{invoke:{id:"init",src:"init",onDone:"checkInsufficientFunds",onError:"end"}},checkInsufficientFunds:{invoke:{id:"checkInsufficientFunds",src:"checkInsufficientFunds",onDone:"checkLossLimit",onError:"end"}},checkLossLimit:{invoke:{id:"checkLossLimit",src:"checkLossLimit",onDone:"checkIfSingleWinLimit",onError:"end"}},checkIfSingleWinLimit:{invoke:{id:"checkIfSingleWinLimit",src:"checkIfSingleWinLimit",onDone:"checkAutoSpinsCounter",onError:"end"}},checkAutoSpinsCounter:{invoke:{id:"checkAutoSpinsCounter",src:"checkAutoSpinsCounter",onDone:"playing",onError:"end"}},playing:{invoke:{id:"bet",src:"bet",onDone:"updateAutoSpinsCounter"}},updateAutoSpinsCounter:{invoke:{id:"updateAutoSpinsCounter",src:"updateAutoSpinsCounter",onDone:"checkInsufficientFunds"}},end:{type:"final"}}}),lh=n=>Bn({actors:n}).createMachine({context:Mn,id:"resumeBet",initial:"resumeGame",states:{resumeGame:{invoke:{id:"resumeGame",src:"resumeGame",onDone:[{actions:kr(({context:t,event:r})=>r.output),target:"play"}],onError:[{target:"end"}]}},play:{invoke:{id:"playGame",src:"playGame",input:({context:t})=>({bet:t.bet}),onDone:[{target:"ending"}]}},ending:{invoke:{id:"endGame",src:"endGame",input:({context:t})=>({bet:t.bet,rawBet:t.rawBet}),onDone:[{target:"end"}]}},end:{type:"final"}}}),uh=n=>Bn({actors:n}).createMachine({context:Mn,id:"bet",initial:"fetching",states:{fetching:{invoke:{id:"forceGame",src:"forceGame",onDone:[{actions:kr(({context:t,event:r})=>r.output),target:"play"}],onError:[{target:"end"}]}},play:{invoke:{id:"playGame",src:"playGame",input:({context:t})=>({bet:t.bet}),onDone:[{target:"ending"}]}},ending:{invoke:{id:"endGame",src:"endGame",input:({context:t})=>({bet:t.bet,rawBet:t.rawBet}),onDone:[{target:"end"}]}},end:{type:"final"}}}),ch=({forceGame:n,resumeGame:e,newGame:t,playGame:r,endGame:o})=>{const i=eh({newGame:t,playGame:r,endGame:o}),l=ih({bet:i}),u=lh({resumeGame:e,playGame:r,endGame:o}),d=uh({forceGame:n,playGame:r,endGame:o});return{bet:i,autoBet:l,resumeBet:u,forceResult:d}},dh=()=>{const n=r=>Ro(r,e.value),e=ne({value:""});return{stateXstate:e,stateXstateDerived:{matchesXstate:n,isRendering:()=>n(go),isIdle:()=>n(bo),isBetting:()=>n(ni),isAutoBetting:()=>n(ri),isResumingBet:()=>n(oi),isForcingResult:()=>n(si),isPlaying:()=>!n(go)&&!n(bo)}}},ii="@@xstate";function fh(n){Kt(ii,n)}function li(){return jt(ii)}const Le=()=>({...St(),...li(),...ht(),...rt()});function hh(n,e){k(e,!0);const t=Le();let r=Z(!0),o=Z(()=>{});t.eventEmitter.subscribeOnMount({uiShow:async()=>{f(r)===!1&&(N(r,!0),await Me(i=>N(o,ne(i))))},uiHide:async()=>{f(r)===!0&&(N(r,!1),await Me(i=>N(o,ne(i))))}}),He(n,{persistent:!0,get show(){return f(r)},get oncomplete(){return f(o)},children:(i,l)=>{var u=E(),d=w(u);D(d,()=>e.children),g(i,u)},$$slots:{default:!0}}),B()}var mh=L("<!> <!> <!>",1);function Pe(n,e){k(e,!0);const t=me(e,["$$slots","$$events","$$legacy","debug","alignVertical","alignHorizontal","children","standard"]),r=ht(),o=b(e.standard?r.stateLayoutDerived.mainLayoutStandard:r.stateLayoutDerived.mainLayout),i=b(r.stateLayoutDerived.canvasSizes),l=()=>{const p=f(i).height*.5-f(o).height*f(o).scale*.5;return e.alignVertical==="bottom"?p:0},u=()=>e.alignHorizontal==="left"?-f(i).width*.5+f(o).width*f(o).scale*.5:e.alignHorizontal==="right"?f(i).width*.5-f(o).width*f(o).scale*.5:0,d=b(l),h=b(u);G(n,{get x(){return f(h)},get y(){return f(d)},children:(p,s)=>{const a=b(()=>tt({anchor:f(o).anchor,sizes:{width:f(o).width,height:f(o).height}}));G(p,q(()=>t,{get x(){return f(o).x},get y(){return f(o).y},get scale(){return f(o).scale},get pivot(){return f(a)},children:(c,m)=>{var _=mh(),v=w(_);{var y=T=>{Ve(T,{get width(){return f(o).width},get height(){return f(o).height},alpha:.5,borderWidth:2,borderColor:16777215})};Q(v,T=>{e.debug&&T(y)})}var S=x(v,2);D(S,()=>e.children);var A=x(S,2);{var P=T=>{const C=b(()=>`
layoutType: ${r.stateLayoutDerived.layoutType()}

type: ${e.standard?"standard":"game"}

scale: ${f(o).scale}

mainSizes: {
		width: ${f(o).width},
		height: ${f(o).height}
}

canvasSizes: {
		width: ${r.stateLayoutDerived.canvasSizes().width},
		height: ${r.stateLayoutDerived.canvasSizes().height}
}`);ze(T,{get text(){return f(C)},style:{fill:16777215}})};Q(A,T=>{e.debug&&T(P)})}g(c,_)},$$slots:{default:!0}}))},$$slots:{default:!0}}),B()}function Br(n,e){k(e,!0);const t=me(e,["$$slots","$$events","$$legacy"]),r=ht();Ve(n,q(()=>t,{get width(){return r.stateLayoutDerived.canvasSizes().width},get height(){return r.stateLayoutDerived.canvasSizes().height}})),B()}function ph(n,e){k(e,!0),Br(n,{get onpointerup(){return e.onpress},cursor:"pointer",eventMode:"static",backgroundColor:16777215,backgroundAlpha:.001}),B()}const he=150,Ye=he*.3,le=he*.9,ui=[le*(188/116),800,350,le*(340/116)],ve=he*1.1,_h=[ve*(188/116),1e3,ve*(373/116)];var vh=L("<!> <!> <!> <!> <!> <!> <!> <!> <!> <!>",1),yh=L("<!> <!> <!> <!> <!>",1),gh=L("<!> <!>",1),bh=L("<!> <!> <!> <!>",1);function wh(n,e){k(e,!0);const t=Le();var r=bh(),o=w(r);G(o,{x:20,children:(p,s)=>{var a=E(),c=w(a);D(c,()=>e.gameName),g(p,a)},$$slots:{default:!0}});var i=x(o,2);const l=b(()=>t.stateLayoutDerived.canvasSizes().width-20);G(i,{get x(){return f(l)},children:(p,s)=>{var a=E(),c=w(a);D(c,()=>e.logo),g(p,a)},$$slots:{default:!0}});var u=x(i,2);Pe(u,{standard:!0,alignVertical:"bottom",children:(p,s)=>{const a=b(()=>t.stateLayoutDerived.mainLayoutStandard().width*.5),c=b(()=>t.stateLayoutDerived.mainLayoutStandard().height-le-10),m=b(()=>tt({anchor:{x:.5,y:0},sizes:{height:le,width:ui.reduce((_,v)=>_+v,0)}}));G(p,{get x(){return f(a)},get y(){return f(c)},get pivot(){return f(m)},children:(_,v)=>{var y=vh(),S=w(y);G(S,{y:le*.5-160,x:400,scale:.8,children:(U,R)=>{var M=E(),I=w(M);D(I,()=>e.amountBalance,()=>({stacked:!0})),g(U,M)},$$slots:{default:!0}});var A=x(S,2);G(A,{y:le*.5-160,x:900,scale:.8,children:(U,R)=>{var M=E(),I=w(M);D(I,()=>e.amountWin,()=>({stacked:!0})),g(U,M)},$$slots:{default:!0}});var P=x(A,2);G(P,{y:le*.5-160,x:1400,scale:.8,children:(U,R)=>{var M=E(),I=w(M);D(I,()=>e.amountBet,()=>({stacked:!0})),g(U,M)},$$slots:{default:!0}});var T=x(P,2);G(T,{y:le*.5,x:220,scale:.8,children:(U,R)=>{var M=E(),I=w(M);D(I,()=>e.buttonMenu,()=>({anchor:.5})),g(U,M)},$$slots:{default:!0}});var C=x(T,2);G(C,{y:le*.5,x:370,scale:.8,children:(U,R)=>{var M=E(),I=w(M);D(I,()=>e.buttonBuyBonus,()=>({anchor:.5})),g(U,M)},$$slots:{default:!0}});var O=x(C,2);G(O,{y:le*.5,x:160+150*4,scale:.8,children:(U,R)=>{var M=E(),I=w(M);D(I,()=>e.buttonAutoSpin,()=>({anchor:.5})),g(U,M)},$$slots:{default:!0}});var K=x(O,2);G(K,{y:le*.5,x:160+150*5,scale:.8,children:(U,R)=>{var M=E(),I=w(M);D(I,()=>e.buttonBet,()=>({anchor:.5})),g(U,M)},$$slots:{default:!0}});var W=x(K,2);G(W,{y:le*.5,x:160+150*6,scale:.8,children:(U,R)=>{var M=E(),I=w(M);D(I,()=>e.buttonTurbo,()=>({anchor:.5})),g(U,M)},$$slots:{default:!0}});var X=x(W,2);G(X,{y:le*.5,x:1440,scale:.8,children:(U,R)=>{var M=E(),I=w(M);D(I,()=>e.buttonDecrease,()=>({anchor:.5})),g(U,M)},$$slots:{default:!0}});var H=x(X,2);G(H,{y:le*.5,x:1590,scale:.8,children:(U,R)=>{var M=E(),I=w(M);D(I,()=>e.buttonIncrease,()=>({anchor:.5})),g(U,M)},$$slots:{default:!0}}),g(_,y)},$$slots:{default:!0}})},$$slots:{default:!0}});var d=x(u,2);{var h=p=>{var s=gh(),a=w(s);const c=b(()=>t.stateLayoutDerived.canvasSizes().width*.5),m=b(()=>t.stateLayoutDerived.canvasSizes().height*.5);Ve(a,{eventMode:"static",cursor:"pointer",alpha:.5,anchor:.5,backgroundColor:Er,get width(){return t.stateLayoutDerived.canvasSizes().width},get height(){return t.stateLayoutDerived.canvasSizes().height},get x(){return f(c)},get y(){return f(m)},onpointerup:()=>se.menuOpen=!1});var _=x(a,2);Pe(_,{standard:!0,alignVertical:"bottom",children:(v,y)=>{const S=b(()=>t.stateLayoutDerived.mainLayoutStandard().height-le-10);G(v,{x:298,get y(){return f(S)},children:(A,P)=>{var T=yh(),C=w(T);G(C,{scale:.8,y:le*.5-150-510,children:(H,U)=>{var R=E(),M=w(R);D(M,()=>e.buttonPayTable,()=>({anchor:.5})),g(H,R)},$$slots:{default:!0}});var O=x(C,2);G(O,{scale:.8,y:le*.5-150-340,children:(H,U)=>{var R=E(),M=w(R);D(M,()=>e.buttonGameRules,()=>({anchor:.5})),g(H,R)},$$slots:{default:!0}});var K=x(O,2);G(K,{scale:.8,y:le*.5-150-170,children:(H,U)=>{var R=E(),M=w(R);D(M,()=>e.buttonSettings,()=>({anchor:.5})),g(H,R)},$$slots:{default:!0}});var W=x(K,2);G(W,{scale:.8,y:le*.5-150,children:(H,U)=>{var R=E(),M=w(R);D(M,()=>e.buttonSoundSwitch,()=>({anchor:.5})),g(H,R)},$$slots:{default:!0}});var X=x(W,2);G(X,{scale:.8,y:le*.5,children:(H,U)=>{var R=E(),M=w(R);D(M,()=>e.buttonMenuClose,()=>({anchor:.5})),g(H,R)},$$slots:{default:!0}}),g(A,T)},$$slots:{default:!0}})},$$slots:{default:!0}}),g(p,s)};Q(d,p=>{se.menuOpen&&p(h)})}g(n,r),B()}function sn(n,e){const t=me(e,["$$slots","$$events","$$legacy"]);Ve(n,q({borderRadius:50},()=>t))}var Sh=L("<!> <!> <!>",1),xh=L("<!> <!> <!>",1);function Mr(n,e){k(e,!0);const t={fontFamily:"proxima-nova",fontSize:Ye,fill:hr},r={fontFamily:"proxima-nova",fontSize:Ye,fill:hr};var o=E(),i=w(o);{var l=d=>{var h=Sh(),p=w(h);{var s=m=>{sn(m,{y:-20,anchor:{x:.5,y:0},key:"base_ticker",width:Ye*3*4.465753424657534,height:Ye*3,borderRadius:35})};Q(p,m=>{e.tiled&&m(s)})}var a=x(p,2);ze(a,{anchor:{x:.5,y:0},get text(){return e.label},style:t});var c=x(a,2);ze(c,{anchor:{x:.5,y:0},get text(){return e.value},style:r,y:Ye}),g(d,h)},u=d=>{var h=xh(),p=w(h);{var s=m=>{sn(m,{x:-90,anchor:{x:0,y:.5},key:"base_ticker",width:Ye*3*4.465753424657534,height:Ye*3,borderRadius:35})};Q(p,m=>{e.tiled&&m(s)})}var a=x(p,2);ze(a,{anchor:{x:0,y:.5},get text(){return e.label},style:t});var c=x(a,2);ze(c,{anchor:{x:1,y:.5},get text(){return e.value},style:r,x:Ye*10}),g(d,h)};Q(i,d=>{e.stacked?d(l):d(u,!1)})}g(n,o),B()}const ft={audio:()=>j._(j.t("AUDIO")),balance:()=>j._(j.t("BALANCE")),win:()=>j._(j.t("WIN")),bet:()=>j._(j.t("BET")),stop:()=>j._(j.t("STOP")),buyBonus:()=>j._(j.t("BUY BONUS")),disable:()=>j._(j.t("DISABLE")),freeSpins:()=>j._(j.t("FREE SPINS")),decrease:()=>j._(j.t("-")),increase:()=>j._(j.t("+")),menu:()=>j._(j.t("MENU")),turbo:()=>j._(j.t("TURBO")),autoSpin:()=>j._(j.t("AUTO SPIN")),payTable:()=>j._(j.t("PAYTABLE")),info:()=>j._(j.t("INFO")),settings:()=>j._(j.t("SETTINGS")),soundOn:()=>j._(j.t("SOUND ON")),soundOff:()=>j._(j.t("SOUND OFF")),menuExit:()=>j._(j.t("EXIT"))};function ci(n,e){k(e,!0);const t=b(()=>ft.freeSpins()),r=b(()=>`${se.freeSpinCounterCurrent} / ${se.freeSpinCounterTotal}`);Mr(n,{tiled:!0,get label(){return f(t)},get value(){return f(r)},get stacked(){return e.stacked}}),B()}var Ah=L("<!> <!>",1);function Th(n,e){k(e,!0);const t=me(e,["$$slots","$$events","$$legacy"]),r=Le(),o={width:he,height:he},i=a=>a*Math.PI/180,l={up:i(-180),down:i(0)},u=new De(se.drawerFold?l.up:l.down,{easing:io});let d=Z(!1);const h=b(()=>e.disabled||f(d)),p=async()=>{se.drawerFold?await r.eventEmitter.broadcastAsync({type:"drawerUnfold"}):await r.eventEmitter.broadcastAsync({type:"drawerFold"})};r.eventEmitter.subscribeOnMount({drawerUnfold:async()=>{se.drawerFold&&(N(d,!0),await u.set(l.down),se.drawerFold=!1,N(d,!1))},drawerFold:async()=>{se.drawerFold||(N(d,!0),await u.set(l.up),se.drawerFold=!0,N(d,!1))}});const s=b(()=>f(h)?.5:1);Ir(n,q(()=>t,{sizes:o,onpress:p,get disabled(){return f(h)},get alpha(){return f(s)},children:(c,m)=>{let _=()=>m==null?void 0:m().center;var v=Ah(),y=w(v);sn(y,q({key:"base_mobile_drawer"},_,{anchor:.5,get width(){return o.width},get height(){return o.height}}));var S=x(y,2);ze(S,q(_,{anchor:.5,text:"↓",style:{align:"center",wordWrap:!0,wordWrapWidth:200,fontFamily:"proxima-nova",fontWeight:"600",fontSize:Ye*.9,fill:16777215},get rotation(){return u.current}})),g(c,v)},$$slots:{default:!0}})),B()}var Ph=L("<!> <!> <!> <!> <!> <!>",1),Ih=L("<!> <!>",1),Eh=L("<!> <!> <!>",1),Lh=L("<!> <!>",1),kh=L("<!> <!> <!> <!> <!>",1),Bh=L("<!> <!>",1),Mh=L("<!> <!> <!> <!> <!>",1);function Dh(n,e){k(e,!0);const t=Le(),r={unfold:0,fold:550},o=new De(se.drawerFold?r.fold:r.unfold,{easing:io}),i={unfold:0,fold:50},l=new De(se.drawerFold?i.fold:i.unfold,{easing:io});let u=Z(()=>{});t.eventEmitter.subscribeOnMount({drawerButtonShow:async()=>{se.drawerButtonShow||(se.drawerButtonShow=!0,await Me(v=>N(u,ne(v))))},drawerButtonHide:async()=>{se.drawerButtonShow&&(se.drawerButtonShow=!1,await Me(v=>N(u,ne(v))))},drawerUnfold:async()=>{se.drawerFold&&(l.set(i.unfold),await o.set(r.unfold))},drawerFold:async()=>{se.drawerFold||(l.set(i.fold),await o.set(r.fold))}});var d=Mh(),h=w(d);G(h,{x:20,children:(v,y)=>{var S=E(),A=w(S);D(A,()=>e.gameName),g(v,S)},$$slots:{default:!0}});var p=x(h,2);const s=b(()=>t.stateLayoutDerived.canvasSizes().width-20);G(p,{get x(){return f(s)},children:(v,y)=>{var S=E(),A=w(S);D(A,()=>e.logo),g(v,S)},$$slots:{default:!0}});var a=x(p,2);Pe(a,{standard:!0,alignVertical:"bottom",children:(v,y)=>{var S=Ih(),A=w(S);G(A,{get y(){return o.current},children:(C,O)=>{var K=Ph(),W=w(K);const X=b(()=>t.stateLayoutDerived.mainLayoutStandard().width*.5-440),H=b(()=>t.stateLayoutDerived.mainLayoutStandard().height-400);G(W,{get x(){return f(X)},get y(){return f(H)},children:($e,pt)=>{var xe=E(),Ue=w(xe);D(Ue,()=>e.buttonMenu,()=>({anchor:.5})),g($e,xe)},$$slots:{default:!0}});var U=x(W,2);const R=b(()=>t.stateLayoutDerived.mainLayoutStandard().width*.5+440),M=b(()=>t.stateLayoutDerived.mainLayoutStandard().height-400);G(U,{get x(){return f(R)},get y(){return f(M)},children:($e,pt)=>{var xe=E(),Ue=w(xe);D(Ue,()=>e.buttonBuyBonus,()=>({anchor:.5})),g($e,xe)},$$slots:{default:!0}});var I=x(U,2);const $=b(()=>t.stateLayoutDerived.mainLayoutStandard().width*.5),F=b(()=>t.stateLayoutDerived.mainLayoutStandard().height-400);G(I,{get x(){return f($)},get y(){return f(F)},children:($e,pt)=>{var xe=E(),Ue=w(xe);D(Ue,()=>e.buttonBet,()=>({anchor:.5})),g($e,xe)},$$slots:{default:!0}});var J=x(I,2);const pe=b(()=>t.stateLayoutDerived.mainLayoutStandard().width*.5-180),re=b(()=>t.stateLayoutDerived.mainLayoutStandard().height-400);G(J,{get x(){return f(pe)},get y(){return f(re)},children:($e,pt)=>{var xe=E(),Ue=w(xe);D(Ue,()=>e.buttonAutoSpin,()=>({anchor:.5})),g($e,xe)},$$slots:{default:!0}});var de=x(J,2);const Ce=b(()=>t.stateLayoutDerived.mainLayoutStandard().width*.5+180),ot=b(()=>t.stateLayoutDerived.mainLayoutStandard().height-400);G(de,{get x(){return f(Ce)},get y(){return f(ot)},children:($e,pt)=>{var xe=E(),Ue=w(xe);D(Ue,()=>e.buttonTurbo,()=>({anchor:.5})),g($e,xe)},$$slots:{default:!0}});var Ze=x(de,2);const st=b(()=>t.stateLayoutDerived.mainLayoutStandard().width*.5),Tt=b(()=>t.stateLayoutDerived.mainLayoutStandard().height-270);G(Ze,{get x(){return f(st)},get y(){return f(Tt)},children:($e,pt)=>{var xe=E(),Ue=w(xe);D(Ue,()=>e.amountBalance,()=>({stacked:!0})),g($e,xe)},$$slots:{default:!0}}),g(C,K)},$$slots:{default:!0}});var P=x(A,2);const T=b(()=>Math.min(o.current,350));G(P,{get y(){return f(T)},children:(C,O)=>{const K=b(()=>t.stateLayoutDerived.mainLayoutStandard().width*.5),W=b(()=>t.stateLayoutDerived.mainLayoutStandard().height-670);G(C,{get x(){return f(K)},get y(){return f(W)},children:(X,H)=>{var U=E(),R=w(U);D(R,()=>e.amountWin,()=>({stacked:!0})),g(X,U)},$$slots:{default:!0}})},$$slots:{default:!0}}),g(v,S)},$$slots:{default:!0}});var c=x(a,2);Pe(c,{standard:!0,alignVertical:"bottom",children:(v,y)=>{var S=Lh(),A=w(S);{var P=O=>{const K=b(()=>t.stateLayoutDerived.mainLayoutStandard().width*.5),W=b(()=>t.stateLayoutDerived.mainLayoutStandard().height-130);G(O,{get x(){return f(K)},get y(){return f(W)},children:(X,H)=>{ci(X,{stacked:!0})},$$slots:{default:!0}})},T=O=>{var K=Eh(),W=w(K);const X=b(()=>t.stateLayoutDerived.mainLayoutStandard().width*.5),H=b(()=>t.stateLayoutDerived.mainLayoutStandard().height-130);G(W,{get x(){return f(X)},get y(){return f(H)},children:(J,pe)=>{var re=E(),de=w(re);D(de,()=>e.amountBet,()=>({stacked:!0})),g(J,re)},$$slots:{default:!0}});var U=x(W,2);const R=b(()=>t.stateLayoutDerived.mainLayoutStandard().width*.5-390),M=b(()=>t.stateLayoutDerived.mainLayoutStandard().height-85);G(U,{get x(){return f(R)},get y(){return f(M)},children:(J,pe)=>{var re=E(),de=w(re);D(de,()=>e.buttonDecrease,()=>({anchor:.5})),g(J,re)},$$slots:{default:!0}});var I=x(U,2);const $=b(()=>t.stateLayoutDerived.mainLayoutStandard().width*.5+390),F=b(()=>t.stateLayoutDerived.mainLayoutStandard().height-85);G(I,{get x(){return f($)},get y(){return f(F)},children:(J,pe)=>{var re=E(),de=w(re);D(de,()=>e.buttonIncrease,()=>({anchor:.5})),g(J,re)},$$slots:{default:!0}}),g(O,K)};Q(A,O=>{se.freeSpinCounterShow?O(P):O(T,!1)})}var C=x(A,2);He(C,{persistent:!0,get show(){return se.drawerButtonShow},get oncomplete(){return f(u)},get y(){return l.current},children:(O,K)=>{const W=b(()=>t.stateLayoutDerived.mainLayoutStandard().width*.5+440),X=b(()=>t.stateLayoutDerived.mainLayoutStandard().height-105);G(O,{get x(){return f(W)},get y(){return f(X)},children:(H,U)=>{const R=b(()=>!se.drawerButtonShow);Th(H,{get disabled(){return f(R)},anchor:.5})},$$slots:{default:!0}})},$$slots:{default:!0}}),g(v,S)},$$slots:{default:!0}});var m=x(c,2);{var _=v=>{var y=Bh(),S=w(y);const A=b(()=>t.stateLayoutDerived.canvasSizes().width*.5),P=b(()=>t.stateLayoutDerived.canvasSizes().height*.5);Ve(S,{eventMode:"static",cursor:"pointer",alpha:.5,anchor:.5,backgroundColor:Er,get width(){return t.stateLayoutDerived.canvasSizes().width},get height(){return t.stateLayoutDerived.canvasSizes().height},get x(){return f(A)},get y(){return f(P)},onpointerup:()=>se.menuOpen=!1});var T=x(S,2);Pe(T,{standard:!0,alignVertical:"bottom",children:(C,O)=>{const K=b(()=>t.stateLayoutDerived.mainLayoutStandard().width*.5-440),W=b(()=>t.stateLayoutDerived.mainLayoutStandard().height-400);G(C,{get x(){return f(K)},get y(){return f(W)},children:(X,H)=>{var U=kh(),R=w(U);G(R,{y:-820,children:(J,pe)=>{var re=E(),de=w(re);D(de,()=>e.buttonPayTable,()=>({anchor:.5})),g(J,re)},$$slots:{default:!0}});var M=x(R,2);G(M,{y:-610,children:(J,pe)=>{var re=E(),de=w(re);D(de,()=>e.buttonGameRules,()=>({anchor:.5})),g(J,re)},$$slots:{default:!0}});var I=x(M,2);G(I,{y:-400,children:(J,pe)=>{var re=E(),de=w(re);D(de,()=>e.buttonSettings,()=>({anchor:.5})),g(J,re)},$$slots:{default:!0}});var $=x(I,2);G($,{y:-190,children:(J,pe)=>{var re=E(),de=w(re);D(de,()=>e.buttonSoundSwitch,()=>({anchor:.5})),g(J,re)},$$slots:{default:!0}});var F=x($,2);G(F,{children:(J,pe)=>{var re=E(),de=w(re);D(de,()=>e.buttonMenuClose,()=>({anchor:.5})),g(J,re)},$$slots:{default:!0}}),g(X,U)},$$slots:{default:!0}})},$$slots:{default:!0}}),g(v,y)};Q(m,v=>{se.menuOpen&&v(_)})}g(n,d),B()}var $h=L("<!> <!> <!> <!> <!> <!> <!>",1),Oh=L("<!> <!> <!>",1),Ch=L("<!> <!>",1),Rh=L("<!> <!> <!> <!> <!>",1),Nh=L("<!> <!>",1),Gh=L("<!> <!> <!> <!>",1);function Wh(n,e){k(e,!0);const t=Le();var r=Gh(),o=w(r);G(o,{x:20,children:(p,s)=>{var a=E(),c=w(a);D(c,()=>e.gameName),g(p,a)},$$slots:{default:!0}});var i=x(o,2);const l=b(()=>t.stateLayoutDerived.canvasSizes().width-20);G(i,{get x(){return f(l)},children:(p,s)=>{var a=E(),c=w(a);D(c,()=>e.logo),g(p,a)},$$slots:{default:!0}});var u=x(i,2);Pe(u,{standard:!0,alignVertical:"bottom",children:(p,s)=>{var a=Ch(),c=w(a);const m=b(()=>t.stateLayoutDerived.mainLayoutStandard().width*.5),_=b(()=>t.stateLayoutDerived.mainLayoutStandard().height-ve-40),v=b(()=>tt({anchor:{x:.5,y:0},sizes:{height:ve,width:_h.reduce((T,C)=>T+C,0)}}));G(c,{get x(){return f(m)},get y(){return f(_)},get pivot(){return f(v)},children:(T,C)=>{var O=$h(),K=w(O);G(K,{y:ve*.5-90,x:105,scale:.8,children:(I,$)=>{var F=E(),J=w(F);D(J,()=>e.buttonMenu,()=>({anchor:.5})),g(I,F)},$$slots:{default:!0}});var W=x(K,2);G(W,{y:ve*.5-90,x:240,scale:.8,children:(I,$)=>{var F=E(),J=w(F);D(J,()=>e.buttonBuyBonus,()=>({anchor:.5})),g(I,F)},$$slots:{default:!0}});var X=x(W,2);G(X,{y:ve*.5,x:420,scale:.8,children:(I,$)=>{var F=E(),J=w(F);D(J,()=>e.amountBalance,()=>({stacked:!0})),g(I,F)},$$slots:{default:!0}});var H=x(X,2);G(H,{y:ve*.5,x:910,scale:.8,children:(I,$)=>{var F=E(),J=w(F);D(J,()=>e.amountWin,()=>({stacked:!0})),g(I,F)},$$slots:{default:!0}});var U=x(H,2);G(U,{y:ve*.5,x:1400,scale:.8,children:(I,$)=>{var F=E(),J=w(F);D(J,()=>e.amountBet,()=>({stacked:!0})),g(I,F)},$$slots:{default:!0}});var R=x(U,2);G(R,{y:ve*.5-90,x:1580,scale:.8,children:(I,$)=>{var F=E(),J=w(F);D(J,()=>e.buttonDecrease,()=>({anchor:.5})),g(I,F)},$$slots:{default:!0}});var M=x(R,2);G(M,{y:ve*.5-90,x:1715,scale:.8,children:(I,$)=>{var F=E(),J=w(F);D(J,()=>e.buttonIncrease,()=>({anchor:.5})),g(I,F)},$$slots:{default:!0}}),g(T,O)},$$slots:{default:!0}});var y=x(c,2);const S=b(()=>t.stateLayoutDerived.mainLayoutStandard().width-60),A=b(()=>t.stateLayoutDerived.mainLayoutStandard().height*.5),P=b(()=>tt({anchor:{x:1,y:.5},sizes:{height:ve,width:ve}}));G(y,{get x(){return f(S)},get y(){return f(A)},get pivot(){return f(P)},children:(T,C)=>{var O=Oh(),K=w(O);G(K,{x:ve*.5,y:ve*.5-140,scale:.8,children:(H,U)=>{var R=E(),M=w(R);D(M,()=>e.buttonAutoSpin,()=>({anchor:.5})),g(H,R)},$$slots:{default:!0}});var W=x(K,2);G(W,{x:ve*.5,y:ve*.5,scale:.8,children:(H,U)=>{var R=E(),M=w(R);D(M,()=>e.buttonBet,()=>({anchor:.5})),g(H,R)},$$slots:{default:!0}});var X=x(W,2);G(X,{x:ve*.5,y:ve*.5+140,scale:.8,children:(H,U)=>{var R=E(),M=w(R);D(M,()=>e.buttonTurbo,()=>({anchor:.5})),g(H,R)},$$slots:{default:!0}}),g(T,O)},$$slots:{default:!0}}),g(p,a)},$$slots:{default:!0}});var d=x(u,2);{var h=p=>{var s=Nh(),a=w(s);const c=b(()=>t.stateLayoutDerived.canvasSizes().width*.5),m=b(()=>t.stateLayoutDerived.canvasSizes().height*.5);Ve(a,{eventMode:"static",cursor:"pointer",alpha:.5,anchor:.5,backgroundColor:Er,get width(){return t.stateLayoutDerived.canvasSizes().width},get height(){return t.stateLayoutDerived.canvasSizes().height},get x(){return f(c)},get y(){return f(m)},onpointerup:()=>se.menuOpen=!1});var _=x(a,2);Pe(_,{standard:!0,alignVertical:"bottom",children:(v,y)=>{const S=b(()=>t.stateLayoutDerived.mainLayoutStandard().height-ve-130);G(v,{x:165,get y(){return f(S)},children:(A,P)=>{var T=Rh(),C=w(T);G(C,{scale:.8,y:ve*.5-150-510,children:(H,U)=>{var R=E(),M=w(R);D(M,()=>e.buttonPayTable,()=>({anchor:.5})),g(H,R)},$$slots:{default:!0}});var O=x(C,2);G(O,{scale:.8,y:ve*.5-150-340,children:(H,U)=>{var R=E(),M=w(R);D(M,()=>e.buttonGameRules,()=>({anchor:.5})),g(H,R)},$$slots:{default:!0}});var K=x(O,2);G(K,{scale:.8,y:ve*.5-150-170,children:(H,U)=>{var R=E(),M=w(R);D(M,()=>e.buttonSettings,()=>({anchor:.5})),g(H,R)},$$slots:{default:!0}});var W=x(K,2);G(W,{scale:.8,y:ve*.5-150,children:(H,U)=>{var R=E(),M=w(R);D(M,()=>e.buttonSoundSwitch,()=>({anchor:.5})),g(H,R)},$$slots:{default:!0}});var X=x(W,2);G(X,{scale:.8,y:ve*.5,children:(H,U)=>{var R=E(),M=w(R);D(M,()=>e.buttonMenuClose,()=>({anchor:.5})),g(H,R)},$$slots:{default:!0}}),g(A,T)},$$slots:{default:!0}})},$$slots:{default:!0}}),g(p,s)};Q(d,p=>{se.menuOpen&&p(h)})}g(n,r),B()}var Fh=L("<!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!>",1),zh=L("<!> <!> <!> <!> <!>",1),Hh=L("<!> <!>",1),Uh=L("<!> <!> <!> <!>",1);function Kh(n,e){k(e,!0);const t=Le();var r=Uh(),o=w(r);G(o,{x:20,children:(p,s)=>{var a=E(),c=w(a);D(c,()=>e.gameName),g(p,a)},$$slots:{default:!0}});var i=x(o,2);const l=b(()=>t.stateLayoutDerived.canvasSizes().width-20);G(i,{get x(){return f(l)},children:(p,s)=>{var a=E(),c=w(a);D(c,()=>e.logo),g(p,a)},$$slots:{default:!0}});var u=x(i,2);Pe(u,{standard:!0,alignVertical:"bottom",children:(p,s)=>{const a=b(()=>t.stateLayoutDerived.mainLayoutStandard().width*.5),c=b(()=>t.stateLayoutDerived.mainLayoutStandard().height-le-30),m=b(()=>tt({anchor:{x:.5,y:0},sizes:{height:le,width:ui.reduce((_,v)=>_+v,0)}}));G(p,{get x(){return f(a)},get y(){return f(c)},get pivot(){return f(m)},children:(_,v)=>{var y=Fh(),S=w(y);G(S,{y:le*.5-220,x:240,children:(M,I)=>{var $=E(),F=w($);D(F,()=>e.amountBalance,()=>({stacked:!0})),g(M,$)},$$slots:{default:!0}});var A=x(S,2);G(A,{y:le*.5-220,x:880,children:(M,I)=>{var $=E(),F=w($);D(F,()=>e.amountWin,()=>({stacked:!0})),g(M,$)},$$slots:{default:!0}});var P=x(A,2);G(P,{y:le*.5-220,x:1520,children:(M,I)=>{var $=E(),F=w($);D(F,()=>e.amountBet,()=>({stacked:!0})),g(M,$)},$$slots:{default:!0}});var T=x(P,2);G(T,{y:le*.5,x:20,children:(M,I)=>{var $=E(),F=w($);D(F,()=>e.buttonMenu,()=>({anchor:.5})),g(M,$)},$$slots:{default:!0}});var C=x(T,2);G(C,{y:le*.5,x:200,children:(M,I)=>{var $=E(),F=w($);D(F,()=>e.buttonBuyBonus,()=>({anchor:.5})),g(M,$)},$$slots:{default:!0}});var O=x(C,2);G(O,{y:le*.5,x:-10+180*4,children:(M,I)=>{var $=E(),F=w($);D(F,()=>e.buttonAutoSpin,()=>({anchor:.5})),g(M,$)},$$slots:{default:!0}});var K=x(O,2);G(K,{y:le*.5,x:-10+180*5,children:(M,I)=>{var $=E(),F=w($);D(F,()=>e.buttonBet,()=>({anchor:.5})),g(M,$)},$$slots:{default:!0}});var W=x(K,2);G(W,{y:le*.5,x:-10+180*6,children:(M,I)=>{var $=E(),F=w($);D(F,()=>e.buttonTurbo,()=>({anchor:.5})),g(M,$)},$$slots:{default:!0}});var X=x(W,2);G(X,{y:le*.5,x:1560,children:(M,I)=>{var $=E(),F=w($);D(F,()=>e.buttonDecrease,()=>({anchor:.5})),g(M,$)},$$slots:{default:!0}});var H=x(X,2);G(H,{y:le*.5,x:1740,children:(M,I)=>{var $=E(),F=w($);D(F,()=>e.buttonIncrease,()=>({anchor:.5})),g(M,$)},$$slots:{default:!0}});var U=x(H,2);{var R=M=>{G(M,{y:le*.5-320,x:668,children:(I,$)=>{ci(I,{})},$$slots:{default:!0}})};Q(U,M=>{se.freeSpinCounterShow&&M(R)})}g(_,y)},$$slots:{default:!0}})},$$slots:{default:!0}});var d=x(u,2);{var h=p=>{var s=Hh(),a=w(s);const c=b(()=>t.stateLayoutDerived.canvasSizes().width*.5),m=b(()=>t.stateLayoutDerived.canvasSizes().height*.5);Ve(a,{eventMode:"static",cursor:"pointer",alpha:.5,anchor:.5,backgroundColor:Er,get width(){return t.stateLayoutDerived.canvasSizes().width},get height(){return t.stateLayoutDerived.canvasSizes().height},get x(){return f(c)},get y(){return f(m)},onpointerup:()=>se.menuOpen=!1});var _=x(a,2);Pe(_,{standard:!0,alignVertical:"bottom",children:(v,y)=>{const S=b(()=>t.stateLayoutDerived.mainLayoutStandard().height-le-30);G(v,{x:100,get y(){return f(S)},children:(A,P)=>{var T=zh(),C=w(T);G(C,{y:le*.5-185-630,children:(H,U)=>{var R=E(),M=w(R);D(M,()=>e.buttonPayTable,()=>({anchor:.5})),g(H,R)},$$slots:{default:!0}});var O=x(C,2);G(O,{y:le*.5-185-420,children:(H,U)=>{var R=E(),M=w(R);D(M,()=>e.buttonGameRules,()=>({anchor:.5})),g(H,R)},$$slots:{default:!0}});var K=x(O,2);G(K,{y:le*.5-185-210,children:(H,U)=>{var R=E(),M=w(R);D(M,()=>e.buttonSettings,()=>({anchor:.5})),g(H,R)},$$slots:{default:!0}});var W=x(K,2);G(W,{y:le*.5-185,children:(H,U)=>{var R=E(),M=w(R);D(M,()=>e.buttonSoundSwitch,()=>({anchor:.5})),g(H,R)},$$slots:{default:!0}});var X=x(W,2);G(X,{y:le*.5,children:(H,U)=>{var R=E(),M=w(R);D(M,()=>e.buttonMenuClose,()=>({anchor:.5})),g(H,R)},$$slots:{default:!0}}),g(A,T)},$$slots:{default:!0}})},$$slots:{default:!0}}),g(p,s)};Q(d,p=>{se.menuOpen&&p(h)})}g(n,r),B()}function jh(n,e){k(e,!0);const t=new De(V.balanceAmount),r=b(()=>ft.balance()),o=b(()=>Ln(t.current));be(()=>{t.set(V.balanceAmount)}),Mr(n,{tiled:!0,get label(){return f(r)},get value(){return f(o)},get stacked(){return e.stacked}}),B()}function Vh(n,e){k(e,!0);const t=new De(V.winBookEventAmount),r=b(()=>ft.win()),o=b(()=>Ht(t.current));be(()=>{t.set(V.winBookEventAmount)}),Mr(n,{tiled:!0,get label(){return f(r)},get value(){return f(o)},get stacked(){return e.stacked}}),B()}function Yh(n,e){k(e,!0);const t=Le(),r=b(()=>{var d;return((d=fe.activeBetMode())==null?void 0:d.text.betAmountLabel)||ft.bet()}),o=b(()=>Ln(fe.betCost())),i=b(()=>!t.stateXstateDerived.isIdle()),l=()=>{f(i)||(t.eventEmitter.broadcast({type:"soundPressGeneral"}),_e.modal={name:"betAmountMenu"})},u=b(()=>f(i)?"not-allowed":"pointer");G(n,{eventMode:"static",get cursor(){return f(u)},onpointerup:l,children:(d,h)=>{Mr(d,{tiled:!0,get label(){return f(r)},get value(){return f(o)},get stacked(){return e.stacked}})},$$slots:{default:!0}}),B()}var Xh=L("<!> <!> <!>",1);function mt(n,e){k(e,!0);const t=vn(e,"variant",3,"dark"),r=me(e,["$$slots","$$events","$$legacy","icon","active","variant","children"]);Ir(n,q(()=>r,{children:(i,l)=>{let u=()=>l==null?void 0:l().center;var d=Xh(),h=w(d);const p=b(()=>t()==="dark"?0:16777215);sn(h,q(u,{anchor:.5,get width(){return e.sizes.width},get height(){return e.sizes.height},get backgroundColor(){return f(p)}},()=>e.disabled?{backgroundColor:11184810}:{},()=>e.active?{borderWidth:10,borderColor:t()==="dark"?16777215:0}:{}));var s=x(h,2);const a=b(()=>ft[e.icon]()),c=b(()=>({align:"center",wordWrap:!0,wordWrapWidth:200,fontFamily:"proxima-nova",fontWeight:"600",fontSize:Ye*.9,fill:t()==="dark"?16777215:0}));ze(s,q(u,{anchor:.5,get text(){return f(a)},get style(){return f(c)}}));var m=x(s,2);D(m,()=>e.children??Te),g(i,d)},$$slots:{default:!0}})),B()}function qh(n,e){k(e,!0);const t=me(e,["$$slots","$$events","$$legacy"]),r=Le(),o={width:he*1.3,height:he*1.3};mt(n,q(()=>t,{sizes:o,onpress:()=>{r.eventEmitter.broadcast({type:"soundPressGeneral"}),_e.modal={name:"payTable"}},icon:"payTable",variant:"light"})),B()}function Jh(n,e){k(e,!0);const t=me(e,["$$slots","$$events","$$legacy"]),r=Le(),o={width:he*1.3,height:he*1.3};mt(n,q(()=>t,{sizes:o,onpress:()=>{r.eventEmitter.broadcast({type:"soundPressGeneral"}),_e.modal={name:"gameRules"}},icon:"info",variant:"light"})),B()}function Zh(n,e){k(e,!0);const t=me(e,["$$slots","$$events","$$legacy"]),r=Le(),o={width:he*1.3,height:he*1.3};mt(n,q(()=>t,{sizes:o,onpress:()=>{r.eventEmitter.broadcast({type:"soundPressGeneral"}),_e.modal={name:"settings"}},icon:"settings",variant:"light"})),B()}var Qh=L("<!> <!>",1);function em(n,e){k(e,!0);const t=me(e,["$$slots","$$events","$$legacy"]),{stateXstateDerived:r,eventEmitter:o}=Le(),i={width:he,height:he},l=b(()=>!r.isIdle()),u=b(()=>{var a;return((a=fe.activeBetMode())==null?void 0:a.type)==="activate"}),d=()=>_e.modal={name:"buyBonus"},h=()=>V.activeBetModeKey="BASE",p=()=>{o.broadcast({type:"soundPressGeneral"}),f(u)?h():d()},s=a=>a.disabled?"disabled":a.pressed?"pressed":a.hovered?"hovered":a.active?"active":"default";Ir(n,q(()=>t,{sizes:i,get disabled(){return f(l)},onpress:p,children:(c,m)=>{let _=()=>m==null?void 0:m().center,v=()=>m==null?void 0:m().hovered,y=()=>m==null?void 0:m().pressed;var S=Qh();const A=b(()=>s({active:f(u),disabled:f(l),hovered:v(),pressed:y()}));var P=w(S);sn(P,q({key:"buyBonus"},_,{anchor:.5,get width(){return i.width},get height(){return i.height}},()=>f(l)?{backgroundColor:11184810}:{},()=>f(u)?{borderWidth:10,borderColor:16777215}:{}));var T=x(P,2);const C=b(()=>f(A)==="active"?ft.disable():ft.buyBonus());ze(T,q(_,{anchor:.5,get text(){return f(C)},style:{align:"center",wordWrap:!0,wordWrapWidth:200,fontFamily:"proxima-nova",fontWeight:"600",fontSize:Ye*.9,fill:16777215}})),g(c,S)},$$slots:{default:!0}})),B()}function tm(n,e){k(e,!0);const t=Le();let r=Z(!1);const o=()=>t.eventEmitter.broadcast({type:"bet"}),i=()=>{f(r)||(fe.hasAutoBetCounter()&&(V.autoSpinsCounter=0),t.eventEmitter.broadcast({type:"stopButtonClick"}))},l=()=>{t.eventEmitter.broadcast({type:"soundPressBet"}),t.stateXstateDerived.isIdle()?o():i()},d=b(()=>t.stateXstateDerived.isIdle()?fe.isBetCostAvailable()?"spin_default":"spin_disabled":t.stateXstateDerived.isIdle()?"spin_default":f(r)?"stop_disabled":fe.hasAutoBetCounter()?"stop_default":V.isTurbo?"stop_disabled":"stop_default");t.eventEmitter.subscribeOnMount({stopButtonClick:()=>N(r,!0),stopButtonEnable:()=>N(r,!1)});var h=E(),p=w(h);D(p,()=>e.children,()=>({key:f(d),onpress:l})),g(n,h),B()}var nm=L("<!> <!>",1),rm=L("<!> <!>",1);function om(n,e){k(e,!0);const t=me(e,["$$slots","$$events","$$legacy"]),r=b(()=>!fe.isBetCostAvailable()),o={width:he,height:he};tm(n,{children:(l,u)=>{let d=()=>u==null?void 0:u().key,h=()=>u==null?void 0:u().onpress;var p=rm(),s=w(p);Lo(s,{hotkey:"Space",get disabled(){return f(r)},get onpress(){return h()}});var a=x(s,2);Ir(a,q(()=>t,{sizes:o,get onpress(){return h()},get disabled(){return f(r)},children:(m,_)=>{G(m,q(()=>_==null?void 0:_().center,{children:(y,S)=>{var A=nm(),P=w(A),T=b(()=>f(r)||["spin_disabled","stop_disabled"].includes(d())?{backgroundColor:11184810}:{});sn(P,q({key:"bet",get width(){return o.width},get height(){return o.height},anchor:.5},()=>f(T)));var C=x(P,2);const O=b(()=>["spin_default","spin_disabled"].includes(d())?ft.bet():ft.stop());ze(C,{anchor:.5,get text(){return f(O)},style:{align:"center",wordWrap:!0,wordWrapWidth:200,fontFamily:"proxima-nova",fontWeight:"600",fontSize:Ye*.9,fill:16777215}}),g(y,A)},$$slots:{default:!0}}))},$$slots:{default:!0}})),g(l,p)},$$slots:{default:!0}}),B()}function sm(n,e){k(e,!0);const t=me(e,["$$slots","$$events","$$legacy"]),r=Le(),o={width:he,height:he},i=b(()=>V.isTurbo),l=b(()=>V.isSpaceHold),u=()=>{r.eventEmitter.broadcast({type:"soundPressGeneral"}),fe.updateIsTurbo(!V.isTurbo,{persistent:!0})};r.eventEmitter.subscribeOnMount({stopButtonClick:()=>fe.updateIsTurbo(!0,{persistent:!1}),stopButtonEnable:()=>fe.updateIsTurbo(!1,{persistent:!1})}),mt(n,q(()=>t,{sizes:o,get active(){return f(i)},onpress:u,get disabled(){return f(l)},icon:"turbo"})),B()}var am=L("<!> <!>",1);function im(n,e){k(e,!0);const t=b(()=>V.autoSpinsCounter===1/0?3:V.autoSpinsCounter>99?1.5:V.autoSpinsCounter>9?2:2.5);var r=E(),o=w(r);{var i=l=>{var u=am(),d=w(u);Ve(d,{anchor:.5,width:he*.9,height:he*.9,borderRadius:50});var h=x(d,2);const p=b(()=>V.autoSpinsCounter===1/0?"∞":V.autoSpinsCounter),s=b(()=>({fontFamily:"proxima-nova",fill:hr,fontWeight:"bold",fontSize:f(t)*he*.2}));ze(h,{anchor:.5,get text(){return f(p)},get style(){return f(s)}}),g(l,u)};Q(o,l=>{V.autoSpinsCounter>0&&l(i)})}g(n,r),B()}function lm(n,e){k(e,!0);const t=me(e,["$$slots","$$events","$$legacy"]),r=Le(),o={width:he,height:he},i=b(()=>fe.hasAutoBetCounter()),l=b(()=>!!(V.isSpaceHold||!r.stateXstateDerived.isIdle()&&!fe.hasAutoBetCounter()||!fe.isBetCostAvailable())),u=()=>V.autoSpinsCounter=0,d=()=>_e.modal={name:"autoSpin"};mt(n,q(()=>t,{sizes:o,get active(){return f(i)},onpress:()=>{r.eventEmitter.broadcast({type:"soundPressGeneral"}),fe.hasAutoBetCounter()?u():d()},get disabled(){return f(l)},icon:"autoSpin",children:(p,s)=>{const a=b(()=>o.width*.5),c=b(()=>o.height*.5);G(p,{get x(){return f(a)},get y(){return f(c)},children:(m,_)=>{im(m,{})},$$slots:{default:!0}})},$$slots:{default:!0}})),B()}function um(n,e){k(e,!0);const t=me(e,["$$slots","$$events","$$legacy"]),r=Le(),o={width:he,height:he},i=b(()=>Mt.betAmountOptions[Mt.betAmountOptions.length-1]),l=b(()=>!r.stateXstateDerived.isIdle()||V.betAmount===f(i));mt(n,q(()=>t,{sizes:o,onpress:()=>{r.eventEmitter.broadcast({type:"soundPressGeneral"});const d=[...Mt.betAmountOptions].sort((h,p)=>h-p).find(h=>h>V.betAmount);fe.setBetAmount(d||f(i))},get disabled(){return f(l)},icon:"increase"})),B()}function cm(n,e){k(e,!0);const t=me(e,["$$slots","$$events","$$legacy"]),r=Le(),o={width:he,height:he},i=b(()=>Mt.betAmountOptions[0]),l=b(()=>!r.stateXstateDerived.isIdle()||V.betAmount===f(i));mt(n,q(()=>t,{sizes:o,onpress:()=>{r.eventEmitter.broadcast({type:"soundPressGeneral"});const d=[...Mt.betAmountOptions].sort((h,p)=>p-h).find(h=>h<V.betAmount);fe.setBetAmount(d||f(i))},get disabled(){return f(l)},icon:"decrease"})),B()}function dm(n,e){k(e,!0);const t=me(e,["$$slots","$$events","$$legacy"]),r=Le();mt(n,q(()=>t,{sizes:{width:he,height:he},onpress:()=>{r.eventEmitter.broadcast({type:"soundPressGeneral"}),se.menuOpen=!0},icon:"menu"})),B()}function fm(n,e){k(e,!0);const t=me(e,["$$slots","$$events","$$legacy"]),r=Le();mt(n,q(()=>t,{sizes:{width:he,height:he},onpress:()=>{r.eventEmitter.broadcast({type:"soundPressGeneral"}),se.menuOpen=!1},icon:"menuExit"})),B()}function hm(n,e){k(e,!0);const t=me(e,["$$slots","$$events","$$legacy"]),r=Le(),o={width:he*1.3,height:he*1.3},i=()=>{r.eventEmitter.broadcast({type:"soundPressGeneral"}),_n.volumeValueMaster===0?_n.volumeValueMaster=50:_n.volumeValueMaster=0},l=b(()=>_n.volumeValueMaster===0?"soundOff":"soundOn");mt(n,q(()=>t,{sizes:o,onpress:i,get icon(){return f(l)},variant:"light"})),B()}var mm=L("<!> <!>",1);function pm(n,e){k(e,!0);const{stateLayoutDerived:t}=ht(),r={desktop:wh,portrait:Dh,landscape:Wh,tablet:Kh},o=b(()=>r[t.layoutType()]);var i=mm(),l=w(i);Ql(l,{});var u=x(l,2);hh(u,{children:(d,h)=>{var p=E(),s=w(p);ua(s,()=>f(o),(a,c)=>{c(a,{gameName:I=>{var $=E(),F=w($);D(F,()=>e.gameName),g(I,$)},logo:I=>{var $=E(),F=w($);D(F,()=>e.logo),g(I,$)},amountBalance:(I,$=Te)=>{jh(I,q($))},amountWin:(I,$=Te)=>{Vh(I,q($))},amountBet:(I,$=Te)=>{Yh(I,q($))},buttonBuyBonus:(I,$=Te)=>{em(I,q($))},buttonBet:(I,$=Te)=>{om(I,q($))},buttonTurbo:(I,$=Te)=>{sm(I,q($))},buttonAutoSpin:(I,$=Te)=>{lm(I,q($))},buttonIncrease:(I,$=Te)=>{um(I,q($))},buttonDecrease:(I,$=Te)=>{cm(I,q($))},buttonMenu:(I,$=Te)=>{dm(I,q($))},buttonMenuClose:(I,$=Te)=>{fm(I,q($))},buttonPayTable:(I,$=Te)=>{qh(I,q($))},buttonGameRules:(I,$=Te)=>{Jh(I,q($))},buttonSettings:(I,$=Te)=>{Zh(I,q($))},buttonSoundSwitch:(I,$=Te)=>{hm(I,q($))},$$slots:{gameName:!0,logo:!0,amountBalance:!0,amountWin:!0,amountBet:!0,buttonBuyBonus:!0,buttonBet:!0,buttonTurbo:!0,buttonAutoSpin:!0,buttonIncrease:!0,buttonDecrease:!0,buttonMenu:!0,buttonMenuClose:!0,buttonPayTable:!0,buttonGameRules:!0,buttonSettings:!0,buttonSoundSwitch:!0}})}),g(d,p)},$$slots:{default:!0}}),g(n,i),B()}var _m=L("<!> <!>",1);function vm(n,e){k(e,!0);const t=new ao,r=b(()=>t.toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric",hour12:!1})),o={style:{fontFamily:"proxima-nova",fontSize:dr*1.5,fontWeight:"600",lineHeight:dr*2,fill:hr}};let i=Z(ne({width:0,height:0}));be(()=>{const p=setInterval(()=>{t.setTime(Date.now())},1e3);return()=>{clearInterval(p)}});var l=_m(),u=w(l);ze(u,q({get text(){return f(r)},onresize:p=>N(i,ne(p))},o));var d=x(u,2);const h=b(()=>f(i).width+5);ze(d,q({get text(){return e.name},get x(){return f(h)}},o)),g(n,l),B()}const{eventEmitter:z}=Jl(),{stateXstate:ym,stateXstateDerived:di}=dh(),{stateLayout:gm,stateLayoutDerived:wo}=Eu({backgroundRatio:{normal:2039/1e3,portrait:1242/2208},mainSizesMap:{desktop:{width:800,height:800},tablet:{width:800,height:800},landscape:{width:800,height:800},portrait:{width:800,height:800}}}),Y="https://test-twist-front-2.s3.ap-southeast-2.amazonaws.com/1-2-mining-game",bm={pressToContinueText:{type:"sprites",src:`${Y}/sprites/pressToContinueText/MM_pressanywhere.json`,preload:!0},H1:{type:"spine",src:{atlas:`${Y}/spines/symbols/symbols.atlas`,skeleton:`${Y}/spines/symbols/h1.json`,scale:2}},H2:{type:"spine",src:{atlas:`${Y}/spines/symbols/symbols.atlas`,skeleton:`${Y}/spines/symbols/h2.json`,scale:2}},H3:{type:"spine",src:{atlas:`${Y}/spines/symbols/symbols.atlas`,skeleton:`${Y}/spines/symbols/h3.json`,scale:2}},H4:{type:"spine",src:{atlas:`${Y}/spines/symbols/symbols.atlas`,skeleton:`${Y}/spines/symbols/h4.json`,scale:2}},H5:{type:"spine",src:{atlas:`${Y}/spines/symbols/symbols.atlas`,skeleton:`${Y}/spines/symbols/h5.json`,scale:2}},L1:{type:"spine",src:{atlas:`${Y}/spines/symbols/symbols.atlas`,skeleton:`${Y}/spines/symbols/l1.json`,scale:2}},L2:{type:"spine",src:{atlas:`${Y}/spines/symbols/symbols.atlas`,skeleton:`${Y}/spines/symbols/l2.json`,scale:2}},L3:{type:"spine",src:{atlas:`${Y}/spines/symbols/symbols.atlas`,skeleton:`${Y}/spines/symbols/l3.json`,scale:2}},L4:{type:"spine",src:{atlas:`${Y}/spines/symbols/symbols.atlas`,skeleton:`${Y}/spines/symbols/l4.json`,scale:2}},M:{type:"spine",src:{atlas:`${Y}/spines/symbols2/symbols2.atlas`,skeleton:`${Y}/spines/symbols2/M.json`,scale:2}},S:{type:"spine",src:{atlas:`${Y}/spines/symbols2/symbols2.atlas`,skeleton:`${Y}/spines/symbols2/S.json`,scale:2}},explosion:{type:"spine",src:{atlas:`${Y}/spines/symbols3/symbols3.atlas`,skeleton:`${Y}/spines/symbols3/explosion.json`,scale:2}},W:{type:"spine",src:{atlas:`${Y}/spines/symbols3/symbols3.atlas`,skeleton:`${Y}/spines/symbols3/W.json`,scale:2}},reelsFrame:{type:"sprites",src:`${Y}/sprites/reelsFrame/reels_frame.json`},payFrame:{type:"sprite",src:`${Y}/sprites/payFrame/payFrame.png`},anticipation:{type:"spine",src:{atlas:`${Y}/spines/anticipation/anticipation.atlas`,skeleton:`${Y}/spines/anticipation/anticipation.json`,scale:2}},goldFont:{type:"font",src:`${Y}/fonts/goldFont/mm_gold.xml`},goldBlur:{type:"font",src:`${Y}/fonts/goldBlur/miningfont_gold_blur.xml`},silverFont:{type:"font",src:`${Y}/fonts/silverFont/mm_silver.xml`},purpleFont:{type:"font",src:`${Y}/fonts/purpleFont/mm_purple.xml`},loader:{type:"spine",src:{atlas:`${Y}/spines/loader/loader.atlas`,skeleton:`${Y}/spines/loader/loader.json`,scale:2},preload:!0},bigwin:{type:"spine",src:{atlas:`${Y}/spines/bigwin/big_wins.atlas`,skeleton:`${Y}/spines/bigwin/mm_bigwin.json`,scale:2}},globalMultiplier:{type:"spine",src:{atlas:`${Y}/spines/globalMultiplier/multiframe.atlas`,skeleton:`${Y}/spines/globalMultiplier/multiframe.json`,scale:2}},fsIntro:{type:"spine",src:{atlas:`${Y}/spines/fsIntro/fs_screen.atlas`,skeleton:`${Y}/spines/fsIntro/fs_screen.json`,scale:2}},fsIntroNumber:{type:"spine",src:{atlas:`${Y}/spines/fsIntro/fs_screen.atlas`,skeleton:`${Y}/spines/fsIntro/fs_screen_number.json`,scale:2}},fsOutroNumber:{type:"spine",src:{atlas:`${Y}/spines/fsIntro/fs_screen.atlas`,skeleton:`${Y}/spines/fsIntro/fs_total_number.json`,scale:2}},foregroundAnimation:{type:"spine",src:{atlas:`${Y}/spines/foregroundAnimation/mm_bg.atlas`,skeleton:`${Y}/spines/foregroundAnimation/mm_bg.json`,scale:2},preload:!0},foregroundFeatureAnimation:{type:"spine",src:{atlas:`${Y}/spines/foregroundFeatureAnimation/mm_bg_feature.atlas`,skeleton:`${Y}/spines/foregroundFeatureAnimation/mm_bg_feature.json`,scale:2},preload:!0},tumble_multiplier:{type:"spine",src:{atlas:`${Y}/spines/tumbleWin/tumble_win.atlas`,skeleton:`${Y}/spines/tumbleWin/tumble_multiplier.json`,scale:2}},tumble_win:{type:"spine",src:{atlas:`${Y}/spines/tumbleWin/tumble_win.atlas`,skeleton:`${Y}/spines/tumbleWin/tumble_win.json`,scale:2}},reelhouse:{type:"spine",src:{atlas:`${Y}/spines/reelhouse/reelhouse_glow.atlas`,skeleton:`${Y}/spines/reelhouse/reelhouse_glow.json`,scale:2}},progressBar:{type:"sprites",src:`${Y}/sprites/progressBar/progressBar.json`,preload:!0},freeSpins:{type:"sprites",src:`${Y}/sprites/freeSpins/freeSpins.json`},winSmall:{type:"sprites",src:`${Y}/sprites/winSmall/MM_Localisation_winsmall.json`},clusterWin:{type:"spine",src:{atlas:`${Y}/spines/clusterWin/clusterpay.atlas`,skeleton:`${Y}/spines/clusterWin/clusterpay.json`,scale:2}},transition:{type:"spine",src:{atlas:`${Y}/spines/transition/transition.atlas`,skeleton:`${Y}/spines/transition/transition.json`,scale:2}},symbolsStatic:{type:"sprites",src:`${Y}/sprites/symbolsStatic/symbolsStatic.json`},coins:{type:"spriteSheet",src:"https://test-twist-front-2.s3.ap-southeast-2.amazonaws.com/1-7-samurai-dogs-2/sprites/coin/SD2_Coin.json"},sound:{type:"audio",src:`${Y}/audio/sounds.json`,preload:!0}},{stateApp:wm}=Md({assets:bm});function Sm(n){const e=I=>(I+.5)*n.symbolHeight,t=I=>{const $=I.symbolIndex-1,F=I.rawSymbol,J=n.initialSymbolState,pe=e($),re=new De(pe);return ne({rawSymbol:F,symbolIndexOfBoard:$,symbolY:re,symbolState:J,oncomplete:()=>{}})},r=I=>I.map((F,J)=>t({rawSymbol:F,symbolIndex:J})),o=I=>d.symbols.map(($,F)=>{$.rawSymbol=I[F],$.symbolState="static"}),i=n.initialSymbols.length,l=i-2,u=ia(),d=ne({symbols:r(n.initialSymbols),motion:"stopped",spinType:"normal",anticipating:!1,readyToSpin:()=>{},spinOptions:()=>({})}),h=()=>i*d.spinOptions().reelPaddingMultiplierNormal,p=()=>i*d.spinOptions().reelPaddingMultiplierAnticipated;let s=n.initialSymbols,a=()=>{},c=!1,m=0;const _=async()=>{await ut(d.spinOptions().reelFallOutDelay*n.reelIndex)},v=async({isTurboBeforeAll:I})=>{d.spinType=I?"fast":"normal",I||await _(),await S()},y=async I=>{await Promise.all(d.symbols.map(I))},S=async()=>{d.motion="fallingOut",await y(async I=>{const $=I.symbolY.current,F=e(I.symbolIndexOfBoard+i),pe=(F-$)/d.spinOptions().symbolFallOutSpeed,re=d.spinOptions().symbolFallOutInterval*(l-I.symbolIndexOfBoard);await ut(re),I.symbolState="spin",await I.symbolY.set(F,{duration:pe})}),d.motion="hanging"},A=async()=>{o(s),await y(async I=>{const $=e(I.symbolIndexOfBoard-i+.5);await I.symbolY.set($,{duration:0})})},P=async()=>{const I=m/i-1,$=async()=>await ut(d.spinOptions().reelFallInDelay*I);c?await $():V.isTurbo||await u.add($),d.motion="fallingIn",await y(async F=>{const J=F.symbolY.current,pe=e(F.symbolIndexOfBoard),re=pe-J,de=d.spinOptions().symbolFallInInterval*(l-F.symbolIndexOfBoard),Ce=n.symbolHeight*d.spinOptions().symbolFallInBounceSizeMulti,ot=Ce/d.spinOptions().symbolFallInBounceSpeed,Ze=(re-Ce)/d.spinOptions().symbolFallInSpeed;await F.symbolY.set(pe-Ce,{duration:Ze,delay:de}),F.symbolState="land",n.onSymbolLand({rawSymbol:F.rawSymbol}),F.symbolIndexOfBoard===l-1&&a(),await F.symbolY.set(pe,{duration:ot,easing:pa})}),d.motion="stopped"},T=async()=>{d.motion==="hanging"||await S(),await A(),await P()},W={fast:()=>T(),normal:()=>T(),anticipated:()=>T()},X=I=>(d.spinType=I.spinType,c=I.noStop,s=I.symbols,a=I.onSpinFinishing,m={fast:0,normal:I.previousPaddingSize+h(),anticipated:I.previousPaddingSize+p()}[I.spinType],m),H=async()=>{await W[d.spinType]()},U=I=>{d.motion="stopped",I&&o(I)},R=()=>{u.interrupt()},M=()=>{be(()=>{d.motion==="hanging"&&d.readyToSpin()})};return{reelIndex:n.reelIndex,symbolHeight:n.symbolHeight,onReelStopping:n.onReelStopping,reelLength:i,reelState:d,preSpin:v,prepareToSpin:X,spin:H,stop:R,setSymbolsWithRawSymbols:U,readyToSpinEffect:M}}const So=ne({isPreSpinning:!1});function xm({board:n}){return{preSpin:async({paddingBoard:t})=>{So.isPreSpinning=!0;const r=V.isTurbo;await Promise.all(n.map((o,i)=>o.preSpin({isTurboBeforeAll:r,preSpinPaddingReel:t==null?void 0:t[i]})))}}}function Am({board:n}){async function e({revealEvent:t,paddingBoard:r}){So.isPreSpinning&&await Promise.all(n.map(async d=>{await Me(h=>d.reelState.readyToSpin=h)})),So.isPreSpinning=!1;const o=V.isTurbo?"fast":"normal",i=t.anticipation.some(Boolean),l=t.anticipation.findIndex(Boolean),u=({noStop:d,isAnticipated:h})=>h?"anticipated":d?"normal":o;n.reduce((d,h,p)=>{var S,A;const s=i&&p>=l,a=(((S=t.anticipation)==null?void 0:S[p])||0)>0,c=u({noStop:s,isAnticipated:a}),m=t.board[p],_=r==null?void 0:r[p],v=(A=t==null?void 0:t.paddingPositions)==null?void 0:A[p];return h.prepareToSpin({noStop:s,spinType:c,symbols:m,paddingReel:_,paddingPosition:v,previousPaddingSize:d,onSpinFinishing:()=>{var C;h.onReelStopping();const P=p+1;(((C=t.anticipation)==null?void 0:C[P])||0)>0&&(n[P].reelState.anticipating=!0)}})},0),await Promise.all(n.map(async d=>{await d.spin()}))}return{spin:e}}function Tm(){function n({board:e}){const{preSpin:t}=xm({board:e}),{spin:r}=Am({board:e});return{board:e,preSpin:t,spin:r,settle:u=>e.forEach((d,h)=>{const p=(u==null?void 0:u[h])||[];d.setSymbolsWithRawSymbols(p)}),stop:()=>e.forEach(u=>u.stop()),readyToSpinEffect:()=>{e.forEach(u=>u.readyToSpinEffect())}}}return{enhanceBoard:n}}function Pm({gameType:n,winLevelMap:e,winLevelToBetAmountMultiplierThresholdMaps:t}){return{getWinLevelDataByBookEventAmount:o=>{const i=_a(o),l=t[n],u=zt.entries(l).sort((p,s)=>s[1]-p[1]).find(([p,s])=>i>=s),d=u==null?void 0:u[0];return d?e[d]:void 0}}}const Im={1:{level:1,alias:"zero",type:"small",text:null,presentDuration:0,sound:{sfx:void 0,bgm:void 0},animation:void 0},2:{level:2,alias:"standard",type:"small",text:null,presentDuration:.6*Oe,sound:{sfx:void 0,bgm:void 0},animation:void 0},3:{level:3,alias:"small",type:"small",text:null,presentDuration:1*Oe,sound:{sfx:void 0,bgm:void 0},animation:void 0},4:{level:4,alias:"nice",type:"medium",text:null,presentDuration:1.5*Oe,sound:{sfx:void 0,bgm:void 0},animation:void 0},5:{level:5,alias:"substantial",type:"medium",text:null,presentDuration:2*Oe,sound:{sfx:void 0,bgm:void 0},animation:void 0},6:{level:6,alias:"big",type:"big",text:"BIG WIN",presentDuration:6*Oe,sound:{sfx:void 0,bgm:"bgm_winlevel_big"},animation:{intro:"big_win_intro",idle:"big_win_idle",outro:"big_win_exit"}},7:{level:7,alias:"superwin",type:"big",text:"SUPER WIN",presentDuration:18*Oe,sound:{sfx:void 0,bgm:"bgm_winlevel_superwin"},animation:{intro:"super_win_intro",idle:"super_win_idle",outro:"super_win_exit"}},8:{level:8,alias:"mega",type:"big",text:"MEGA WIN",presentDuration:20*Oe,sound:{sfx:void 0,bgm:"bgm_winlevel_mega"},animation:{intro:"mega_win_intro",idle:"mega_win_idle",outro:"mega_win_exit"}},9:{level:9,alias:"epic",type:"big",text:"EPIC WIN!",presentDuration:26*Oe,sound:{sfx:void 0,bgm:"bgm_winlevel_epic"},animation:{intro:"epic_win_intro",idle:"epic_win_idle",outro:"epic_win_exit"}},10:{level:10,alias:"max",type:"big",text:"MAX WIN",presentDuration:32*Oe,sound:{sfx:void 0,bgm:"bgm_winlevel_max"},animation:{intro:"max_win_intro",idle:"max_win_idle",outro:"max_win_exit"}}},Em={winLevelMaps:{baseGame:{1:0,2:.01,3:1,4:2,5:5,6:15,7:50,8:100,9:250,10:5e3},freeGame:{1:0,2:.01,3:1,4:2,5:5,6:15,7:50,8:100,9:250,10:5e3},superSpinGame:{1:0,2:.01,3:1,4:2,5:5,6:15,7:50,8:100,9:250,10:5e3}}},ie=100,fi=.53,xo=[[{name:"M",subtype:"10"},{name:"H1"},{name:"M",subtype:"2"},{name:"L1"},{name:"H1"},{name:"H4"},{name:"H1"}],[{name:"L3"},{name:"H2"},{name:"M",subtype:"4"},{name:"L2"},{name:"S"},{name:"S"},{name:"L2"}],[{name:"L2"},{name:"H3"},{name:"M",subtype:"5"},{name:"L3"},{name:"W"},{name:"L2"},{name:"L2"}],[{name:"L3"},{name:"H4"},{name:"M",subtype:"7"},{name:"L4"},{name:"W"},{name:"H1"},{name:"H1"}],[{name:"H3"},{name:"H5"},{name:"M",subtype:"10"},{name:"H2"},{name:"S"},{name:"L2"},{name:"M",subtype:"7"}],[{name:"H2"},{name:"H2"},{name:"S"},{name:"L3"},{name:"H1"},{name:"S"},{name:"L2"}]],yr={x:xo.length,y:xo[0].length-2},Xr={width:ie*yr.x,height:ie*yr.y},Lm="static",oe=.3,hn=.9,jn=.9,hi=1,mi={reelFallInDelay:80,reelPaddingMultiplierNormal:1.25,reelPaddingMultiplierAnticipated:18,reelFallOutDelay:145},km={...mi,symbolFallInSpeed:3.5,symbolFallInInterval:30,symbolFallInBounceSpeed:.15,symbolFallInBounceSizeMulti:.5,symbolFallOutSpeed:3.5,symbolFallOutInterval:20},Bm={...mi,symbolFallInSpeed:7,symbolFallInInterval:0,symbolFallInBounceSpeed:.3,symbolFallInBounceSizeMulti:.25,symbolFallOutSpeed:7,symbolFallOutInterval:0},Ae={type:"spine",assetKey:"explosion",animationName:"explosion",sizeRatios:{width:1,height:1}},Vn={type:"sprite",assetKey:"h1.webp",sizeRatios:{width:1,height:1}},Yn={type:"sprite",assetKey:"h2.webp",sizeRatios:{width:1,height:1}},Xn={type:"sprite",assetKey:"h3.webp",sizeRatios:{width:1,height:1}},qn={type:"sprite",assetKey:"h4.webp",sizeRatios:{width:1,height:1}},Jn={type:"sprite",assetKey:"h5.webp",sizeRatios:{width:1,height:1}},Zn={type:"sprite",assetKey:"l1.webp",sizeRatios:{width:1,height:1}},Qn={type:"sprite",assetKey:"l2.webp",sizeRatios:{width:1,height:1}},er={type:"sprite",assetKey:"l3.webp",sizeRatios:{width:1,height:1}},tr={type:"sprite",assetKey:"l4.webp",sizeRatios:{width:1,height:1}},Cs={type:"sprite",assetKey:"s.png",sizeRatios:{width:1.243,height:1.243}},Rs={type:"sprite",assetKey:"w.png",sizeRatios:{width:1.12,height:1.12}},qr={type:"sprite",assetKey:"m1_2x.png",sizeRatios:{width:.88,height:.88}},Jr={type:"sprite",assetKey:"m1_4x.png",sizeRatios:{width:.88,height:.88}},Zr={type:"sprite",assetKey:"m2_5x.png",sizeRatios:{width:1,height:1}},Qr={type:"sprite",assetKey:"m2_7x.png",sizeRatios:{width:1,height:1}},eo={type:"sprite",assetKey:"m3_10x.png",sizeRatios:{width:1,height:1}},Ns={width:1.5*.9,height:hi*1.15},to={width:2.5,height:hi*2.3},Gs={type:"spine",assetKey:"M",animationName:"low_multiplier_static",sizeRatios:{width:oe,height:oe}},Ws={type:"spine",assetKey:"M",animationName:"mid_multiplier_static",sizeRatios:{width:oe,height:oe}},Fs={type:"spine",assetKey:"M",animationName:"high_multiplier_static",sizeRatios:{width:oe,height:oe}},gr={explosion:Ae,win:{type:"spine",assetKey:"M",animationName:"low_multiplier_pay",sizeRatios:{width:oe,height:oe}},postWinStatic:Gs,static:Gs,spin:{type:"spine",assetKey:"M",animationName:"low_multiplier_static",sizeRatios:{width:oe,height:oe}},land:{type:"spine",assetKey:"M",animationName:"low_multiplier_land",sizeRatios:{width:oe,height:oe}}},br={explosion:Ae,win:{type:"spine",assetKey:"M",animationName:"mid_multiplier_pay",sizeRatios:{width:oe,height:oe}},postWinStatic:Ws,static:Ws,spin:{type:"spine",assetKey:"M",animationName:"mid_multiplier_static",sizeRatios:{width:oe,height:oe}},land:{type:"spine",assetKey:"M",animationName:"mid_multiplier_land",sizeRatios:{width:oe,height:oe}}},pi={explosion:Ae,win:{type:"spine",assetKey:"M",animationName:"high_multiplier_pay",sizeRatios:{width:oe,height:oe}},postWinStatic:Fs,static:Fs,spin:{type:"spine",assetKey:"M",animationName:"high_multiplier_static",sizeRatios:{width:oe,height:oe}},land:{type:"spine",assetKey:"M",animationName:"high_multiplier_land",sizeRatios:{width:oe,height:oe}}},Mm={H1:{explosion:Ae,win:{type:"spine",assetKey:"H1",animationName:"h1",sizeRatios:{width:.5*1.15,height:hn*.57}},postWinStatic:Vn,static:Vn,spin:Vn,land:Vn},H2:{explosion:Ae,win:{type:"spine",assetKey:"H2",animationName:"h2",sizeRatios:{width:.5,height:hn*.57}},postWinStatic:Yn,static:Yn,spin:Yn,land:Yn},H3:{explosion:Ae,win:{type:"spine",assetKey:"H3",animationName:"h3",sizeRatios:{width:.5*.9,height:hn*.53}},postWinStatic:Xn,static:Xn,spin:Xn,land:Xn},H4:{explosion:Ae,win:{type:"spine",assetKey:"H4",animationName:"h4",sizeRatios:{width:.5*.9,height:hn*.53}},postWinStatic:qn,static:qn,spin:qn,land:qn},H5:{explosion:Ae,win:{type:"spine",assetKey:"H5",animationName:"h5",sizeRatios:{width:.5*.9,height:hn*.53}},postWinStatic:Jn,static:Jn,spin:Jn,land:Jn},L1:{explosion:Ae,win:{type:"spine",assetKey:"L1",animationName:"l1",sizeRatios:{width:.5*.75,height:jn*.65}},postWinStatic:Zn,static:Zn,spin:Zn,land:Zn},L2:{explosion:Ae,win:{type:"spine",assetKey:"L2",animationName:"l2",sizeRatios:{width:.5*.75,height:jn*.65}},postWinStatic:Qn,static:Qn,spin:Qn,land:Qn},L3:{explosion:Ae,win:{type:"spine",assetKey:"L3",animationName:"l3",sizeRatios:{width:.5*.75,height:jn*.63}},postWinStatic:er,static:er,spin:er,land:er},L4:{explosion:Ae,win:{type:"spine",assetKey:"L4",animationName:"l4",sizeRatios:{width:.5*.75,height:jn*.63}},postWinStatic:tr,static:tr,spin:tr,land:tr},W:{explosion:Ae,postWinStatic:{type:"sprite",assetKey:"explodedW.png",sizeRatios:{width:.85,height:.85}},static:Rs,spin:Rs,win:{type:"spine",assetKey:"W",animationName:"wild_dynamite",sizeRatios:Ns},land:{type:"spine",assetKey:"W",animationName:"wild_dynamite_land",sizeRatios:Ns}},S:{explosion:Ae,postWinStatic:Cs,static:Cs,spin:{type:"spine",assetKey:"S",animationName:"scatter_spin",sizeRatios:to},win:{type:"spine",assetKey:"S",animationName:"scatter_win",sizeRatios:to},land:{type:"spine",assetKey:"S",animationName:"scatter_land",sizeRatios:to}},M_2:{explosion:Ae,postWinStatic:qr,static:qr,spin:qr,win:{type:"spine",assetKey:"M",animationName:"2x",sizeRatios:{width:oe,height:oe}},land:{type:"spine",assetKey:"M",animationName:"2x_land",sizeRatios:{width:oe,height:oe}}},M_4:{explosion:Ae,postWinStatic:Jr,static:Jr,spin:Jr,win:{type:"spine",assetKey:"M",animationName:"4x",sizeRatios:{width:oe,height:oe}},land:{type:"spine",assetKey:"M",animationName:"4x_land",sizeRatios:{width:oe,height:oe}}},M_5:{explosion:Ae,postWinStatic:Zr,static:Zr,spin:Zr,win:{type:"spine",assetKey:"M",animationName:"5x",sizeRatios:{width:oe,height:oe}},land:{type:"spine",assetKey:"M",animationName:"5x_land",sizeRatios:{width:oe,height:oe}}},M_7:{explosion:Ae,postWinStatic:Qr,static:Qr,spin:Qr,win:{type:"spine",assetKey:"M",animationName:"7x",sizeRatios:{width:oe,height:oe}},land:{type:"spine",assetKey:"M",animationName:"7x_land",sizeRatios:{width:oe,height:oe}}},M_10:{explosion:Ae,postWinStatic:eo,static:eo,spin:eo,win:{type:"spine",assetKey:"M",animationName:"10x",sizeRatios:{width:oe,height:oe}},land:{type:"spine",assetKey:"M",animationName:"10x_land",sizeRatios:{width:oe,height:oe}}},M_TAKEN_2:gr,M_TAKEN_4:gr,M_TAKEN_5:br,M_TAKEN_7:br,M_TAKEN_10:pi},Dm={M_2:gr,M_4:gr,M_5:br,M_7:br,M_10:pi},$m={1:"sfx_scatter_stop_1",2:"sfx_scatter_stop_2",3:"sfx_scatter_stop_3",4:"sfx_scatter_stop_4",5:"sfx_scatter_stop_5"},_i=({rawSymbol:n})=>{n.name==="S"&&(z.broadcast({type:"soundScatterCounterIncrease"}),z.broadcast({type:"soundOnce",name:$m[yi()]})),n.name==="M"&&z.broadcast({type:"soundOnce",name:"sfx_multiplier_landing"})},vi=zt.range(yr.x).map(n=>{const e=Sm({reelIndex:n,symbolHeight:ie,initialSymbols:xo[n],initialSymbolState:Lm,onReelStopping:()=>{z.broadcast({type:"soundOnce",name:"sfx_reel_stop_1",forcePlay:!V.isTurbo})},onSymbolLand:_i});return e.reelState.spinOptions=()=>e.reelState.spinType==="fast"?Bm:km,e}),qe=ne({board:vi,gameType:"baseGame",tumbleBoardAdding:[],tumbleBoardBase:[],multiplierBoard:[],scatterCounter:0}),Om=()=>({x:wo.mainLayout().width*.5,y:wo.mainLayout().height*.5,anchor:{x:.5,y:.5},pivot:{x:Xr.width/2,y:Xr.height/2},...Xr}),Cm=()=>vi.map(n=>n.reelState.symbols.map(e=>e.rawSymbol)),Rm=()=>qe.tumbleBoardBase.map((e,t)=>[...qe.tumbleBoardAdding[t]??[],...e]),yi=()=>qe.scatterCounter>5?5:qe.scatterCounter<1?1:qe.scatterCounter,{enhanceBoard:Nm}=Tm(),Gm=Nm({board:qe.board}),{getWinLevelDataByBookEventAmount:Wm}=Pm({gameType:qe.gameType,winLevelMap:Im,winLevelToBetAmountMultiplierThresholdMaps:Em.winLevelMaps}),Ft={onSymbolLand:_i,boardLayout:Om,boardRaw:Cm,tumbleBoardCombined:Rm,scatterLandIndex:yi,enhancedBoard:Gm,getWinLevelDataByBookEventAmount:Wm},Fm={...ft,...Se,home:()=>j._(j.t("HOME")),notTranslated:()=>j._(j.t("NOT TRANSLATED"))},zm=()=>{Fl({eventEmitter:z}),fh({stateXstate:ym,stateXstateDerived:di}),Lu({stateLayout:gm,stateLayoutDerived:wo}),fd({stateApp:wm})},ce=()=>({...St(),...ht(),...li(),...rt(),stateGame:qe,stateGameDerived:Ft,i18nDerived:Fm});var no={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */var zs;function Hm(){return zs||(zs=1,function(n){(function(){var e=function(){this.init()};e.prototype={init:function(){var s=this||t;return s._counter=1e3,s._html5AudioPool=[],s.html5PoolSize=10,s._codecs={},s._howls=[],s._muted=!1,s._volume=1,s._canPlayEvent="canplaythrough",s._navigator=typeof window<"u"&&window.navigator?window.navigator:null,s.masterGain=null,s.noAudio=!1,s.usingWebAudio=!0,s.autoSuspend=!0,s.ctx=null,s.autoUnlock=!0,s._setup(),s},volume:function(s){var a=this||t;if(s=parseFloat(s),a.ctx||p(),typeof s<"u"&&s>=0&&s<=1){if(a._volume=s,a._muted)return a;a.usingWebAudio&&a.masterGain.gain.setValueAtTime(s,t.ctx.currentTime);for(var c=0;c<a._howls.length;c++)if(!a._howls[c]._webAudio)for(var m=a._howls[c]._getSoundIds(),_=0;_<m.length;_++){var v=a._howls[c]._soundById(m[_]);v&&v._node&&(v._node.volume=v._volume*s)}return a}return a._volume},mute:function(s){var a=this||t;a.ctx||p(),a._muted=s,a.usingWebAudio&&a.masterGain.gain.setValueAtTime(s?0:a._volume,t.ctx.currentTime);for(var c=0;c<a._howls.length;c++)if(!a._howls[c]._webAudio)for(var m=a._howls[c]._getSoundIds(),_=0;_<m.length;_++){var v=a._howls[c]._soundById(m[_]);v&&v._node&&(v._node.muted=s?!0:v._muted)}return a},stop:function(){for(var s=this||t,a=0;a<s._howls.length;a++)s._howls[a].stop();return s},unload:function(){for(var s=this||t,a=s._howls.length-1;a>=0;a--)s._howls[a].unload();return s.usingWebAudio&&s.ctx&&typeof s.ctx.close<"u"&&(s.ctx.close(),s.ctx=null,p()),s},codecs:function(s){return(this||t)._codecs[s.replace(/^x-/,"")]},_setup:function(){var s=this||t;if(s.state=s.ctx&&s.ctx.state||"suspended",s._autoSuspend(),!s.usingWebAudio)if(typeof Audio<"u")try{var a=new Audio;typeof a.oncanplaythrough>"u"&&(s._canPlayEvent="canplay")}catch{s.noAudio=!0}else s.noAudio=!0;try{var a=new Audio;a.muted&&(s.noAudio=!0)}catch{}return s.noAudio||s._setupCodecs(),s},_setupCodecs:function(){var s=this||t,a=null;try{a=typeof Audio<"u"?new Audio:null}catch{return s}if(!a||typeof a.canPlayType!="function")return s;var c=a.canPlayType("audio/mpeg;").replace(/^no$/,""),m=s._navigator?s._navigator.userAgent:"",_=m.match(/OPR\/(\d+)/g),v=_&&parseInt(_[0].split("/")[1],10)<33,y=m.indexOf("Safari")!==-1&&m.indexOf("Chrome")===-1,S=m.match(/Version\/(.*?) /),A=y&&S&&parseInt(S[1],10)<15;return s._codecs={mp3:!!(!v&&(c||a.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!c,opus:!!a.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(a.canPlayType('audio/wav; codecs="1"')||a.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!a.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!a.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(a.canPlayType("audio/x-m4a;")||a.canPlayType("audio/m4a;")||a.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(a.canPlayType("audio/x-m4b;")||a.canPlayType("audio/m4b;")||a.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(a.canPlayType("audio/x-mp4;")||a.canPlayType("audio/mp4;")||a.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!A&&a.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!A&&a.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!a.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(a.canPlayType("audio/x-flac;")||a.canPlayType("audio/flac;")).replace(/^no$/,"")},s},_unlockAudio:function(){var s=this||t;if(!(s._audioUnlocked||!s.ctx)){s._audioUnlocked=!1,s.autoUnlock=!1,!s._mobileUnloaded&&s.ctx.sampleRate!==44100&&(s._mobileUnloaded=!0,s.unload()),s._scratchBuffer=s.ctx.createBuffer(1,1,22050);var a=function(c){for(;s._html5AudioPool.length<s.html5PoolSize;)try{var m=new Audio;m._unlocked=!0,s._releaseHtml5Audio(m)}catch{s.noAudio=!0;break}for(var _=0;_<s._howls.length;_++)if(!s._howls[_]._webAudio)for(var v=s._howls[_]._getSoundIds(),y=0;y<v.length;y++){var S=s._howls[_]._soundById(v[y]);S&&S._node&&!S._node._unlocked&&(S._node._unlocked=!0,S._node.load())}s._autoResume();var A=s.ctx.createBufferSource();A.buffer=s._scratchBuffer,A.connect(s.ctx.destination),typeof A.start>"u"?A.noteOn(0):A.start(0),typeof s.ctx.resume=="function"&&s.ctx.resume(),A.onended=function(){A.disconnect(0),s._audioUnlocked=!0,document.removeEventListener("touchstart",a,!0),document.removeEventListener("touchend",a,!0),document.removeEventListener("click",a,!0),document.removeEventListener("keydown",a,!0);for(var P=0;P<s._howls.length;P++)s._howls[P]._emit("unlock")}};return document.addEventListener("touchstart",a,!0),document.addEventListener("touchend",a,!0),document.addEventListener("click",a,!0),document.addEventListener("keydown",a,!0),s}},_obtainHtml5Audio:function(){var s=this||t;if(s._html5AudioPool.length)return s._html5AudioPool.pop();var a=new Audio().play();return a&&typeof Promise<"u"&&(a instanceof Promise||typeof a.then=="function")&&a.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(s){var a=this||t;return s._unlocked&&a._html5AudioPool.push(s),a},_autoSuspend:function(){var s=this;if(!(!s.autoSuspend||!s.ctx||typeof s.ctx.suspend>"u"||!t.usingWebAudio)){for(var a=0;a<s._howls.length;a++)if(s._howls[a]._webAudio){for(var c=0;c<s._howls[a]._sounds.length;c++)if(!s._howls[a]._sounds[c]._paused)return s}return s._suspendTimer&&clearTimeout(s._suspendTimer),s._suspendTimer=setTimeout(function(){if(s.autoSuspend){s._suspendTimer=null,s.state="suspending";var m=function(){s.state="suspended",s._resumeAfterSuspend&&(delete s._resumeAfterSuspend,s._autoResume())};s.ctx.suspend().then(m,m)}},3e4),s}},_autoResume:function(){var s=this;if(!(!s.ctx||typeof s.ctx.resume>"u"||!t.usingWebAudio))return s.state==="running"&&s.ctx.state!=="interrupted"&&s._suspendTimer?(clearTimeout(s._suspendTimer),s._suspendTimer=null):s.state==="suspended"||s.state==="running"&&s.ctx.state==="interrupted"?(s.ctx.resume().then(function(){s.state="running";for(var a=0;a<s._howls.length;a++)s._howls[a]._emit("resume")}),s._suspendTimer&&(clearTimeout(s._suspendTimer),s._suspendTimer=null)):s.state==="suspending"&&(s._resumeAfterSuspend=!0),s}};var t=new e,r=function(s){var a=this;if(!s.src||s.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}a.init(s)};r.prototype={init:function(s){var a=this;return t.ctx||p(),a._autoplay=s.autoplay||!1,a._format=typeof s.format!="string"?s.format:[s.format],a._html5=s.html5||!1,a._muted=s.mute||!1,a._loop=s.loop||!1,a._pool=s.pool||5,a._preload=typeof s.preload=="boolean"||s.preload==="metadata"?s.preload:!0,a._rate=s.rate||1,a._sprite=s.sprite||{},a._src=typeof s.src!="string"?s.src:[s.src],a._volume=s.volume!==void 0?s.volume:1,a._xhr={method:s.xhr&&s.xhr.method?s.xhr.method:"GET",headers:s.xhr&&s.xhr.headers?s.xhr.headers:null,withCredentials:s.xhr&&s.xhr.withCredentials?s.xhr.withCredentials:!1},a._duration=0,a._state="unloaded",a._sounds=[],a._endTimers={},a._queue=[],a._playLock=!1,a._onend=s.onend?[{fn:s.onend}]:[],a._onfade=s.onfade?[{fn:s.onfade}]:[],a._onload=s.onload?[{fn:s.onload}]:[],a._onloaderror=s.onloaderror?[{fn:s.onloaderror}]:[],a._onplayerror=s.onplayerror?[{fn:s.onplayerror}]:[],a._onpause=s.onpause?[{fn:s.onpause}]:[],a._onplay=s.onplay?[{fn:s.onplay}]:[],a._onstop=s.onstop?[{fn:s.onstop}]:[],a._onmute=s.onmute?[{fn:s.onmute}]:[],a._onvolume=s.onvolume?[{fn:s.onvolume}]:[],a._onrate=s.onrate?[{fn:s.onrate}]:[],a._onseek=s.onseek?[{fn:s.onseek}]:[],a._onunlock=s.onunlock?[{fn:s.onunlock}]:[],a._onresume=[],a._webAudio=t.usingWebAudio&&!a._html5,typeof t.ctx<"u"&&t.ctx&&t.autoUnlock&&t._unlockAudio(),t._howls.push(a),a._autoplay&&a._queue.push({event:"play",action:function(){a.play()}}),a._preload&&a._preload!=="none"&&a.load(),a},load:function(){var s=this,a=null;if(t.noAudio){s._emit("loaderror",null,"No audio support.");return}typeof s._src=="string"&&(s._src=[s._src]);for(var c=0;c<s._src.length;c++){var m,_;if(s._format&&s._format[c])m=s._format[c];else{if(_=s._src[c],typeof _!="string"){s._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}m=/^data:audio\/([^;,]+);/i.exec(_),m||(m=/\.([^.]+)$/.exec(_.split("?",1)[0])),m&&(m=m[1].toLowerCase())}if(m||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),m&&t.codecs(m)){a=s._src[c];break}}if(!a){s._emit("loaderror",null,"No codec support for selected audio sources.");return}return s._src=a,s._state="loading",window.location.protocol==="https:"&&a.slice(0,5)==="http:"&&(s._html5=!0,s._webAudio=!1),new o(s),s._webAudio&&l(s),s},play:function(s,a){var c=this,m=null;if(typeof s=="number")m=s,s=null;else{if(typeof s=="string"&&c._state==="loaded"&&!c._sprite[s])return null;if(typeof s>"u"&&(s="__default",!c._playLock)){for(var _=0,v=0;v<c._sounds.length;v++)c._sounds[v]._paused&&!c._sounds[v]._ended&&(_++,m=c._sounds[v]._id);_===1?s=null:m=null}}var y=m?c._soundById(m):c._inactiveSound();if(!y)return null;if(m&&!s&&(s=y._sprite||"__default"),c._state!=="loaded"){y._sprite=s,y._ended=!1;var S=y._id;return c._queue.push({event:"play",action:function(){c.play(S)}}),S}if(m&&!y._paused)return a||c._loadQueue("play"),y._id;c._webAudio&&t._autoResume();var A=Math.max(0,y._seek>0?y._seek:c._sprite[s][0]/1e3),P=Math.max(0,(c._sprite[s][0]+c._sprite[s][1])/1e3-A),T=P*1e3/Math.abs(y._rate),C=c._sprite[s][0]/1e3,O=(c._sprite[s][0]+c._sprite[s][1])/1e3;y._sprite=s,y._ended=!1;var K=function(){y._paused=!1,y._seek=A,y._start=C,y._stop=O,y._loop=!!(y._loop||c._sprite[s][2])};if(A>=O){c._ended(y);return}var W=y._node;if(c._webAudio){var X=function(){c._playLock=!1,K(),c._refreshBuffer(y);var M=y._muted||c._muted?0:y._volume;W.gain.setValueAtTime(M,t.ctx.currentTime),y._playStart=t.ctx.currentTime,typeof W.bufferSource.start>"u"?y._loop?W.bufferSource.noteGrainOn(0,A,86400):W.bufferSource.noteGrainOn(0,A,P):y._loop?W.bufferSource.start(0,A,86400):W.bufferSource.start(0,A,P),T!==1/0&&(c._endTimers[y._id]=setTimeout(c._ended.bind(c,y),T)),a||setTimeout(function(){c._emit("play",y._id),c._loadQueue()},0)};t.state==="running"&&t.ctx.state!=="interrupted"?X():(c._playLock=!0,c.once("resume",X),c._clearTimer(y._id))}else{var H=function(){W.currentTime=A,W.muted=y._muted||c._muted||t._muted||W.muted,W.volume=y._volume*t.volume(),W.playbackRate=y._rate;try{var M=W.play();if(M&&typeof Promise<"u"&&(M instanceof Promise||typeof M.then=="function")?(c._playLock=!0,K(),M.then(function(){c._playLock=!1,W._unlocked=!0,a?c._loadQueue():c._emit("play",y._id)}).catch(function(){c._playLock=!1,c._emit("playerror",y._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),y._ended=!0,y._paused=!0})):a||(c._playLock=!1,K(),c._emit("play",y._id)),W.playbackRate=y._rate,W.paused){c._emit("playerror",y._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}s!=="__default"||y._loop?c._endTimers[y._id]=setTimeout(c._ended.bind(c,y),T):(c._endTimers[y._id]=function(){c._ended(y),W.removeEventListener("ended",c._endTimers[y._id],!1)},W.addEventListener("ended",c._endTimers[y._id],!1))}catch(I){c._emit("playerror",y._id,I)}};W.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(W.src=c._src,W.load());var U=window&&window.ejecta||!W.readyState&&t._navigator.isCocoonJS;if(W.readyState>=3||U)H();else{c._playLock=!0,c._state="loading";var R=function(){c._state="loaded",H(),W.removeEventListener(t._canPlayEvent,R,!1)};W.addEventListener(t._canPlayEvent,R,!1),c._clearTimer(y._id)}}return y._id},pause:function(s){var a=this;if(a._state!=="loaded"||a._playLock)return a._queue.push({event:"pause",action:function(){a.pause(s)}}),a;for(var c=a._getSoundIds(s),m=0;m<c.length;m++){a._clearTimer(c[m]);var _=a._soundById(c[m]);if(_&&!_._paused&&(_._seek=a.seek(c[m]),_._rateSeek=0,_._paused=!0,a._stopFade(c[m]),_._node))if(a._webAudio){if(!_._node.bufferSource)continue;typeof _._node.bufferSource.stop>"u"?_._node.bufferSource.noteOff(0):_._node.bufferSource.stop(0),a._cleanBuffer(_._node)}else(!isNaN(_._node.duration)||_._node.duration===1/0)&&_._node.pause();arguments[1]||a._emit("pause",_?_._id:null)}return a},stop:function(s,a){var c=this;if(c._state!=="loaded"||c._playLock)return c._queue.push({event:"stop",action:function(){c.stop(s)}}),c;for(var m=c._getSoundIds(s),_=0;_<m.length;_++){c._clearTimer(m[_]);var v=c._soundById(m[_]);v&&(v._seek=v._start||0,v._rateSeek=0,v._paused=!0,v._ended=!0,c._stopFade(m[_]),v._node&&(c._webAudio?v._node.bufferSource&&(typeof v._node.bufferSource.stop>"u"?v._node.bufferSource.noteOff(0):v._node.bufferSource.stop(0),c._cleanBuffer(v._node)):(!isNaN(v._node.duration)||v._node.duration===1/0)&&(v._node.currentTime=v._start||0,v._node.pause(),v._node.duration===1/0&&c._clearSound(v._node))),a||c._emit("stop",v._id))}return c},mute:function(s,a){var c=this;if(c._state!=="loaded"||c._playLock)return c._queue.push({event:"mute",action:function(){c.mute(s,a)}}),c;if(typeof a>"u")if(typeof s=="boolean")c._muted=s;else return c._muted;for(var m=c._getSoundIds(a),_=0;_<m.length;_++){var v=c._soundById(m[_]);v&&(v._muted=s,v._interval&&c._stopFade(v._id),c._webAudio&&v._node?v._node.gain.setValueAtTime(s?0:v._volume,t.ctx.currentTime):v._node&&(v._node.muted=t._muted?!0:s),c._emit("mute",v._id))}return c},volume:function(){var s=this,a=arguments,c,m;if(a.length===0)return s._volume;if(a.length===1||a.length===2&&typeof a[1]>"u"){var _=s._getSoundIds(),v=_.indexOf(a[0]);v>=0?m=parseInt(a[0],10):c=parseFloat(a[0])}else a.length>=2&&(c=parseFloat(a[0]),m=parseInt(a[1],10));var y;if(typeof c<"u"&&c>=0&&c<=1){if(s._state!=="loaded"||s._playLock)return s._queue.push({event:"volume",action:function(){s.volume.apply(s,a)}}),s;typeof m>"u"&&(s._volume=c),m=s._getSoundIds(m);for(var S=0;S<m.length;S++)y=s._soundById(m[S]),y&&(y._volume=c,a[2]||s._stopFade(m[S]),s._webAudio&&y._node&&!y._muted?y._node.gain.setValueAtTime(c,t.ctx.currentTime):y._node&&!y._muted&&(y._node.volume=c*t.volume()),s._emit("volume",y._id))}else return y=m?s._soundById(m):s._sounds[0],y?y._volume:0;return s},fade:function(s,a,c,m){var _=this;if(_._state!=="loaded"||_._playLock)return _._queue.push({event:"fade",action:function(){_.fade(s,a,c,m)}}),_;s=Math.min(Math.max(0,parseFloat(s)),1),a=Math.min(Math.max(0,parseFloat(a)),1),c=parseFloat(c),_.volume(s,m);for(var v=_._getSoundIds(m),y=0;y<v.length;y++){var S=_._soundById(v[y]);if(S){if(m||_._stopFade(v[y]),_._webAudio&&!S._muted){var A=t.ctx.currentTime,P=A+c/1e3;S._volume=s,S._node.gain.setValueAtTime(s,A),S._node.gain.linearRampToValueAtTime(a,P)}_._startFadeInterval(S,s,a,c,v[y],typeof m>"u")}}return _},_startFadeInterval:function(s,a,c,m,_,v){var y=this,S=a,A=c-a,P=Math.abs(A/.01),T=Math.max(4,P>0?m/P:m),C=Date.now();s._fadeTo=c,s._interval=setInterval(function(){var O=(Date.now()-C)/m;C=Date.now(),S+=A*O,S=Math.round(S*100)/100,A<0?S=Math.max(c,S):S=Math.min(c,S),y._webAudio?s._volume=S:y.volume(S,s._id,!0),v&&(y._volume=S),(c<a&&S<=c||c>a&&S>=c)&&(clearInterval(s._interval),s._interval=null,s._fadeTo=null,y.volume(c,s._id),y._emit("fade",s._id))},T)},_stopFade:function(s){var a=this,c=a._soundById(s);return c&&c._interval&&(a._webAudio&&c._node.gain.cancelScheduledValues(t.ctx.currentTime),clearInterval(c._interval),c._interval=null,a.volume(c._fadeTo,s),c._fadeTo=null,a._emit("fade",s)),a},loop:function(){var s=this,a=arguments,c,m,_;if(a.length===0)return s._loop;if(a.length===1)if(typeof a[0]=="boolean")c=a[0],s._loop=c;else return _=s._soundById(parseInt(a[0],10)),_?_._loop:!1;else a.length===2&&(c=a[0],m=parseInt(a[1],10));for(var v=s._getSoundIds(m),y=0;y<v.length;y++)_=s._soundById(v[y]),_&&(_._loop=c,s._webAudio&&_._node&&_._node.bufferSource&&(_._node.bufferSource.loop=c,c&&(_._node.bufferSource.loopStart=_._start||0,_._node.bufferSource.loopEnd=_._stop,s.playing(v[y])&&(s.pause(v[y],!0),s.play(v[y],!0)))));return s},rate:function(){var s=this,a=arguments,c,m;if(a.length===0)m=s._sounds[0]._id;else if(a.length===1){var _=s._getSoundIds(),v=_.indexOf(a[0]);v>=0?m=parseInt(a[0],10):c=parseFloat(a[0])}else a.length===2&&(c=parseFloat(a[0]),m=parseInt(a[1],10));var y;if(typeof c=="number"){if(s._state!=="loaded"||s._playLock)return s._queue.push({event:"rate",action:function(){s.rate.apply(s,a)}}),s;typeof m>"u"&&(s._rate=c),m=s._getSoundIds(m);for(var S=0;S<m.length;S++)if(y=s._soundById(m[S]),y){s.playing(m[S])&&(y._rateSeek=s.seek(m[S]),y._playStart=s._webAudio?t.ctx.currentTime:y._playStart),y._rate=c,s._webAudio&&y._node&&y._node.bufferSource?y._node.bufferSource.playbackRate.setValueAtTime(c,t.ctx.currentTime):y._node&&(y._node.playbackRate=c);var A=s.seek(m[S]),P=(s._sprite[y._sprite][0]+s._sprite[y._sprite][1])/1e3-A,T=P*1e3/Math.abs(y._rate);(s._endTimers[m[S]]||!y._paused)&&(s._clearTimer(m[S]),s._endTimers[m[S]]=setTimeout(s._ended.bind(s,y),T)),s._emit("rate",y._id)}}else return y=s._soundById(m),y?y._rate:s._rate;return s},seek:function(){var s=this,a=arguments,c,m;if(a.length===0)s._sounds.length&&(m=s._sounds[0]._id);else if(a.length===1){var _=s._getSoundIds(),v=_.indexOf(a[0]);v>=0?m=parseInt(a[0],10):s._sounds.length&&(m=s._sounds[0]._id,c=parseFloat(a[0]))}else a.length===2&&(c=parseFloat(a[0]),m=parseInt(a[1],10));if(typeof m>"u")return 0;if(typeof c=="number"&&(s._state!=="loaded"||s._playLock))return s._queue.push({event:"seek",action:function(){s.seek.apply(s,a)}}),s;var y=s._soundById(m);if(y)if(typeof c=="number"&&c>=0){var S=s.playing(m);S&&s.pause(m,!0),y._seek=c,y._ended=!1,s._clearTimer(m),!s._webAudio&&y._node&&!isNaN(y._node.duration)&&(y._node.currentTime=c);var A=function(){S&&s.play(m,!0),s._emit("seek",m)};if(S&&!s._webAudio){var P=function(){s._playLock?setTimeout(P,0):A()};setTimeout(P,0)}else A()}else if(s._webAudio){var T=s.playing(m)?t.ctx.currentTime-y._playStart:0,C=y._rateSeek?y._rateSeek-y._seek:0;return y._seek+(C+T*Math.abs(y._rate))}else return y._node.currentTime;return s},playing:function(s){var a=this;if(typeof s=="number"){var c=a._soundById(s);return c?!c._paused:!1}for(var m=0;m<a._sounds.length;m++)if(!a._sounds[m]._paused)return!0;return!1},duration:function(s){var a=this,c=a._duration,m=a._soundById(s);return m&&(c=a._sprite[m._sprite][1]/1e3),c},state:function(){return this._state},unload:function(){for(var s=this,a=s._sounds,c=0;c<a.length;c++)a[c]._paused||s.stop(a[c]._id),s._webAudio||(s._clearSound(a[c]._node),a[c]._node.removeEventListener("error",a[c]._errorFn,!1),a[c]._node.removeEventListener(t._canPlayEvent,a[c]._loadFn,!1),a[c]._node.removeEventListener("ended",a[c]._endFn,!1),t._releaseHtml5Audio(a[c]._node)),delete a[c]._node,s._clearTimer(a[c]._id);var m=t._howls.indexOf(s);m>=0&&t._howls.splice(m,1);var _=!0;for(c=0;c<t._howls.length;c++)if(t._howls[c]._src===s._src||s._src.indexOf(t._howls[c]._src)>=0){_=!1;break}return i&&_&&delete i[s._src],t.noAudio=!1,s._state="unloaded",s._sounds=[],s=null,null},on:function(s,a,c,m){var _=this,v=_["_on"+s];return typeof a=="function"&&v.push(m?{id:c,fn:a,once:m}:{id:c,fn:a}),_},off:function(s,a,c){var m=this,_=m["_on"+s],v=0;if(typeof a=="number"&&(c=a,a=null),a||c)for(v=0;v<_.length;v++){var y=c===_[v].id;if(a===_[v].fn&&y||!a&&y){_.splice(v,1);break}}else if(s)m["_on"+s]=[];else{var S=Object.keys(m);for(v=0;v<S.length;v++)S[v].indexOf("_on")===0&&Array.isArray(m[S[v]])&&(m[S[v]]=[])}return m},once:function(s,a,c){var m=this;return m.on(s,a,c,1),m},_emit:function(s,a,c){for(var m=this,_=m["_on"+s],v=_.length-1;v>=0;v--)(!_[v].id||_[v].id===a||s==="load")&&(setTimeout((function(y){y.call(this,a,c)}).bind(m,_[v].fn),0),_[v].once&&m.off(s,_[v].fn,_[v].id));return m._loadQueue(s),m},_loadQueue:function(s){var a=this;if(a._queue.length>0){var c=a._queue[0];c.event===s&&(a._queue.shift(),a._loadQueue()),s||c.action()}return a},_ended:function(s){var a=this,c=s._sprite;if(!a._webAudio&&s._node&&!s._node.paused&&!s._node.ended&&s._node.currentTime<s._stop)return setTimeout(a._ended.bind(a,s),100),a;var m=!!(s._loop||a._sprite[c][2]);if(a._emit("end",s._id),!a._webAudio&&m&&a.stop(s._id,!0).play(s._id),a._webAudio&&m){a._emit("play",s._id),s._seek=s._start||0,s._rateSeek=0,s._playStart=t.ctx.currentTime;var _=(s._stop-s._start)*1e3/Math.abs(s._rate);a._endTimers[s._id]=setTimeout(a._ended.bind(a,s),_)}return a._webAudio&&!m&&(s._paused=!0,s._ended=!0,s._seek=s._start||0,s._rateSeek=0,a._clearTimer(s._id),a._cleanBuffer(s._node),t._autoSuspend()),!a._webAudio&&!m&&a.stop(s._id,!0),a},_clearTimer:function(s){var a=this;if(a._endTimers[s]){if(typeof a._endTimers[s]!="function")clearTimeout(a._endTimers[s]);else{var c=a._soundById(s);c&&c._node&&c._node.removeEventListener("ended",a._endTimers[s],!1)}delete a._endTimers[s]}return a},_soundById:function(s){for(var a=this,c=0;c<a._sounds.length;c++)if(s===a._sounds[c]._id)return a._sounds[c];return null},_inactiveSound:function(){var s=this;s._drain();for(var a=0;a<s._sounds.length;a++)if(s._sounds[a]._ended)return s._sounds[a].reset();return new o(s)},_drain:function(){var s=this,a=s._pool,c=0,m=0;if(!(s._sounds.length<a)){for(m=0;m<s._sounds.length;m++)s._sounds[m]._ended&&c++;for(m=s._sounds.length-1;m>=0;m--){if(c<=a)return;s._sounds[m]._ended&&(s._webAudio&&s._sounds[m]._node&&s._sounds[m]._node.disconnect(0),s._sounds.splice(m,1),c--)}}},_getSoundIds:function(s){var a=this;if(typeof s>"u"){for(var c=[],m=0;m<a._sounds.length;m++)c.push(a._sounds[m]._id);return c}else return[s]},_refreshBuffer:function(s){var a=this;return s._node.bufferSource=t.ctx.createBufferSource(),s._node.bufferSource.buffer=i[a._src],s._panner?s._node.bufferSource.connect(s._panner):s._node.bufferSource.connect(s._node),s._node.bufferSource.loop=s._loop,s._loop&&(s._node.bufferSource.loopStart=s._start||0,s._node.bufferSource.loopEnd=s._stop||0),s._node.bufferSource.playbackRate.setValueAtTime(s._rate,t.ctx.currentTime),a},_cleanBuffer:function(s){var a=this,c=t._navigator&&t._navigator.vendor.indexOf("Apple")>=0;if(!s.bufferSource)return a;if(t._scratchBuffer&&s.bufferSource&&(s.bufferSource.onended=null,s.bufferSource.disconnect(0),c))try{s.bufferSource.buffer=t._scratchBuffer}catch{}return s.bufferSource=null,a},_clearSound:function(s){var a=/MSIE |Trident\//.test(t._navigator&&t._navigator.userAgent);a||(s.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var o=function(s){this._parent=s,this.init()};o.prototype={init:function(){var s=this,a=s._parent;return s._muted=a._muted,s._loop=a._loop,s._volume=a._volume,s._rate=a._rate,s._seek=0,s._paused=!0,s._ended=!0,s._sprite="__default",s._id=++t._counter,a._sounds.push(s),s.create(),s},create:function(){var s=this,a=s._parent,c=t._muted||s._muted||s._parent._muted?0:s._volume;return a._webAudio?(s._node=typeof t.ctx.createGain>"u"?t.ctx.createGainNode():t.ctx.createGain(),s._node.gain.setValueAtTime(c,t.ctx.currentTime),s._node.paused=!0,s._node.connect(t.masterGain)):t.noAudio||(s._node=t._obtainHtml5Audio(),s._errorFn=s._errorListener.bind(s),s._node.addEventListener("error",s._errorFn,!1),s._loadFn=s._loadListener.bind(s),s._node.addEventListener(t._canPlayEvent,s._loadFn,!1),s._endFn=s._endListener.bind(s),s._node.addEventListener("ended",s._endFn,!1),s._node.src=a._src,s._node.preload=a._preload===!0?"auto":a._preload,s._node.volume=c*t.volume(),s._node.load()),s},reset:function(){var s=this,a=s._parent;return s._muted=a._muted,s._loop=a._loop,s._volume=a._volume,s._rate=a._rate,s._seek=0,s._rateSeek=0,s._paused=!0,s._ended=!0,s._sprite="__default",s._id=++t._counter,s},_errorListener:function(){var s=this;s._parent._emit("loaderror",s._id,s._node.error?s._node.error.code:0),s._node.removeEventListener("error",s._errorFn,!1)},_loadListener:function(){var s=this,a=s._parent;a._duration=Math.ceil(s._node.duration*10)/10,Object.keys(a._sprite).length===0&&(a._sprite={__default:[0,a._duration*1e3]}),a._state!=="loaded"&&(a._state="loaded",a._emit("load"),a._loadQueue()),s._node.removeEventListener(t._canPlayEvent,s._loadFn,!1)},_endListener:function(){var s=this,a=s._parent;a._duration===1/0&&(a._duration=Math.ceil(s._node.duration*10)/10,a._sprite.__default[1]===1/0&&(a._sprite.__default[1]=a._duration*1e3),a._ended(s)),s._node.removeEventListener("ended",s._endFn,!1)}};var i={},l=function(s){var a=s._src;if(i[a]){s._duration=i[a].duration,h(s);return}if(/^data:[^;]+;base64,/.test(a)){for(var c=atob(a.split(",")[1]),m=new Uint8Array(c.length),_=0;_<c.length;++_)m[_]=c.charCodeAt(_);d(m.buffer,s)}else{var v=new XMLHttpRequest;v.open(s._xhr.method,a,!0),v.withCredentials=s._xhr.withCredentials,v.responseType="arraybuffer",s._xhr.headers&&Object.keys(s._xhr.headers).forEach(function(y){v.setRequestHeader(y,s._xhr.headers[y])}),v.onload=function(){var y=(v.status+"")[0];if(y!=="0"&&y!=="2"&&y!=="3"){s._emit("loaderror",null,"Failed loading audio file with status: "+v.status+".");return}d(v.response,s)},v.onerror=function(){s._webAudio&&(s._html5=!0,s._webAudio=!1,s._sounds=[],delete i[a],s.load())},u(v)}},u=function(s){try{s.send()}catch{s.onerror()}},d=function(s,a){var c=function(){a._emit("loaderror",null,"Decoding audio data failed.")},m=function(_){_&&a._sounds.length>0?(i[a._src]=_,h(a,_)):c()};typeof Promise<"u"&&t.ctx.decodeAudioData.length===1?t.ctx.decodeAudioData(s).then(m).catch(c):t.ctx.decodeAudioData(s,m,c)},h=function(s,a){a&&!s._duration&&(s._duration=a.duration),Object.keys(s._sprite).length===0&&(s._sprite={__default:[0,s._duration*1e3]}),s._state!=="loaded"&&(s._state="loaded",s._emit("load"),s._loadQueue())},p=function(){if(t.usingWebAudio){try{typeof AudioContext<"u"?t.ctx=new AudioContext:typeof webkitAudioContext<"u"?t.ctx=new webkitAudioContext:t.usingWebAudio=!1}catch{t.usingWebAudio=!1}t.ctx||(t.usingWebAudio=!1);var s=/iP(hone|od|ad)/.test(t._navigator&&t._navigator.platform),a=t._navigator&&t._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),c=a?parseInt(a[1],10):null;if(s&&c&&c<9){var m=/safari/.test(t._navigator&&t._navigator.userAgent.toLowerCase());t._navigator&&!m&&(t.usingWebAudio=!1)}t.usingWebAudio&&(t.masterGain=typeof t.ctx.createGain>"u"?t.ctx.createGainNode():t.ctx.createGain(),t.masterGain.gain.setValueAtTime(t._muted?0:t._volume,t.ctx.currentTime),t.masterGain.connect(t.ctx.destination)),t._setup()}};n.Howler=t,n.Howl=r,typeof ln<"u"?(ln.HowlerGlobal=e,ln.Howler=t,ln.Howl=r,ln.Sound=o):typeof window<"u"&&(window.HowlerGlobal=e,window.Howler=t,window.Howl=r,window.Sound=o)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){var r=this;if(!r.ctx||!r.ctx.listener)return r;for(var o=r._howls.length-1;o>=0;o--)r._howls[o].stereo(t);return r},HowlerGlobal.prototype.pos=function(t,r,o){var i=this;if(!i.ctx||!i.ctx.listener)return i;if(r=typeof r!="number"?i._pos[1]:r,o=typeof o!="number"?i._pos[2]:o,typeof t=="number")i._pos=[t,r,o],typeof i.ctx.listener.positionX<"u"?(i.ctx.listener.positionX.setTargetAtTime(i._pos[0],Howler.ctx.currentTime,.1),i.ctx.listener.positionY.setTargetAtTime(i._pos[1],Howler.ctx.currentTime,.1),i.ctx.listener.positionZ.setTargetAtTime(i._pos[2],Howler.ctx.currentTime,.1)):i.ctx.listener.setPosition(i._pos[0],i._pos[1],i._pos[2]);else return i._pos;return i},HowlerGlobal.prototype.orientation=function(t,r,o,i,l,u){var d=this;if(!d.ctx||!d.ctx.listener)return d;var h=d._orientation;if(r=typeof r!="number"?h[1]:r,o=typeof o!="number"?h[2]:o,i=typeof i!="number"?h[3]:i,l=typeof l!="number"?h[4]:l,u=typeof u!="number"?h[5]:u,typeof t=="number")d._orientation=[t,r,o,i,l,u],typeof d.ctx.listener.forwardX<"u"?(d.ctx.listener.forwardX.setTargetAtTime(t,Howler.ctx.currentTime,.1),d.ctx.listener.forwardY.setTargetAtTime(r,Howler.ctx.currentTime,.1),d.ctx.listener.forwardZ.setTargetAtTime(o,Howler.ctx.currentTime,.1),d.ctx.listener.upX.setTargetAtTime(i,Howler.ctx.currentTime,.1),d.ctx.listener.upY.setTargetAtTime(l,Howler.ctx.currentTime,.1),d.ctx.listener.upZ.setTargetAtTime(u,Howler.ctx.currentTime,.1)):d.ctx.listener.setOrientation(t,r,o,i,l,u);else return h;return d},Howl.prototype.init=function(t){return function(r){var o=this;return o._orientation=r.orientation||[1,0,0],o._stereo=r.stereo||null,o._pos=r.pos||null,o._pannerAttr={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:360,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:360,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:0,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:"inverse",maxDistance:typeof r.maxDistance<"u"?r.maxDistance:1e4,panningModel:typeof r.panningModel<"u"?r.panningModel:"HRTF",refDistance:typeof r.refDistance<"u"?r.refDistance:1,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:1},o._onstereo=r.onstereo?[{fn:r.onstereo}]:[],o._onpos=r.onpos?[{fn:r.onpos}]:[],o._onorientation=r.onorientation?[{fn:r.onorientation}]:[],t.call(this,r)}}(Howl.prototype.init),Howl.prototype.stereo=function(t,r){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"stereo",action:function(){o.stereo(t,r)}}),o;var i=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof r>"u")if(typeof t=="number")o._stereo=t,o._pos=[t,0,0];else return o._stereo;for(var l=o._getSoundIds(r),u=0;u<l.length;u++){var d=o._soundById(l[u]);if(d)if(typeof t=="number")d._stereo=t,d._pos=[t,0,0],d._node&&(d._pannerAttr.panningModel="equalpower",(!d._panner||!d._panner.pan)&&e(d,i),i==="spatial"?typeof d._panner.positionX<"u"?(d._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),d._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),d._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):d._panner.setPosition(t,0,0):d._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),o._emit("stereo",d._id);else return d._stereo}return o},Howl.prototype.pos=function(t,r,o,i){var l=this;if(!l._webAudio)return l;if(l._state!=="loaded")return l._queue.push({event:"pos",action:function(){l.pos(t,r,o,i)}}),l;if(r=typeof r!="number"?0:r,o=typeof o!="number"?-.5:o,typeof i>"u")if(typeof t=="number")l._pos=[t,r,o];else return l._pos;for(var u=l._getSoundIds(i),d=0;d<u.length;d++){var h=l._soundById(u[d]);if(h)if(typeof t=="number")h._pos=[t,r,o],h._node&&((!h._panner||h._panner.pan)&&e(h,"spatial"),typeof h._panner.positionX<"u"?(h._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),h._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime),h._panner.positionZ.setValueAtTime(o,Howler.ctx.currentTime)):h._panner.setPosition(t,r,o)),l._emit("pos",h._id);else return h._pos}return l},Howl.prototype.orientation=function(t,r,o,i){var l=this;if(!l._webAudio)return l;if(l._state!=="loaded")return l._queue.push({event:"orientation",action:function(){l.orientation(t,r,o,i)}}),l;if(r=typeof r!="number"?l._orientation[1]:r,o=typeof o!="number"?l._orientation[2]:o,typeof i>"u")if(typeof t=="number")l._orientation=[t,r,o];else return l._orientation;for(var u=l._getSoundIds(i),d=0;d<u.length;d++){var h=l._soundById(u[d]);if(h)if(typeof t=="number")h._orientation=[t,r,o],h._node&&(h._panner||(h._pos||(h._pos=l._pos||[0,0,-.5]),e(h,"spatial")),typeof h._panner.orientationX<"u"?(h._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),h._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime),h._panner.orientationZ.setValueAtTime(o,Howler.ctx.currentTime)):h._panner.setOrientation(t,r,o)),l._emit("orientation",h._id);else return h._orientation}return l},Howl.prototype.pannerAttr=function(){var t=this,r=arguments,o,i,l;if(!t._webAudio)return t;if(r.length===0)return t._pannerAttr;if(r.length===1)if(typeof r[0]=="object")o=r[0],typeof i>"u"&&(o.pannerAttr||(o.pannerAttr={coneInnerAngle:o.coneInnerAngle,coneOuterAngle:o.coneOuterAngle,coneOuterGain:o.coneOuterGain,distanceModel:o.distanceModel,maxDistance:o.maxDistance,refDistance:o.refDistance,rolloffFactor:o.rolloffFactor,panningModel:o.panningModel}),t._pannerAttr={coneInnerAngle:typeof o.pannerAttr.coneInnerAngle<"u"?o.pannerAttr.coneInnerAngle:t._coneInnerAngle,coneOuterAngle:typeof o.pannerAttr.coneOuterAngle<"u"?o.pannerAttr.coneOuterAngle:t._coneOuterAngle,coneOuterGain:typeof o.pannerAttr.coneOuterGain<"u"?o.pannerAttr.coneOuterGain:t._coneOuterGain,distanceModel:typeof o.pannerAttr.distanceModel<"u"?o.pannerAttr.distanceModel:t._distanceModel,maxDistance:typeof o.pannerAttr.maxDistance<"u"?o.pannerAttr.maxDistance:t._maxDistance,refDistance:typeof o.pannerAttr.refDistance<"u"?o.pannerAttr.refDistance:t._refDistance,rolloffFactor:typeof o.pannerAttr.rolloffFactor<"u"?o.pannerAttr.rolloffFactor:t._rolloffFactor,panningModel:typeof o.pannerAttr.panningModel<"u"?o.pannerAttr.panningModel:t._panningModel});else return l=t._soundById(parseInt(r[0],10)),l?l._pannerAttr:t._pannerAttr;else r.length===2&&(o=r[0],i=parseInt(r[1],10));for(var u=t._getSoundIds(i),d=0;d<u.length;d++)if(l=t._soundById(u[d]),l){var h=l._pannerAttr;h={coneInnerAngle:typeof o.coneInnerAngle<"u"?o.coneInnerAngle:h.coneInnerAngle,coneOuterAngle:typeof o.coneOuterAngle<"u"?o.coneOuterAngle:h.coneOuterAngle,coneOuterGain:typeof o.coneOuterGain<"u"?o.coneOuterGain:h.coneOuterGain,distanceModel:typeof o.distanceModel<"u"?o.distanceModel:h.distanceModel,maxDistance:typeof o.maxDistance<"u"?o.maxDistance:h.maxDistance,refDistance:typeof o.refDistance<"u"?o.refDistance:h.refDistance,rolloffFactor:typeof o.rolloffFactor<"u"?o.rolloffFactor:h.rolloffFactor,panningModel:typeof o.panningModel<"u"?o.panningModel:h.panningModel};var p=l._panner;p||(l._pos||(l._pos=t._pos||[0,0,-.5]),e(l,"spatial"),p=l._panner),p.coneInnerAngle=h.coneInnerAngle,p.coneOuterAngle=h.coneOuterAngle,p.coneOuterGain=h.coneOuterGain,p.distanceModel=h.distanceModel,p.maxDistance=h.maxDistance,p.refDistance=h.refDistance,p.rolloffFactor=h.rolloffFactor,p.panningModel=h.panningModel}return t},Sound.prototype.init=function(t){return function(){var r=this,o=r._parent;r._orientation=o._orientation,r._stereo=o._stereo,r._pos=o._pos,r._pannerAttr=o._pannerAttr,t.call(this),r._stereo?o.stereo(r._stereo):r._pos&&o.pos(r._pos[0],r._pos[1],r._pos[2],r._id)}}(Sound.prototype.init),Sound.prototype.reset=function(t){return function(){var r=this,o=r._parent;return r._orientation=o._orientation,r._stereo=o._stereo,r._pos=o._pos,r._pannerAttr=o._pannerAttr,r._stereo?o.stereo(r._stereo):r._pos?o.pos(r._pos[0],r._pos[1],r._pos[2],r._id):r._panner&&(r._panner.disconnect(0),r._panner=void 0,o._refreshBuffer(r)),t.call(this)}}(Sound.prototype.reset);var e=function(t,r){r=r||"spatial",r==="spatial"?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.panningModel=t._pannerAttr.panningModel,typeof t._panner.positionX<"u"?(t._panner.positionX.setValueAtTime(t._pos[0],Howler.ctx.currentTime),t._panner.positionY.setValueAtTime(t._pos[1],Howler.ctx.currentTime),t._panner.positionZ.setValueAtTime(t._pos[2],Howler.ctx.currentTime)):t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),typeof t._panner.orientationX<"u"?(t._panner.orientationX.setValueAtTime(t._orientation[0],Howler.ctx.currentTime),t._panner.orientationY.setValueAtTime(t._orientation[1],Howler.ctx.currentTime),t._panner.orientationZ.setValueAtTime(t._orientation[2],Howler.ctx.currentTime)):t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.setValueAtTime(t._stereo,Howler.ctx.currentTime)),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id,!0)}})()}(no)),no}var Et=Hm();function ro(n){let e=ne({});const t=new Et.Howl({src:n.loadedAudio.src,sprite:n.loadedAudio.sprite,loop:n.loop}),r=p=>({soundName:p,soundId:0,soundState:"new",soundConfig:n.loadedAudio.config[p]??{volume:1}}),{play:o}=n.createPlay({howl:t,newSound:r,getSoundMap:()=>e});return{play:o,stop:p=>{const s=e[p.name];s&&(t.stop(s.soundId),delete e[s.soundName])},fade:async p=>{const s=e[p.name];s&&(t.fade(p.from,p.to,p.duration,s.soundId),await ut(p.duration))},volume:p=>{Object.values(e).forEach(s=>{t.volume(p*s.soundConfig.volume,s.soundId)})},rate:p=>{const s=e[p.name];s&&t.rate(p.rate,s.soundId)},howl:t,debug:()=>{console.log(Tr(e))}}}function Um(n){const e=()=>{Object.values(n.getSoundMap()).forEach(l=>{n.howl.pause(l.soundId),n.getSoundMap()[l.soundName]={...l,soundState:"paused"}})},t=l=>{e();const u=n.howl.play(l.soundName);n.getSoundMap()[l.soundName]={...l,soundId:u,soundState:"playing"}},r=l=>{e(),n.howl.play(l.soundId),n.getSoundMap()[l.soundName]={...l,soundState:"playing"}},o={new:l=>t(l),paused:l=>r(l),playing:l=>{}};return{play:l=>{const d=n.getSoundMap()[l.name]??n.newSound(l.name);o[d.soundState](d)}}}function Km(n){const e=o=>{const i=n.howl.play(o.soundName);n.getSoundMap()[o.soundName]={...o,soundId:i,soundState:"playing"}},t={new:o=>e(o),paused:o=>e(o),playing:o=>{}};return{play:o=>{const l=n.getSoundMap()[o.name]??n.newSound(o.name);t[l.soundState](l)}}}function jm(n){const e=o=>{const i=n.howl.play(o.soundName);n.getSoundMap()[o.soundName]={...o,soundId:i,soundState:"playing"},n.howl.on("end",l=>{l===i&&(n.howl.stop(i),delete n.getSoundMap()[o.soundName])})},t={new:o=>e(o),paused:o=>e(o),playing:(o,i)=>{i.forcePlay&&e(o)}};return{play:o=>{const l=n.getSoundMap()[o.name]??n.newSound(o.name);t[l.soundState](l,{forcePlay:o.forcePlay})}}}function Vm(){let n,e=Z("running"),t=Z("visible"),r;const o=a=>{n=a,r={music:ro({loadedAudio:n,loop:!0,createPlay:Um}),loop:ro({loadedAudio:n,loop:!0,createPlay:Km}),once:ro({loadedAudio:n,loop:!1,createPlay:jm})};const c=()=>N(e,ne(Et.Howler.ctx.state)),m=()=>N(t,ne(document.visibilityState));return Et.Howler.ctx.addEventListener("statechange",c),document.addEventListener("visibilitychange",m),{destroy:()=>{Et.Howler.ctx.removeEventListener("statechange",c),document.removeEventListener("visibilitychange",m),r&&(r.music.howl.unload(),r.loop.howl.unload(),r.once.howl.unload())}}},i=a=>{r&&(r.music.stop(a),r.loop.stop(a),r.once.stop(a))},l=async a=>{if(r){const c=()=>[r.music.fade(a),r.loop.fade(a),r.once.fade(a)];await Promise.all(c())}},u=a=>{r&&(r.music.rate(a),r.loop.rate(a),r.once.rate(a))},d=()=>{Et.Howler.volume(0),Et.Howler.mute(!0)},h=()=>{Et.Howler.volume(1),Et.Howler.mute(!1)};return{load:o,stop:i,fade:l,rate:u,volumeEffect:()=>{be(()=>{r&&(r.music.volume(Wr.volumeMusic()),r.loop.volume(Wr.volumeSoundEffect()),r.once.volume(Wr.volumeSoundEffect()))})},enableEffect:()=>{be(()=>{f(e)==="running"&&f(t)==="visible"?h():d()})},get players(){return r}}}const Re=Vm();function Ym(n,e){k(e,!0);const t=ce();Ie(()=>{const r=Tr(t.stateApp.loadedAssets.sound),{destroy:o}=Re.load(r);return()=>{o()}}),Re.enableEffect(),Re.volumeEffect(),B()}function Xm({bookEvent:n}){try{zl({eventIndex:n.index,rgsUrl:Ne.rgsUrl(),sessionID:Ne.sessionID(),gameID:Ne.gameID()})}catch(e){console.error(e)}}function gi({bookEvents:n}){return n.filter(r=>r.type==="reveal").length>1}async function qm(n,e){const t=[];for(const[r,o]of n.entries()){const i=await e(o,r,n);t.push(i)}return t}function Jm({bookEventHandlerMap:n,debug:e}){const t=async(o,i)=>{const l=n==null?void 0:n[o.type];l?await l(o,i):console.error('Missing bookEventHandler in "bookEventHandlerMap" for: ',o)};return{playBookEvent:t,playBookEvents:async(o,i)=>{const l=i||{};await qm(o,async u=>{await t(u,{...l,bookEvents:o})})}}}const mn={clusterWinAmounts:null},oo=({bookEventAmount:n})=>{var t,r;const e=Ft.getWinLevelDataByBookEventAmount(n);(e==null?void 0:e.alias)==="max"&&z.broadcastAsync({type:"uiHide"}),(t=e==null?void 0:e.sound)!=null&&t.sfx&&z.broadcast({type:"soundOnce",name:e.sound.sfx}),(r=e==null?void 0:e.sound)!=null&&r.bgm&&z.broadcast({type:"soundMusic",name:e.sound.bgm}),(e==null?void 0:e.type)==="big"&&z.broadcast({type:"soundLoop",name:"sfx_bigwin_coinloop"})},Hs=()=>{z.broadcast({type:"soundStop",name:"sfx_bigwin_coinloop"}),V.activeBetModeKey==="SUPERSPIN"||qe.gameType==="freeGame"?z.broadcast({type:"soundMusic",name:"bgm_freespin"}):z.broadcast({type:"soundMusic",name:"bgm_main"}),z.broadcastAsync({type:"uiShow"})},Zm={reveal:async(n,{bookEvents:e})=>{gi({bookEvents:e})&&(z.broadcast({type:"stopButtonEnable"}),Xm({bookEvent:n})),qe.gameType=n.gameType,await Ft.enhancedBoard.spin({revealEvent:n}),z.broadcast({type:"soundScatterCounterClear"})},animateSymbols:async n=>{var t;const e=async()=>{z.broadcast({type:"boardShow"}),n.reason==="trigger_freeSpin"?z.broadcast({type:"soundOnce",name:"sfx_scatter_win_v2"}):z.broadcast({type:"soundOnce",name:"sfx_winlevel_small"}),await z.broadcastAsync({type:"boardWithAnimateSymbols",symbolPositions:n.symbolPositions})};await Promise.all([e(),(t=mn.clusterWinAmounts)==null?void 0:t.call(mn)]),mn.clusterWinAmounts=null},clusterWin:async n=>{const e=async()=>{await z.broadcastAsync({type:"showClusterWinAmounts",wins:n.winInfo})};mn.clusterWinAmounts=e},setTumbleWin:async n=>{n.amount>0&&(z.broadcast({type:"tumbleWinAmountShow"}),z.broadcast({type:"tumbleWinAmountUpdate",amount:n.amount,animate:!1}))},setTotalWin:async n=>{V.winBookEventAmount=n.amount},freeSpinTrigger:async n=>{z.broadcast({type:"soundOnce",name:"sfx_superfreespin"}),await z.broadcastAsync({type:"uiHide"}),await z.broadcastAsync({type:"transition"}),z.broadcast({type:"freeSpinIntroShow"}),z.broadcast({type:"soundOnce",name:"jng_intro_fs"}),z.broadcast({type:"soundMusic",name:"bgm_freespin"}),await z.broadcastAsync({type:"freeSpinIntroUpdate",totFS:n.totFS,extraSpins:n.extraSpins}),qe.gameType="freeGame",z.broadcast({type:"freeSpinIntroHide"}),z.broadcast({type:"boardFrameGlowShow"}),z.broadcast({type:"globalMultiplierShow"}),await z.broadcastAsync({type:"globalMultiplierUpdate",multiplier:1}),z.broadcast({type:"freeSpinCounterShow"}),se.freeSpinCounterShow=!0,z.broadcast({type:"freeSpinCounterUpdate",current:void 0,total:n.totFS}),se.freeSpinCounterTotal=n.totFS,await z.broadcastAsync({type:"uiShow"}),await z.broadcastAsync({type:"drawerButtonShow"}),z.broadcast({type:"drawerFold"})},updateFreeSpin:async n=>{z.broadcast({type:"freeSpinCounterShow"}),se.freeSpinCounterShow=!0,z.broadcast({type:"freeSpinCounterUpdate",current:n.amount,total:void 0}),se.freeSpinCounterCurrent=n.amount},updateGlobalMult:async n=>{z.broadcast({type:"globalMultiplierShow"}),n.globalMult===1&&(z.broadcast({type:"tumbleWinAmountHide"}),z.broadcast({type:"tumbleWinAmountReset"})),await z.broadcastAsync({type:"globalMultiplierUpdate",multiplier:n.globalMult})},freeSpinEnd:async n=>{await z.broadcastAsync({type:"uiHide"}),qe.gameType="baseGame",z.broadcast({type:"boardFrameGlowHide"}),z.broadcast({type:"globalMultiplierHide"}),z.broadcast({type:"freeSpinOutroShow"}),z.broadcast({type:"soundOnce",name:"sfx_youwon_panel"}),oo({bookEventAmount:n.amount}),await z.broadcastAsync({type:"freeSpinOutroCountUp",amount:n.amount}),Hs(),z.broadcast({type:"freeSpinOutroHide"}),z.broadcast({type:"freeSpinCounterHide"}),se.freeSpinCounterShow=!1,await z.broadcastAsync({type:"transition"}),await z.broadcastAsync({type:"uiShow"}),await z.broadcastAsync({type:"drawerUnfold"}),z.broadcast({type:"drawerButtonHide"})},multiplierSplashScreen:async n=>{z.broadcast({type:"tumbleWinAmountShow"}),await z.broadcastAsync({type:"tumbleWinAmountUpdate",amount:n.actingOn,animate:!1}),z.broadcast({type:"multiplierBoardShow"}),z.broadcast({type:"multiplierBoardInit"}),z.broadcast({type:"soundOnce",name:"tumble_win_4"}),await z.broadcastAsync({type:"multiplierBoardAnimate"}),z.broadcast({type:"boardWithMovingMultiplierTexts"}),await z.broadcastAsync({type:"multiplierBoardMove"}),z.broadcast({type:"multiplierBoardReset"}),z.broadcast({type:"multiplierBoardHide"}),z.broadcast({type:"multiplierTotalShow"}),z.broadcast({type:"multiplierTotalUpdate",totalMultiplier:n.multiplier}),z.broadcast({type:"soundOnce",name:"sfx_multiplier_win"}),await z.broadcastAsync({type:"multiplierTotalAnimate"}),z.broadcast({type:"soundOnce",name:"sfx_multiplier_explosion_a"}),z.broadcast({type:"multiplierTotalHide"}),await z.broadcastAsync({type:"tumbleWinAmountUpdate",amount:n.result,animate:!0})},tumbleBoard:async n=>{z.broadcast({type:"boardHide"}),z.broadcast({type:"tumbleBoardShow"}),z.broadcast({type:"tumbleBoardInit",addingBoard:n.newSymbols}),z.broadcast({type:"soundOnce",name:"sfx_multiplier_explosion_b"}),await z.broadcastAsync({type:"tumbleBoardExplode",explodingPositions:n.explodingSymbols}),z.broadcast({type:"tumbleBoardRemoveExploded"}),await z.broadcastAsync({type:"tumbleBoardSlideDown"}),z.broadcast({type:"boardSettle",board:Ft.tumbleBoardCombined().map(e=>e.map(t=>t.rawSymbol))}),z.broadcast({type:"tumbleBoardReset"}),z.broadcast({type:"tumbleBoardHide"}),z.broadcast({type:"boardShow"})},cumulativeTumble:async n=>{z.broadcast({type:"winShow"}),oo({bookEventAmount:n.amount}),await z.broadcastAsync({type:"winUpdate",amount:n.amount}),z.broadcast({type:"soundStop",name:"sfx_bigwin_coinloop"}),z.broadcast({type:"winHide"})},winCap:async n=>{z.broadcast({type:"winShow"}),oo({bookEventAmount:n.amount}),await z.broadcastAsync({type:"winUpdate",amount:n.amount}),Hs(),z.broadcast({type:"winHide"})},finalWin:async n=>{z.broadcast({type:"globalMultiplierHide"}),z.broadcast({type:"tumbleWinAmountHide"})},bigWinAnimation:async n=>{},setWin:async n=>{},createBonusSnapshot:async n=>{const{bookEvents:e}=n;function t(u){return zt.findLast(e,d=>d.type===u)}const r=t("freeSpinTrigger"),o=t("updateFreeSpin"),i=t("setTotalWin"),l=t("updateGlobalMult");r&&await nr(r,{bookEvents:e}),o&&nr(o,{bookEvents:e}),i&&nr(i,{bookEvents:e}),l&&nr(l,{bookEvents:e})}},{playBookEvent:nr,playBookEvents:Qm}=Jm({bookEventHandlerMap:Zm,debug:!1}),ep=async n=>{V.winBookEventAmount=0,await Qm(n.state),z.broadcast({type:"stopButtonEnable"})},tp=["updateGlobalMult","freeSpinTrigger","updateFreeSpin","setTotalWin"],np=n=>{const e=Number(n.event),t=n.state.filter((l,u)=>u<e),r=n.state.filter((l,u)=>u>=e),i=[{index:0,type:"createBonusSnapshot",bookEvents:t.filter(l=>tp.includes(l.type))},...r];return{...n,state:i}},Yo=n=>ie*(n+fi),sr=n=>(n+.5)*ie,bi=({rawSymbol:n})=>n.subtype!==void 0?`${n.name}_${n.subtype}`:n.name,Dr=({rawSymbol:n,state:e})=>{const t=bi({rawSymbol:n});return Mm[t][e]},wi=({rawSymbol:n,state:e})=>{if(n.name==="M"){const t=bi({rawSymbol:n});return Dm[t][e]}return null},rp=Zf({onResumeGameActive:n=>np(n),onResumeGameInactive:n=>{const e=zt.findLast(n.state,t=>(t==null?void 0:t.type)==="reveal");e&&Ft.enhancedBoard.settle(e.board)},onNewGameStart:async()=>{V.isTurbo&&di.isAutoBetting()||V.isSpaceHold||(V.winBookEventAmount=0,await Ft.enhancedBoard.preSpin({}))},onNewGameError:()=>Ft.enhancedBoard.settle(),onPlayGame:async n=>await ep(n),checkIsBonusGame:n=>gi({bookEvents:n.state})}),op=ch(rp),It=qf(op);function sp(n,e){k(e,!0);const t=ce();Ie(()=>{const{unsubscribe:l}=It.subscribe(u=>{t.stateXstate.value=u.value});return It.start(),It.send({type:"RENDERED"}),()=>{l(),It.stop()}}),t.eventEmitter.subscribeOnMount({bet:()=>It.send({type:"BET"}),autoBet:()=>It.send({type:"AUTO_BET"}),resumeBet:()=>It.send({type:"RESUME_BET"}),forceResult:()=>It.send({type:"FORCE_RESULT"})});var r=E(),o=w(r);{var i=l=>{const u=b(()=>JSON.stringify(t.stateXstate.value,void 0,2));ze(l,{get x(){return t.stateLayoutDerived.canvasSizes().width},anchor:{x:1,y:0},style:{fill:16777215},get text(){return f(u)}})};Q(o,l=>{e.debug&&l(i)})}g(n,r),B()}var pn=We(()=>V);function ap(n,e){k(e,!1);const t=ce();Ie(()=>{var r;(r=pn().lastBet)!=null&&r.active&&pn().lastBet.mode&&pn(pn().activeBetModeKey=pn().lastBet.mode),t.eventEmitter.broadcast({type:"resumeBet"})}),Ee(),B()}function ip(n,e){k(e,!1);const t=ce();t.eventEmitter.subscribeOnMount({soundBetMode:async({betModeKey:r})=>{r==="SUPERSPIN"?(Re.players.once.play({name:"sfx_winlevel_end"}),await ut(Oe),Re.players.music.play({name:"bgm_freespin"})):Re.players.music.play({name:"bgm_main"})},soundPressGeneral:()=>Re.players.once.play({name:"sfx_btn_general"}),soundPressBet:()=>Re.players.once.play({name:"sfx_btn_spin"}),soundScatterCounterIncrease:()=>t.stateGame.scatterCounter=t.stateGame.scatterCounter+1,soundScatterCounterClear:()=>t.stateGame.scatterCounter=0,soundMusic:({name:r})=>Re.players.music.play({name:r}),soundLoop:({name:r})=>Re.players.loop.play({name:r}),soundOnce:({name:r,forcePlay:o})=>Re.players.once.play({name:r,forcePlay:o}),soundStop:({name:r})=>Re.stop({name:r}),soundFade:async({name:r,duration:o,from:i,to:l})=>await Re.fade({name:r,duration:o,from:i,to:l})}),Ie(()=>{V.activeBetModeKey==="SUPERSPIN"?Re.players.music.play({name:"bgm_freespin"}):Re.players.music.play({name:"bgm_main"})}),Ee(),B()}var lp=L("<!> <!>",1),up=L("<!> <!>",1),cp=L("<!> <!> <!>",1);function dp(n,e){k(e,!0);const t=ce(),r=b(()=>t.stateLayoutDerived.normalBackgroundLayout({scale:.5})),o=b(()=>t.stateGame.gameType==="baseGame"||t.stateGame.gameType==="superSpinGame"),i=b(()=>t.stateGame.gameType==="freeGame");var l=cp(),u=w(l),d=b(()=>t.stateLayoutDerived.canvasSizes());Ve(u,q(()=>f(d),{backgroundColor:0,zIndex:-3}));var h=x(u,2);He(h,{get show(){return f(o)},duration:Oe,zIndex:-2,children:(s,a)=>{var c=lp(),m=w(c);ke(m,q({key:"foregroundAnimation"},()=>f(r),{children:(v,y)=>{Be(v,{trackIndex:0,animationName:"idle",loop:!0})},$$slots:{default:!0}}));var _=x(m,2);ke(_,q({key:"foregroundAnimation"},()=>f(r),{children:(v,y)=>{Be(v,{trackIndex:0,animationName:"dust",loop:!0})},$$slots:{default:!0}})),g(s,c)},$$slots:{default:!0}});var p=x(h,2);He(p,{get show(){return f(i)},duration:Oe,zIndex:-1,children:(s,a)=>{var c=up(),m=w(c);ke(m,q({key:"foregroundFeatureAnimation"},()=>f(r),{children:(v,y)=>{Be(v,{trackIndex:0,animationName:"idle",loop:!0})},$$slots:{default:!0}}));var _=x(m,2);ke(_,q({key:"foregroundFeatureAnimation"},()=>f(r),{children:(v,y)=>{Be(v,{trackIndex:0,animationName:"dust",loop:!0})},$$slots:{default:!0}})),g(s,c)},$$slots:{default:!0}}),g(n,l),B()}function Si(n,e){k(e,!0);const t=ce(),r=b(()=>t.stateLayoutDerived.canvasSizes().width*.5),o=b(()=>t.stateLayoutDerived.canvasSizes().height*.5),i=b(()=>t.stateLayoutDerived.canvasSizes().height*1.7);ke(n,{key:"transition",get x(){return f(r)},get y(){return f(o)},get height(){return f(i)},children:(l,u)=>{const d=b(()=>({complete:e.oncomplete}));Be(l,{trackIndex:0,animationName:"animation",get listener(){return f(d)}})},$$slots:{default:!0}}),B()}var fp=L("<!> <!> <!>",1);function $r(n,e){k(e,!0);const t=ce();var r=fp(),o=w(r);Pe(o,{alignVertical:"bottom",children:(u,d)=>{const h=b(()=>Ne.lang()),p=b(()=>t.stateLayoutDerived.mainLayout().width*.5);Ge(u,{get key(){return`pressToContinueText_${f(h)??""}.png`},width:800,height:134,anchor:{x:.5,y:1},get x(){return f(p)},get y(){return t.stateLayoutDerived.mainLayout().height}})},$$slots:{default:!0}});var i=x(o,2);Lo(i,{hotkey:"Space",onpress:()=>e.onpress()});var l=x(i,2);ph(l,{onpress:()=>e.onpress()}),g(n,r),B()}var hp=L("<!> <!>",1),mp=L("<!> <!> <!>",1);function pp(n,e){k(e,!0);const t=ce();let r=Z("start");var o=mp(),i=w(o);const l=b(()=>f(r)==="start");He(i,{get show(){return f(l)},children:(s,a)=>{Pe(s,{children:(c,m)=>{const _=b(()=>t.stateLayoutDerived.mainLayout().width*.5),v=b(()=>t.stateLayoutDerived.mainLayout().height*.5);G(c,{get x(){return f(_)},get y(){return f(v)},children:(y,S)=>{var A=hp(),P=w(A);ke(P,{key:"loader",width:300,children:(O,K)=>{Be(O,{trackIndex:0,animationName:"title_screen",loop:!0,timeScale:3})},$$slots:{default:!0}});var T=x(P,2);{var C=O=>{Cd(O,{y:250,width:393.40000000000003,height:69.2,background:(H,U=Te)=>{Ge(H,q({key:"progressBarBackground.png"},U))},progress:(H,U=Te)=>{Ge(H,q({key:"progressBar.png"},U))},frame:(H,U=Te)=>{Ge(H,q({key:"progressBarFrame.png"},U))},$$slots:{background:!0,progress:!0,frame:!0}})};Q(T,O=>{t.stateApp.loaded||O(C)})}g(y,A)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}});var u=x(i,2);const d=b(()=>f(r)==="start"&&t.stateApp.loaded);He(u,{get show(){return f(d)},children:(s,a)=>{$r(s,{onpress:()=>N(r,"transition")})},$$slots:{default:!0}});var h=x(u,2);const p=b(()=>f(r)==="transition");He(h,{get show(){return f(p)},children:(s,a)=>{Si(s,{get oncomplete(){return e.onloaded}})},$$slots:{default:!0}}),g(n,o),B()}var _p=L("<!> <!> <!>",1);function vp(n,e){k(e,!0);const t=ce(),r={width:.59,height:.62},o={width:1.07,height:1},i=937/806,l=1.01;let u=Z(void 0),d=Z(!1);t.eventEmitter.subscribeOnMount({boardFrameGlowShow:()=>{N(u,"reelhouse_glow_start"),N(d,!1)},boardFrameGlowHide:()=>{f(u)&&N(u,"reelhouse_glow_exit")}});var h=_p(),p=w(h);{var s=C=>{const O=b(()=>t.stateGameDerived.boardLayout().x*l),K=b(()=>t.stateGameDerived.boardLayout().y*l),W=b(()=>t.stateGameDerived.boardLayout().width*r.width),X=b(()=>t.stateGameDerived.boardLayout().height*r.height);ke(C,{zIndex:-1,key:"reelhouse",get x(){return f(O)},get y(){return f(K)},get width(){return f(W)},get height(){return f(X)},children:(H,U)=>{Be(H,{trackIndex:0,get animationName(){return f(u)},get loop(){return f(d)},listener:{complete:R=>{R.animation&&(R.animation.name==="reelhouse_glow_start"&&(N(u,"reelhouse_glow_idle"),N(d,!0)),R.animation.name==="reelhouse_glow_exit"&&(N(u,void 0),N(d,!1)))}}})},$$slots:{default:!0}})};Q(p,C=>{f(u)&&C(s)})}var a=x(p,2);const c=b(()=>t.stateGameDerived.boardLayout().x*l),m=b(()=>t.stateGameDerived.boardLayout().y*l),_=b(()=>t.stateGameDerived.boardLayout().width*i*o.width),v=b(()=>t.stateGameDerived.boardLayout().width*o.height);Ge(a,{key:"frame_bg.png",anchor:.5,get x(){return f(c)},get y(){return f(m)},get width(){return f(_)},get height(){return f(v)}});var y=x(a,2);const S=b(()=>t.stateGameDerived.boardLayout().x*l),A=b(()=>t.stateGameDerived.boardLayout().y*l),P=b(()=>t.stateGameDerived.boardLayout().width*i*o.width),T=b(()=>t.stateGameDerived.boardLayout().width*o.height);Ge(y,{key:"frame_edge.png",anchor:.5,get x(){return f(S)},get y(){return f(A)},get width(){return f(P)},get height(){return f(T)}}),g(n,h),B()}function wt(n,e){k(e,!0);const t=ce();G(n,{get x(){return t.stateGameDerived.boardLayout().x},get y(){return t.stateGameDerived.boardLayout().y},get pivot(){return t.stateGameDerived.boardLayout().pivot},children:(r,o)=>{var i=E(),l=w(i);D(l,()=>e.children),g(r,i)},$$slots:{default:!0}}),B()}var yp=L("<!> <!>",1);function xi(n,e){k(e,!0);const t=ce();var r=yp(),o=w(r);{var i=d=>{Ve(d,{alpha:.5,backgroundColor:16777215,get width(){return t.stateGameDerived.boardLayout().width},get height(){return t.stateGameDerived.boardLayout().height}})};Q(o,d=>{e.debug&&d(i)})}var l=x(o,2);const u=b(()=>t.stateGameDerived.boardLayout().width+ie*2);Ve(l,{isMask:!0,x:-100,get width(){return f(u)},get height(){return t.stateGameDerived.boardLayout().height}}),g(n,r),B()}function Ai(n,e){k(e,!0);const t=b(()=>ie*e.symbolInfo.sizeRatios.height);ke(n,{get x(){return e.x},get y(){return e.y},get key(){return e.symbolInfo.assetKey},get height(){return f(t)},children:(r,o)=>{const i=b(()=>fe.timeScale());Be(r,{get loop(){return e.loop},trackIndex:0,get animationName(){return e.symbolInfo.animationName},get timeScale(){return f(i)},get listener(){return e.listener}})},$$slots:{default:!0}}),B()}function Ti(n,e){k(e,!0);var t=E(),r=w(t);{var o=i=>{const l=b(()=>ie*e.symbolBackgroundInfo.sizeRatios.height);ke(i,{get x(){return e.x},get y(){return e.y},get key(){return e.symbolBackgroundInfo.assetKey},get height(){return f(l)},children:(u,d)=>{const h=b(()=>fe.timeScale());Be(u,{get loop(){return e.loop},trackIndex:0,get animationName(){return e.symbolBackgroundInfo.animationName},get timeScale(){return f(h)}})},$$slots:{default:!0}})};Q(r,i=>{e.symbolBackgroundInfo&&i(o)})}g(n,t),B()}var gp=L("<!> <!> <!>",1);function bp(n,e){k(e,!0);var t=gp(),r=w(t);Ti(r,{get x(){return e.x},get y(){return e.y},get symbolBackgroundInfo(){return e.symbolBackgroundInfo},get loop(){return e.loop}});var o=x(r,2);Ai(o,{get x(){return e.x},get y(){return e.y},get symbolInfo(){return e.symbolInfo},get listener(){return e.listener},get loop(){return e.loop}});var i=x(o,2);{var l=u=>{ke(u,{get x(){return e.x},get y(){return e.y},key:"anticipation",width:ie*.19,children:(d,h)=>{Be(d,{trackIndex:0,animationName:"payframe",loop:!0})},$$slots:{default:!0}})};Q(i,u=>{e.showWinFrame&&u(l)})}g(n,t),B()}function wp(n,e){k(e,!0),Ie(()=>{var o;(o=e.oncomplete)==null||o.call(e)}),be(()=>{var o;e.symbolInfo,(o=e.oncomplete)==null||o.call(e)});const t=b(()=>ie*e.symbolInfo.sizeRatios.width),r=b(()=>ie*e.symbolInfo.sizeRatios.height);Ge(n,{get x(){return e.x},get y(){return e.y},anchor:.5,get key(){return e.symbolInfo.assetKey},get width(){return f(t)},get height(){return f(r)}}),B()}function Pi(n,e){k(e,!0);const t=ce(),r=b(()=>Dr({rawSymbol:e.rawSymbol,state:e.state})),o=b(()=>f(r).type==="sprite");var i=E(),l=w(i);{var u=h=>{wp(h,{get symbolInfo(){return f(r)},get x(){return e.x},get y(){return e.y},get oncomplete(){return e.oncomplete}})},d=h=>{const p=b(()=>wi({rawSymbol:e.rawSymbol,state:e.state})),s=b(()=>e.state==="win"&&!["S","M"].includes(e.rawSymbol.name)),a=b(()=>({complete:e.oncomplete,event:(c,m)=>{var _,v;((_=m.data)==null?void 0:_.name)==="wildExplode"&&((v=t.eventEmitter)==null||v.broadcast({type:"soundOnce",name:"sfx_wild_explode"}))}}));bp(h,{get loop(){return e.loop},get symbolInfo(){return f(r)},get symbolBackgroundInfo(){return f(p)},get x(){return e.x},get y(){return e.y},get showWinFrame(){return f(s)},get listener(){return f(a)}})};Q(l,h=>{f(o)?h(u):h(d,!1)})}g(n,i),B()}function Ii(n,e){k(e,!0);const t=tu(),r=b(()=>t.animate&&e.animating||!t.animate&&!e.animating),o=0,i=ie*yr.y,l=b(()=>e.y>=o&&e.y<=i);var u=E(),d=w(u);{var h=p=>{G(p,{get x(){return e.x},get y(){return e.y},children:(s,a)=>{var c=E(),m=w(c);D(m,()=>e.children),g(s,c)},$$slots:{default:!0}})};Q(d,p=>{f(r)&&f(l)&&p(h)})}g(n,u),B()}function Sp(n,e){k(e,!0);const t=b(()=>Dr({rawSymbol:e.reelSymbol.rawSymbol,state:e.reelSymbol.symbolState})),r=b(()=>Yo(e.reelIndex)),o=b(()=>f(t).type==="spine"&&(e.reelSymbol.symbolState==="land"||e.reelSymbol.symbolState==="win"));Ii(n,{get x(){return f(r)},get y(){return e.reelSymbol.symbolY.current},get animating(){return f(o)},children:(i,l)=>{Pi(i,{get state(){return e.reelSymbol.symbolState},get rawSymbol(){return e.reelSymbol.rawSymbol},oncomplete:()=>{e.reelSymbol.symbolState==="win"&&e.reelSymbol.oncomplete(),e.reelSymbol.symbolState==="land"&&(e.reelSymbol.symbolState="static")}})},$$slots:{default:!0}}),B()}function Us(n,e){k(e,!1);const t=ce();Ee();var r=E(),o=w(r);ct(o,1,()=>t.stateGame.board,gt,(i,l,u)=>{var d=E(),h=w(d);ct(h,1,()=>f(l).reelState.symbols,gt,(p,s)=>{Sp(p,{reelIndex:u,get reelSymbol(){return f(s)}})}),g(i,d)}),g(n,r),B()}var xp=L("<!> <!>",1),Ap=L("<!> <!>",1);function Tp(n,e){k(e,!0);const t=ce();let r=Z(!0);t.eventEmitter.subscribeOnMount({stopButtonClick:()=>t.stateGameDerived.enhancedBoard.stop(),boardSettle:({board:u})=>t.stateGameDerived.enhancedBoard.settle(u),boardShow:()=>N(r,!0),boardHide:()=>N(r,!1),boardWithAnimateSymbols:async({symbolPositions:u})=>{const d=()=>u.map(async h=>{const p=t.stateGame.board[h.reel].reelState.symbols[h.row];p.symbolState="win",await Me(s=>p.oncomplete=s),p.symbolState="postWinStatic"});await Promise.all(d())},boardWithMovingMultiplierTexts:()=>{t.stateGame.board.forEach(u=>{u.reelState.symbols.forEach(d=>{d.rawSymbol.name==="M"&&(d.rawSymbol={...d.rawSymbol,name:"M_TAKEN"})})})}}),t.stateGameDerived.enhancedBoard.readyToSpinEffect();var o=E(),i=w(o);{var l=u=>{var d=Ap(),h=w(d);lr(h,{animate:!1,children:(s,a)=>{wt(s,{children:(c,m)=>{var _=xp(),v=w(_);xi(v,{});var y=x(v,2);Us(y,{}),g(c,_)},$$slots:{default:!0}})},$$slots:{default:!0}});var p=x(h,2);lr(p,{animate:!0,children:(s,a)=>{wt(s,{children:(c,m)=>{Us(c,{})},$$slots:{default:!0}})},$$slots:{default:!0}}),g(u,d)};Q(i,u=>{f(r)&&u(l)})}g(n,o),B()}function Pp(n,e){k(e,!0);const t=ce();let r=Z("anticipation_intro");be(()=>{e.reel.reelState.motion==="stopped"&&N(r,"anticipation_out")});const o=b(()=>t.stateGameDerived.boardLayout().x-t.stateGameDerived.boardLayout().width*.5+(e.reel.reelIndex+fi)*ie),i=b(()=>t.stateGameDerived.boardLayout().y-ie*.06);ke(n,{key:"anticipation",width:ie*.56,get x(){return f(o)},get y(){return f(i)},children:(l,u)=>{const d=b(()=>f(r)==="anticipation_loop"),h=b(()=>fe.timeScale());Be(l,{trackIndex:0,get animationName(){return f(r)},get loop(){return f(d)},get timeScale(){return f(h)},listener:{complete:()=>{f(r)==="anticipation_intro"&&N(r,"anticipation_loop"),f(r)==="anticipation_out"&&e.oncomplete()}}})},$$slots:{default:!0}}),B()}var Ip=L("<!> <!>",1);function Ep(n,e){k(e,!0);const t=ce(),r=b(()=>t.stateGame.board.some(d=>d.reelState.anticipating));var o=Ip(),i=w(o);{var l=d=>{Bo(d,{onmount:()=>(t.eventEmitter.broadcast({type:"soundLoop",name:"sfx_anticipation"}),t.eventEmitter.broadcast({type:"soundFade",name:"sfx_anticipation",from:0,to:1,duration:Oe}),()=>{t.eventEmitter.broadcast({type:"soundStop",name:"sfx_anticipation"})})})};Q(i,d=>{f(r)&&d(l)})}var u=x(i,2);ct(u,17,()=>t.stateGame.board,gt,(d,h,p)=>{var s=E(),a=w(s);{var c=m=>{Pp(m,{get reel(){return f(h)},oncomplete:()=>f(h).reelState.anticipating=!1})};Q(a,m=>{f(h).reelState.anticipating&&m(c)})}g(d,s)}),g(n,o),B()}function Lp(n,e){k(e,!0);const t=ce(),r=new De(0),o=new De(1);let i=Z(!0),l=Z(e.win.mult>1);Ie(async()=>{await ut(Oe/fe.timeScale()),N(l,!1)}),Ie(async()=>{f(l)&&(await ut(Oe),t.eventEmitter.broadcast({type:"soundOnce",name:"sfx_multiplier_combine_a"}),await o.set(.1,{duration:200/fe.timeScale()}),await o.set(1,{duration:200/fe.timeScale()}))}),Ie(async()=>{await r.set(-100,{duration:Oe*2/fe.timeScale()}),N(i,!1)}),He(n,{get show(){return f(i)},oncomplete:()=>{f(i)||e.win.oncomplete()},children:(u,d)=>{const h=b(()=>ie*(e.win.reel+.5)),p=b(()=>ie*(e.win.row-.5)+r.current),s=b(()=>f(l)?`${Ht(e.win.win)} X ${e.win.mult}`:Ht(e.win.result));dt(u,{get x(){return f(h)},get y(){return f(p)},get scale(){return o.current},get text(){return f(s)},anchor:.5,style:{fontFamily:"gold",fontSize:ie*.5}})},$$slots:{default:!0}}),B()}function kp(n,e){k(e,!0);const t=ce();let r=Z(ne([]));t.eventEmitter.subscribeOnMount({showClusterWinAmounts:async o=>{N(r,ne(o.wins.map(l=>({...l,oncomplete:()=>{}}))));const i=()=>f(r).map(async l=>{await Me(u=>l.oncomplete=u)});await Promise.all(i()),N(r,ne([]))}}),wt(n,{children:(o,i)=>{var l=E(),u=w(l);ct(u,17,()=>f(r),gt,(d,h)=>{Lp(d,{get win(){return f(h)}})}),g(o,l)},$$slots:{default:!0}}),B()}function Bp(n,e){k(e,!0);const t=b(()=>Dr({rawSymbol:e.tumbleSymbol.rawSymbol,state:e.tumbleSymbol.symbolState})),r=b(()=>Yo(e.reelIndex)),o=b(()=>f(t).type==="spine");Ii(n,{get x(){return f(r)},get y(){return e.tumbleSymbol.symbolY.current},get animating(){return f(o)},children:(i,l)=>{Pi(i,{get state(){return e.tumbleSymbol.symbolState},get rawSymbol(){return e.tumbleSymbol.rawSymbol},get oncomplete(){return e.tumbleSymbol.oncomplete}})},$$slots:{default:!0}}),B()}function Ks(n,e){k(e,!1);const t=ce();Ee();var r=E(),o=w(r);ct(o,1,()=>t.stateGameDerived.tumbleBoardCombined(),gt,(i,l,u)=>{var d=E(),h=w(d);ct(h,1,()=>f(l),gt,(p,s)=>{Bp(p,{reelIndex:u,get tumbleSymbol(){return f(s)}})}),g(i,d)}),g(n,r),B()}var Mp=L("<!> <!>",1),Dp=L("<!> <!>",1);function $p(n,e){k(e,!0);const t=ce();let r=Z(!1);const o=({initY:p,rawSymbol:s})=>{const a=new De(p);return ne({symbolY:a,rawSymbol:s,symbolState:"static",oncomplete:()=>{}})},i=({addingBoard:p})=>t.stateGameDerived.boardRaw().map((s,a)=>{const c=p[a]??[];return c.map((_,v)=>{const y=sr(v-1-c.length);return o({initY:y,rawSymbol:_})})}),l=()=>t.stateGameDerived.boardRaw().map(p=>p.map((a,c)=>{const m=sr(c-1);return o({initY:m,rawSymbol:a})}));t.eventEmitter.subscribeOnMount({tumbleBoardShow:()=>N(r,!0),tumbleBoardHide:()=>N(r,!1),tumbleBoardInit:({addingBoard:p})=>{t.stateGame.tumbleBoardAdding=i({addingBoard:p}),t.stateGame.tumbleBoardBase=l()},tumbleBoardReset:()=>{t.stateGame.tumbleBoardAdding=[],t.stateGame.tumbleBoardBase=[]},tumbleBoardExplode:async({explodingPositions:p})=>{const s=()=>p.map(async a=>{const c=t.stateGame.tumbleBoardBase[a.reel][a.row];c.symbolState="explosion",await Me(m=>c.oncomplete=m)});await Promise.all(s())},tumbleBoardRemoveExploded:()=>{t.stateGame.tumbleBoardBase.forEach((p,s)=>{t.stateGame.tumbleBoardBase[s]=p.filter(a=>a.symbolState!=="explosion")})},tumbleBoardSlideDown:async()=>{const p=()=>zt.flatten(t.stateGameDerived.tumbleBoardCombined().map(s=>s.map(async(a,c)=>{const m=sr(c-1);m!==a.symbolY.current&&(await a.symbolY.set(m,{duration:200,easing:pa}),c>0&&c<s.length-1&&(a.symbolState="land",t.stateGameDerived.onSymbolLand({rawSymbol:a.rawSymbol}),await Me(v=>{a.oncomplete=()=>{a.symbolState="static",v()}})))})));await Promise.all(p())}});var u=E(),d=w(u);{var h=p=>{var s=Dp(),a=w(s);lr(a,{animate:!1,children:(m,_)=>{wt(m,{children:(v,y)=>{var S=Mp(),A=w(S);xi(A,{});var P=x(A,2);Ks(P,{}),g(v,S)},$$slots:{default:!0}})},$$slots:{default:!0}});var c=x(a,2);lr(c,{animate:!0,children:(m,_)=>{wt(m,{children:(v,y)=>{Ks(v,{})},$$slots:{default:!0}})},$$slots:{default:!0}}),g(p,s)};Q(d,p=>{f(r)&&p(h)})}g(n,u),B()}function Op(n,e){k(e,!0);const t=ce(),r=b(()=>({x:t.stateGameDerived.boardLayout().width*.5,y:-100*.8*.58})),o=b(()=>({x:t.stateGameDerived.boardLayout().width*(t.stateGame.gameType==="baseGame"?.5:.37),y:-100*.8*.68})),i=b(()=>t.stateLayoutDerived.isStacked()?f(o):f(r)),l=b(()=>t.stateLayoutDerived.isStacked()?1.28:1);He(n,{get show(){return e.show},children:(u,d)=>{wt(u,{children:(h,p)=>{G(h,q(()=>f(i),{get scale(){return f(l)},children:(s,a)=>{var c=E(),m=w(c);D(m,()=>e.children),g(s,c)},$$slots:{default:!0}}))},$$slots:{default:!0}})},$$slots:{default:!0}}),B()}var Cp=L("<!> <!>",1),Rp=L("<!> <!> <!>",1);function Np(n,e){k(e,!0);const t="Frame_TumbleWin.png",r=532/143,o=ie*.28,i={width:o*r,height:o},l="Frame_Tumble.png",u=1442/374,d=ie*.8,h={width:d*u,height:d};var p=Rp(),s=w(p);Ge(s,q({anchor:.5,key:l},h));var a=x(s,2);G(a,{y:-28.000000000000004*1.2,children:(m,_)=>{var v=Cp(),y=w(v);Ge(y,q({anchor:.5,key:t},i));var S=x(y,2);dt(S,{anchor:.5,y:-28.000000000000004*.025,text:"TUMBLE WIN",style:{fontFamily:"gold",fontSize:o*.45}}),g(m,v)},$$slots:{default:!0}});var c=x(a,2);D(c,()=>e.children,()=>({frameSizes:h})),g(n,p),B()}var Gp=L("<!> <!>",1);function Wp(n,e){k(e,!0);const t=new De(0),r=b(()=>e.animate?"explosion":"idle"),o=async()=>{await t.set(e.amount),e.oncomplete()};be(()=>{f(r)==="idle"&&o()}),ke(n,{key:"tumble_win",get width(){return e.width},children:(i,l)=>{var u=Gp(),d=w(u);Be(d,{trackIndex:0,get animationName(){return f(r)},listener:{complete:()=>{f(r)==="explosion"&&e.oncomplete()},event:(p,s)=>{var a;((a=s.data)==null?void 0:a.name)==="update_text"&&t.set(e.amount)}}});var h=x(d,2);bt(h,{slotName:"slot_win",children:(p,s)=>{const a=b(()=>Ht(t.current));fr(p,{anchor:.5,style:{fontFamily:"gold",fontSize:.65*ie},get text(){return f(a)},get maxWidth(){return e.width}})},$$slots:{default:!0}}),g(i,u)},$$slots:{default:!0}}),B()}function Fp(n,e){k(e,!0);const t=ce();let r=Z(!1),o=Z(0),i=Z(!1),l=Z(()=>{});t.eventEmitter.subscribeOnMount({tumbleWinAmountShow:()=>N(r,!0),tumbleWinAmountHide:()=>N(r,!1),tumbleWinAmountReset:()=>{N(o,0),N(i,!1),N(l,()=>{})},tumbleWinAmountUpdate:async u=>{f(o)!==u.amount&&(N(o,ne(u.amount)),N(i,ne(u.animate)),await Me(d=>N(l,ne(d))))}}),Op(n,{get show(){return f(r)},children:(u,d)=>{Np(u,{children:(p,s)=>{let a=()=>s==null?void 0:s().frameSizes;Wp(p,{get amount(){return f(o)},get animate(){return f(i)},get oncomplete(){return f(l)},get width(){return a().width}})},$$slots:{default:!0}})},$$slots:{default:!0}}),B()}var zp=L("<!> <!>",1),Hp=L("<!> <!>",1);function Up(n,e){k(e,!0);const t=ie*.641,r=ce(),o=b(()=>r.stateLayoutDerived.isStacked()?1.28:1),i=b(()=>({x:r.stateGameDerived.boardLayout().width-t*1.3,y:-100*.47})),l=b(()=>({x:r.stateGameDerived.boardLayout().width-t*1.5,y:-100*.55})),u=b(()=>r.stateLayoutDerived.isStacked()?f(l):f(i));let d=Z(!1),h=Z("static"),p=Z(1),s=new De(1),a=Z(()=>{});r.eventEmitter.subscribeOnMount({globalMultiplierShow:()=>N(d,!0),globalMultiplierHide:()=>N(d,!1),globalMultiplierUpdate:async c=>{c.multiplier===1&&f(p)!==1&&(N(h,"reset"),await ut(300),r.eventEmitter.broadcast({type:"soundOnce",name:"sfx_multiplier_reset"}),s.set(c.multiplier)),c.multiplier>f(p)&&(r.eventEmitter.broadcast({type:"soundOnce",name:"sfx_multiplier_update"}),N(h,"increment")),f(h)!=="static"&&(N(p,ne(c.multiplier)),await Me(m=>N(a,ne(m))),N(h,"static"),s.set(f(p),{duration:0}))}}),He(n,{get show(){return f(d)},children:(c,m)=>{wt(c,{children:(_,v)=>{G(_,q(()=>f(u),{get scale(){return f(o)},children:(y,S)=>{ke(y,{key:"globalMultiplier",width:t,children:(A,P)=>{var T=Hp(),C=w(T);const O=b(()=>fe.timeScale());Be(C,{trackIndex:0,get animationName(){return f(h)},get timeScale(){return f(O)},listener:{complete:()=>{f(a)()}}});var K=x(C,2);kd(K,{children:(W,X)=>{var H=zp(),U=w(H);bt(U,{slotName:"slot_multi",children:(M,I)=>{const $=b(()=>`${Math.round(s.current)}×`);dt(M,{anchor:.5,get text(){return f($)},style:{fontFamily:"gold",fontSize:ie*5.2}})},$$slots:{default:!0}});var R=x(U,2);bt(R,{slotName:"slot_multi_next",children:(M,I)=>{const $=b(()=>`${f(p)}×`);dt(M,{anchor:.5,get text(){return f($)},style:{fontFamily:"gold",fontSize:ie*5.2}})},$$slots:{default:!0}}),g(W,H)},$$slots:{default:!0}}),g(A,T)},$$slots:{default:!0}})},$$slots:{default:!0}}))},$$slots:{default:!0}})},$$slots:{default:!0}}),B()}var Kp=L("<!> <!>",1);function jp(n,e){k(e,!0);const t=b(()=>Dr({rawSymbol:e.multiplierSymbol.rawSymbol,state:e.multiplierSymbol.symbolState})),r=b(()=>wi({rawSymbol:e.multiplierSymbol.rawSymbol,state:e.multiplierSymbol.symbolState}));var o=Kp(),i=w(o);Ti(i,{get symbolBackgroundInfo(){return f(r)},get x(){return e.multiplierSymbol.initX},get y(){return e.multiplierSymbol.initY}});var l=x(i,2);const u=b(()=>({complete:e.multiplierSymbol.oncomplete}));Ai(l,{get symbolInfo(){return f(t)},get x(){return e.multiplierSymbol.symbolX.current},get y(){return e.multiplierSymbol.symbolY.current},get listener(){return f(u)}}),g(n,o),B()}function Vp(n,e){k(e,!1);const t=ce();Ee();var r=E(),o=w(r);ct(o,1,()=>t.stateGame.multiplierBoard,gt,(i,l,u)=>{var d=E(),h=w(d);ct(h,1,()=>f(l),gt,(p,s)=>{var a=E(),c=w(a);{var m=_=>{jp(_,{reelIndex:u,get multiplierSymbol(){return f(s)}})};Q(c,_=>{f(s)&&_(m)})}g(p,a)}),g(i,d)}),g(n,r),B()}function Yp(n,e){k(e,!0);const t=ce();let r=Z(!1);const o=({rawSymbol:h,reelIndex:p,symbolIndex:s,reelLength:a})=>{if(h.name==="M"&&s>0&&s<a-1){const c=Yo(p),m=sr(s-1),_=new De(c),v=new De(m);return ne({initX:c,initY:m,symbolX:_,symbolY:v,rawSymbol:h,symbolState:"win",oncomplete:()=>{}})}},i=()=>t.stateGameDerived.boardRaw().map((h,p)=>h.map((s,a)=>o({rawSymbol:s,reelIndex:p,symbolIndex:a,reelLength:h.length})));t.eventEmitter.subscribeOnMount({multiplierBoardShow:()=>N(r,!0),multiplierBoardHide:()=>N(r,!1),multiplierBoardInit:()=>{t.stateGame.multiplierBoard=i()},multiplierBoardReset:()=>{t.stateGame.multiplierBoard=[]},multiplierBoardAnimate:async()=>{const h=()=>zt.flatten(t.stateGame.multiplierBoard.map(p=>p.filter(Boolean).map(async s=>{await Me(a=>s.oncomplete=a)})));await Promise.all(h())},multiplierBoardMove:async()=>{const h=()=>zt.flatten(t.stateGame.multiplierBoard.map(p=>p.filter(Boolean).map(async s=>{const a={x:t.stateGameDerived.boardLayout().width*.5,y:t.stateGameDerived.boardLayout().height*.5},c={duration:500,easing:au},m=()=>s.symbolX.set(a.x,c),_=()=>s.symbolY.set(a.y,c);await Promise.all([m(),_()])})));await Promise.all(h())}});var l=E(),u=w(l);{var d=h=>{wt(h,{children:(p,s)=>{Vp(p,{})},$$slots:{default:!0}})};Q(u,h=>{f(r)&&h(d)})}g(n,l),B()}var Xp=L("<!> <!> <!>",1);function qp(n,e){k(e,!0);const t=s=>{const a=b(()=>`${f(l)} X`);dt(s,{scale:3,anchor:.5,get text(){return f(a)},style:{fontFamily:"gold",fontSize:ie,letterSpacing:-5}})},r=ce();let o=Z(!1),i=Z("static"),l=Z(0),u=Z(()=>{});r.eventEmitter.subscribeOnMount({multiplierTotalShow:()=>N(o,!0),multiplierTotalHide:()=>N(o,!1),multiplierTotalUpdate:s=>N(l,ne(s.totalMultiplier)),multiplierTotalAnimate:async()=>{N(i,"explosion"),await Me(s=>N(u,ne(s)))}});var d=E(),h=w(d);{var p=s=>{wt(s,{children:(a,c)=>{const m=b(()=>r.stateGameDerived.boardLayout().width*.5),_=b(()=>r.stateGameDerived.boardLayout().height*.5),v=b(()=>r.stateGameDerived.boardLayout().width*4);ke(a,{get x(){return f(m)},get y(){return f(_)},key:"tumble_multiplier",get width(){return f(v)},children:(y,S)=>{var A=Xp(),P=w(A);const T=b(()=>fe.timeScale()),C=b(()=>({complete:f(u)}));Be(P,{trackIndex:0,get animationName(){return f(i)},get timeScale(){return f(T)},get listener(){return f(C)}});var O=x(P,2);bt(O,{slotName:"tumblemultiplier",children:(W,X)=>{t(W)},$$slots:{default:!0}});var K=x(O,2);bt(K,{slotName:"tumblemultiplier_add",children:(W,X)=>{t(W)},$$slots:{default:!0}}),g(y,A)},$$slots:{default:!0}})},$$slots:{default:!0}})};Q(h,s=>{f(o)&&s(p)})}g(n,d),B()}const Jp={alpha:{start:1,end:1},scale:{start:.3,end:.4,minimumScaleMultiplier:1},color:{start:"#ffffff",end:"#ffffff"},speed:{start:700,end:800,minimumSpeedMultiplier:1},acceleration:{x:0,y:600},maxSpeed:0,startRotation:{min:255,max:285},noRotation:!1,rotationSpeed:{min:-90,max:90},lifetime:{min:6,max:6},blendMode:"normal",frequency:.4,emitterLifetime:-1,maxParticles:100,pos:{x:0,y:0},addAtBack:!1,spawnType:"rect",spawnRect:{x:-100,y:0,w:200,h:0}},Zp={zero:null,standard:null,small:null,nice:null,substantial:{speedOption:{list:[{value:300,time:0},{value:400,time:0}]},frequency:.2,emitterLifetime:-1,spawnOption:{type:"rect",spawnRect:{x:-150,y:0,w:300,h:0}}},big:{speedOption:{list:[{value:650,time:0},{value:700,time:0}]},frequency:.18,emitterLifetime:-1,spawnOption:{type:"rect",spawnRect:{x:-150,y:0,w:300,h:0}}},superwin:{speedOption:{list:[{value:750,time:0},{value:800,time:0}]},frequency:.15,emitterLifetime:-1,spawnOption:{type:"rect",spawnRect:{x:-200,y:0,w:400,h:0}}},mega:{speedOption:{list:[{value:850,time:0},{value:900,time:0}]},frequency:.12,emitterLifetime:-1,spawnOption:{type:"rect",spawnRect:{x:-200,y:0,w:400,h:0}}},epic:{speedOption:{list:[{value:950,time:0},{value:1050,time:0}]},frequency:.11,emitterLifetime:-1,spawnOption:{type:"rect",spawnRect:{x:-250,y:0,w:500,h:0}}},max:{speedOption:{list:[{value:1100,time:0},{value:1200,time:0}]},frequency:.1,emitterLifetime:-1,spawnOption:{type:"rect",spawnRect:{x:-250,y:0,w:500,h:0}}}};function Ei(n,e){k(e,!0);const t=ce(),r=b(()=>e!=null&&e.levelAlias?Zp[e.levelAlias]:null),o=b(()=>({...Jp,...f(r)}));var i=E(),l=w(i);{var u=d=>{Pe(d,{children:(h,p)=>{G(h,{get x(){return t.stateGameDerived.boardLayout().x},get y(){return t.stateGameDerived.boardLayout().y},children:(s,a)=>{Bd(s,{get config(){return f(o)},key:"coins",get emit(){return e.emit}})},$$slots:{default:!0}})},$$slots:{default:!0}})};Q(l,d=>{f(o)&&d(u)})}g(n,i),B()}var Qp=L("<!> <!>",1);function e_(n,e){k(e,!0);const t=ce();let r=Z("intro");ke(n,{get width(){return t.stateGameDerived.boardLayout().width},key:"bigwin",children:(o,i)=>{var l=Qp(),u=w(l);const d=b(()=>f(r)==="idle");Be(u,{trackIndex:0,get animationName(){return e.animationMap[f(r)]},get loop(){return f(d)},listener:{complete:()=>{f(r)==="intro"&&N(r,"idle"),f(r)}}});var h=x(u,2);bt(h,{slotName:"slot_win_count",children:(p,s)=>{var a=E(),c=w(a);D(c,()=>e.children),g(p,a)},$$slots:{default:!0}}),g(o,l)},$$slots:{default:!0}}),B()}var t_=L("<!> <!> <!> <!> <!>",1);function n_(n,e){k(e,!0);const t=ce();let r=Z(!1),o=Z(0),i=Z(()=>{}),l=()=>{};t.eventEmitter.subscribeOnMount({winShow:()=>N(r,!0),winHide:()=>N(r,!1),winUpdate:async d=>{N(o,ne(d.amount)),await Me(h=>N(i,ne(h)))}});const u=b(()=>t.stateGameDerived.getWinLevelDataByBookEventAmount(f(o)));He(n,{get show(){return f(r)},children:(d,h)=>{var p=E(),s=w(p);{var a=c=>{const m=b(()=>f(u).type==="big"),_=b(()=>f(u).presentDuration);Ra(c,{get amount(){return f(o)},get duration(){return f(_)},oncomplete:()=>l(),children:(y,S)=>{let A=()=>S==null?void 0:S().countUpAmount,P=()=>S==null?void 0:S().startCountUp,T=()=>S==null?void 0:S().finishCountUp,C=()=>S==null?void 0:S().countUpCompleted;var O=t_(),K=w(O);{var W=F=>{Br(F,{backgroundColor:0,backgroundAlpha:.5})};Q(K,F=>{f(m)&&F(W)})}var X=x(K,2);Bo(X,{onmount:async()=>{await P()(),await ut(300),f(i)()}});var H=x(X,2);Pe(H,{children:(F,J)=>{G(F,{get x(){return t.stateGameDerived.boardLayout().x},get y(){return t.stateGameDerived.boardLayout().y},children:(pe,re)=>{var de=E(),Ce=w(de);{var ot=st=>{e_(st,{get animationMap(){return f(u).animation},children:(Tt,$e)=>{const pt=b(()=>Ht(A()));fr(Tt,{anchor:.5,maxWidth:2130,get text(){return f(pt)},style:{fontFamily:"gold",fontSize:ie*3.6,align:"center",fontWeight:"bold",letterSpacing:0}})},$$slots:{default:!0}})},Ze=st=>{const Tt=b(()=>t.stateLayoutDerived.canvasSizes().width/t.stateLayoutDerived.mainLayout().scale),$e=b(()=>Ht(A()));fr(st,{anchor:.5,get maxWidth(){return f(Tt)},get text(){return f($e)},style:{fontFamily:"gold",fontSize:ie,align:"center",fontWeight:"bold",letterSpacing:0}})};Q(Ce,st=>{f(u).animation?st(ot):st(Ze,!1)})}g(pe,de)},$$slots:{default:!0}})},$$slots:{default:!0}});var U=x(H,2);const R=b(()=>!C()),M=b(()=>{var F;return(F=f(u))==null?void 0:F.alias});Ei(U,{get emit(){return f(R)},get levelAlias(){return f(M)}});var I=x(U,2);{var $=F=>{$r(F,{onpress:()=>C()?f(i)():T()()})};Q(I,F=>{f(m)&&F($)})}g(y,O)},$$slots:{default:!0}})};Q(s,c=>{f(u)&&c(a)})}g(d,p)},$$slots:{default:!0}}),B()}var r_=L("<!> <!>",1);function Li(n,e){k(e,!0);const t=ce(),r=920/720,o=ie*5,i={width:o,height:o/r},l={width:ie*5,height:ie*5};let u=Z("intro");Pe(n,{children:(d,h)=>{const p=b(()=>tt({anchor:.5,sizes:i}));G(d,{get x(){return t.stateGameDerived.boardLayout().x},get y(){return t.stateGameDerived.boardLayout().y},get pivot(){return f(p)},children:(s,a)=>{const c=b(()=>l.width*.5),m=b(()=>l.height*.4);ke(s,{key:"fsIntro",get width(){return l.width},get x(){return f(c)},get y(){return f(m)},children:(_,v)=>{var y=r_(),S=w(y);const A=b(()=>f(u)==="idle");Be(S,{trackIndex:0,get animationName(){return f(u)},get loop(){return f(A)},listener:{complete:()=>N(u,"idle")}});var P=x(S,2);bt(P,{slotName:"slot_text_placeholder",children:(T,C)=>{var O=E(),K=w(O);D(K,()=>e.children,()=>({sizes:i})),g(T,O)},$$slots:{default:!0}}),g(_,y)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),B()}var o_=L("<!> <!>",1),s_=L("<!> <!> <!>",1),a_=L("<!> <!> <!>",1);function i_(n,e){k(e,!0);const t=ce(),r={width:ie*1.7};let o=Z(!1),i=Z("intro"),l=Z(0),u=Z(()=>{});t.eventEmitter.subscribeOnMount({freeSpinIntroShow:()=>N(o,!0),freeSpinIntroHide:()=>N(o,!1),freeSpinIntroUpdate:async d=>{d.extraSpins&&t.eventEmitter.broadcast({type:"soundOnce",name:"sfx_fs_respins"}),N(l,ne(d.extraSpins??d.totFS)),await Me(h=>N(u,ne(h)))}}),He(n,{get show(){return f(o)},children:(d,h)=>{var p=a_(),s=w(p);Br(s,{backgroundColor:0,backgroundAlpha:.5});var a=x(s,2);Li(a,{children:(_,v)=>{let y=()=>v==null?void 0:v().sizes;var S=s_(),A=w(S);const P=b(()=>Ne.lang());Ge(A,{y:-240,anchor:.5,width:1100,height:343.20000000000005,get key(){return`freespins_${f(P)??""}.png`}});var T=x(A,2);const C=b(()=>y().height*.1);ke(T,{key:"fsIntroNumber",get width(){return r.width},get y(){return f(C)},children:(K,W)=>{var X=o_(),H=w(X);const U=b(()=>f(i)==="idle");Be(H,{trackIndex:0,get animationName(){return f(i)},get loop(){return f(U)},listener:{complete:()=>N(i,"idle")}});var R=x(H,2);bt(R,{slotName:"slot_number",children:(M,I)=>{dt(M,{anchor:{x:.5,y:.5},get text(){return f(l)},style:{fontFamily:"gold",fontSize:ie,fontWeight:"bold"}})},$$slots:{default:!0}}),g(K,X)},$$slots:{default:!0}});var O=x(T,2);Ge(O,{y:ie*3.5,anchor:.5,width:402.6,height:92.4,key:"freespins.png"}),g(_,S)},$$slots:{default:!0}});var c=x(a,2);$r(c,{onpress:()=>f(u)()}),g(d,p)},$$slots:{default:!0}}),B()}var l_=L("<!> <!>",1),u_=L("<!> <!>",1);function c_(n,e){k(e,!0);const t=ce(),r="Frame_FSCounter.png",o="Frame_Tumble.png",i=824/622,l=1442/374,u=t.stateLayoutDerived.isStacked()?o:r,d=b(()=>ie*(t.stateLayoutDerived.isStacked()?5.3:2)),h=b(()=>({width:f(d),height:f(d)/(t.stateLayoutDerived.isStacked()?l:i)})),p=b(()=>t.stateLayoutDerived.layoutType()==="tablet"?.7:1),s=b(()=>({x:t.stateGameDerived.boardLayout().x-t.stateGameDerived.boardLayout().width*.5-f(h).width-ie*.7,y:t.stateGameDerived.boardLayout().y-t.stateGameDerived.boardLayout().height*.5})),a=b(()=>({x:t.stateGameDerived.boardLayout().x-f(h).width*.5*f(p),y:t.stateGameDerived.boardLayout().y+t.stateGameDerived.boardLayout().height*.5+f(h).height*.75})),c=b(()=>({x:t.stateGameDerived.boardLayout().x-f(h).width*.5,y:t.stateGameDerived.boardLayout().y+t.stateGameDerived.boardLayout().height*.5+f(h).height*1.5})),m=b(()=>t.stateLayoutDerived.isStacked()?t.stateLayoutDerived.layoutType()==="tablet"?f(a):f(c):f(s)),_=ie*(t.stateLayoutDerived.isStacked()?.4:.275),v=.25*ie;let y=Z(!1),S=Z(0),A=Z(0),P=Z(ne({width:0,height:0})),T=Z(ne({width:0,height:0}));const C=b(()=>t.stateLayoutDerived.isStacked()?{width:f(P).width+f(T).width+v,height:f(P).height}:{width:f(P).width,height:f(P).height+f(T).height}),O=b(()=>t.stateLayoutDerived.isStacked()?{x:f(P).width+v+f(T).width/2,y:0}:{x:f(P).width/2,y:f(P).height});t.eventEmitter.subscribeOnMount({freeSpinCounterShow:()=>N(y,!0),freeSpinCounterHide:()=>N(y,!1),freeSpinCounterUpdate:K=>{K.current!==void 0&&N(S,ne(K.current)),K.total!==void 0&&N(A,ne(K.total))}}),Pe(n,{children:(K,W)=>{He(K,q({get show(){return f(y)}},()=>f(m),{get scale(){return f(p)},children:(X,H)=>{var U=u_(),R=w(U);Ge(R,q({key:u},()=>f(h)));var M=x(R,2);const I=b(()=>f(h).width*.5),$=b(()=>f(h).height*(t.stateLayoutDerived.isStacked()?.46:.48)),F=b(()=>tt({sizes:f(C),anchor:{x:.5,y:.5}}));G(M,{get x(){return f(I)},get y(){return f($)},get pivot(){return f(F)},children:(J,pe)=>{var re=l_(),de=w(re);dt(de,{text:"FREE SPIN",style:{fontFamily:"gold",fontSize:_,wordWrap:!1},onresize:Ze=>N(P,ne(Ze))});var Ce=x(de,2);const ot=b(()=>`${f(S)} OF ${f(A)}`);dt(Ce,q({get text(){return f(ot)}},()=>f(O),{anchor:{x:.5,y:0},style:{fontFamily:"gold",fontSize:_},onresize:Ze=>N(T,ne(Ze))})),g(J,re)},$$slots:{default:!0}}),g(X,U)},$$slots:{default:!0}}))},$$slots:{default:!0}}),B()}var d_=L("<!> <!>",1),f_=L("<!> <!> <!>",1),h_=L("<!> <!> <!> <!> <!>",1);function m_(n,e){k(e,!0);const t=ce(),r={width:ie*1.7};let o=Z(!1),i=Z("intro"),l=Z(0),u=Z(()=>{}),d=()=>{};t.eventEmitter.subscribeOnMount({freeSpinOutroShow:()=>N(o,!0),freeSpinOutroHide:async()=>N(o,!1),freeSpinOutroCountUp:async p=>{N(l,ne(p.amount)),await Me(s=>N(u,ne(s)))}});const h=b(()=>t.stateGameDerived.getWinLevelDataByBookEventAmount(f(l)));He(n,{get show(){return f(o)},children:(p,s)=>{var a=E(),c=w(a);{var m=_=>{const v=b(()=>f(h).presentDuration),y=b(()=>f(h).type==="big"),S=b(()=>f(y)?.1:-.08);Ra(_,{get amount(){return f(l)},get duration(){return f(v)},oncomplete:()=>d(),children:(P,T)=>{let C=()=>T==null?void 0:T().countUpAmount,O=()=>T==null?void 0:T().startCountUp,K=()=>T==null?void 0:T().finishCountUp,W=()=>T==null?void 0:T().countUpCompleted;var X=h_(),H=w(X);Bo(H,{onmount:()=>O()()});var U=x(H,2);Br(U,{backgroundColor:0,backgroundAlpha:.5});var R=x(U,2);Li(R,{children:(pe,re)=>{let de=()=>re==null?void 0:re().sizes;var Ce=f_(),ot=w(Ce);{var Ze=Pt=>{const Dn=b(()=>Ne.lang());Ge(Pt,{y:-240,anchor:.5,width:1100,height:343.20000000000005,get key(){return`freespins_${f(Dn)??""}.png`}})},st=Pt=>{const Dn=b(()=>Ne.lang());Ge(Pt,{y:-270,anchor:.5,width:2250,height:360,get key(){return`winsmall_${f(Dn)??""}.png`}})};Q(ot,Pt=>{f(y)?Pt(Ze):Pt(st,!1)})}var Tt=x(ot,2);const $e=b(()=>ie*(f(y)?3.3:3)),pt=b(()=>177*(f(y)?2.2:3)),xe=b(()=>42*(f(y)?2.2:3));Ge(Tt,{get y(){return f($e)},anchor:.5,get width(){return f(pt)},get height(){return f(xe)},key:"totalwin.png"});var Ue=x(Tt,2);const ki=b(()=>de().height*f(S));ke(Ue,{key:"fsOutroNumber",get width(){return r.width},get y(){return f(ki)},children:(Pt,Dn)=>{var Jo=d_(),Zo=w(Jo);const Bi=b(()=>f(i)==="idle");Be(Zo,{trackIndex:0,get animationName(){return f(i)},get loop(){return f(Bi)},listener:{complete:()=>N(i,"idle")}});var Mi=x(Zo,2);bt(Mi,{slotName:"slot_number",children:(Di,x_)=>{const $i=b(()=>Ht(C()));fr(Di,{anchor:.5,style:{fontFamily:"gold",fontSize:1.5*ie},get text(){return f($i)},get maxWidth(){return de().width}})},$$slots:{default:!0}}),g(Pt,Jo)},$$slots:{default:!0}}),g(pe,Ce)},$$slots:{default:!0}});var M=x(R,2);const I=b(()=>!W()),$=b(()=>{var J;return(J=f(h))==null?void 0:J.alias});Ei(M,{get emit(){return f(I)},get levelAlias(){return f($)}});var F=x(M,2);$r(F,{onpress:()=>W()?f(u)():K()()}),g(P,X)},$$slots:{default:!0}})};Q(c,_=>{f(h)&&_(m)})}g(p,a)},$$slots:{default:!0}}),B()}function p_(n,e){k(e,!0);const t=ce();let r=Z(!1),o=Z(()=>{});t.eventEmitter.subscribeOnMount({transition:async()=>{N(r,!0),await Me(d=>N(o,ne(d)))}});var i=E(),l=w(i);{var u=d=>{Si(d,{oncomplete:()=>{f(o)(),N(r,!1)}})};Q(l,d=>{f(r)&&d(u)})}g(n,i),B()}var js=We(()=>_e),__=L("<!> <!> <!> <!>",1),v_=L("<!> <!>",1),y_=L("<!> <!>",1),g_=L("<!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!>",1),b_=L("<!> <!> <!> <!> <!> <!>",1),w_=L("<!> <!>",1);function S_(n,e){k(e,!1);const t=rl(ce());Ie(()=>ss(t,f(t).stateLayout.showLoadingScreen=!0)),f(t).eventEmitter.subscribeOnMount({buyBonusConfirm:()=>{js(js().modal={name:"buyBonusConfirm"})}}),Ee();var r=w_(),o=w(r);Ad(o,{children:(l,u)=>{var d=b_(),h=w(d);Ym(h,{});var p=x(h,2);Zl(p,{});var s=x(p,2);sp(s,{});var a=x(s,2);Dd(a,{});var c=x(a,2);dp(c,{});var m=x(c,2);{var _=y=>{pp(y,{onloaded:()=>ss(t,f(t).stateLayout.showLoadingScreen=!1)})},v=y=>{var S=g_(),A=w(S);ap(A,{});var P=x(A,2);ip(P,{});var T=x(P,2);Pe(T,{children:($,F)=>{vp($,{})},$$slots:{default:!0}});var C=x(T,2);Pe(C,{children:($,F)=>{var J=__(),pe=w(J);Tp(pe,{});var re=x(pe,2);Ep(re,{});var de=x(re,2);Fp(de,{});var Ce=x(de,2);Up(Ce,{}),g($,J)},$$slots:{default:!0}});var O=x(C,2);Pe(O,{children:($,F)=>{var J=v_(),pe=w(J);$p(pe,{});var re=x(pe,2);kp(re,{}),g($,J)},$$slots:{default:!0}});var K=x(O,2);Pe(K,{children:($,F)=>{var J=y_(),pe=w(J);Yp(pe,{});var re=x(pe,2);qp(re,{}),g($,J)},$$slots:{default:!0}});var W=x(K,2);pm(W,{gameName:J=>{vm(J,{name:"LINES GAME"})},logo:J=>{ze(J,{anchor:{x:1,y:0},text:"ADD YOUR LOGO",style:{fontFamily:"proxima-nova",fontSize:dr*1.5,fontWeight:"600",lineHeight:dr*2,fill:16777215}})},$$slots:{gameName:!0,logo:!0}});var X=x(W,2);n_(X,{});var H=x(X,2);i_(H,{});var U=x(H,2);{var R=$=>{c_($,{})};Q(U,$=>{["desktop","landscape"].includes(f(t).stateLayoutDerived.layoutType())&&$(R)})}var M=x(U,2);m_(M,{});var I=x(M,2);p_(I,{}),g(y,S)};Q(m,y=>{f(t).stateLayout.showLoadingScreen?y(_):y(v,!1)})}g(l,d)},$$slots:{default:!0}});var i=x(o,2);Qc(i,{version:u=>{td(u,{version:"2.0.5"})},$$slots:{version:!0}}),g(n,r),B()}function O_(n,e){k(e,!1),zm(),Ee(),S_(n,{}),B()}export{Pa as A,xa as C,ud as R,od as S,Ia as V,O_ as _,rd as u};
